{
  "version": 3,
  "sources": ["../../../app/node_modules/color-hash/dist/color-hash.js", "../../../app/node_modules/@babel/runtime/helpers/esm/extends.js", "../../../app/node_modules/history/index.js", "../../../app/node_modules/@woofjs/router/node_modules/strict-uri-encode/index.js", "../../../app/node_modules/@woofjs/router/node_modules/decode-uri-component/index.js", "../../../app/node_modules/@woofjs/router/node_modules/split-on-first/index.js", "../../../app/node_modules/@woofjs/router/node_modules/filter-obj/index.js", "../../../app/node_modules/@woofjs/router/node_modules/query-string/index.js", "../../../app/node_modules/@woofjs/router/src/routing.js", "../../../app/src/helpers/typeChecking.js", "../../../app/node_modules/@woofjs/state/src/isState.js", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/utils/errors.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/utils/common.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/utils/plugins.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/core/scope.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/core/finalize.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/core/proxy.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/core/immerClass.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/core/current.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/plugins/es5.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/plugins/patches.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/plugins/mapset.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/plugins/all.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/immer.ts", "../../../app/node_modules/@woofjs/state/node_modules/immer/src/utils/env.ts", "../../../app/node_modules/@woofjs/state/src/getProperty.js", "../../../app/node_modules/@woofjs/state/src/utils.js", "../../../app/node_modules/@woofjs/state/src/makeState.js", "../../../app/node_modules/@woofjs/state/src/mergeStates.js", "../../../app/src/dolla/$Node.js", "../../../app/src/dolla/$Element.js", "../../../app/src/dolla/$Fragment.js", "../../../app/src/dolla/$Text.js", "../../../app/src/dolla/makeRender.js", "../../../app/src/dolla/$Watch.js", "../../../app/src/dolla/$If.js", "../../../app/src/helpers/deepEqual.js", "../../../app/src/dolla/$Each.js", "../../../app/src/makeComponent.js", "../../../app/src/dolla/$Outlet.js", "../../../app/src/dolla/makeDolla.js", "../../../app/src/debug/debug.console.js", "../../../app/src/debug/makeDebug.js", "../../../app/src/makeService.js", "../../../app/src/helpers/joinPath.js", "../../../app/src/helpers/catchLinks.js", "../../../app/src/services/@http.js", "../../../app/src/services/@page.js", "../../../app/src/makeApp.js", "../../app/services/CounterService.js", "../../app/services/MouseService.js", "../../app/utils/logLifecycle.js", "../../app/components/ToggleExample.js", "../../app/components/CounterExample.js", "../../app/components/ConditionalExample.js", "../../app/components/DynamicListExample.js", "../../app/components/TwoWayBindExample.js", "../../app/components/FormExample.js", "../../app/components/MouseFollowerExample.js", "../../app/components/HTTPRequestExample.js", "../../app/app.js"],
  "sourcesContent": ["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _block, _blocks, _bytes, _finalized, _first, _h0, _h1, _h2, _h3, _h4, _h5, _h6, _h7, _hashed, _hBytes, _is224, _lastByteIndex, _start, _inner, _is224_1, _oKeyPad, _sharedMemory;\nexports.__esModule = true;\nexports[\"default\"] = void 0;\nvar BKDRHash = function (str) {\n    var seed = 131;\n    var seed2 = 137;\n    var hash = 0;\n    str += 'x';\n    var MAX_SAFE_INTEGER = Math.floor(9007199254740991 / seed2);\n    for (var i = 0; i < str.length; i++) {\n        if (hash > MAX_SAFE_INTEGER) {\n            hash = Math.floor(hash / seed2);\n        }\n        hash = hash * seed + str.charCodeAt(i);\n    }\n    return hash;\n};\nvar HEX_CHARS = \"0123456789abcdef\".split(\"\");\nvar EXTRA = [\n    -2147483648,\n    8388608,\n    32768,\n    128\n];\nvar SHIFT = [\n    24,\n    16,\n    8,\n    0\n];\nvar K = [\n    1116352408,\n    1899447441,\n    3049323471,\n    3921009573,\n    961987163,\n    1508970993,\n    2453635748,\n    2870763221,\n    3624381080,\n    310598401,\n    607225278,\n    1426881987,\n    1925078388,\n    2162078206,\n    2614888103,\n    3248222580,\n    3835390401,\n    4022224774,\n    264347078,\n    604807628,\n    770255983,\n    1249150122,\n    1555081692,\n    1996064986,\n    2554220882,\n    2821834349,\n    2952996808,\n    3210313671,\n    3336571891,\n    3584528711,\n    113926993,\n    338241895,\n    666307205,\n    773529912,\n    1294757372,\n    1396182291,\n    1695183700,\n    1986661051,\n    2177026350,\n    2456956037,\n    2730485921,\n    2820302411,\n    3259730800,\n    3345764771,\n    3516065817,\n    3600352804,\n    4094571909,\n    275423344,\n    430227734,\n    506948616,\n    659060556,\n    883997877,\n    958139571,\n    1322822218,\n    1537002063,\n    1747873779,\n    1955562222,\n    2024104815,\n    2227730452,\n    2361852424,\n    2428436474,\n    2756734187,\n    3204031479,\n    3329325298,\n];\nvar blocks = [];\nvar Sha256 = /** @class */ (function () {\n    function Sha256(is2241, sharedMemory1) {\n        if (is2241 === void 0) { is2241 = false; }\n        if (sharedMemory1 === void 0) { sharedMemory1 = false; }\n        _block.set(this, void 0);\n        _blocks.set(this, void 0);\n        _bytes.set(this, void 0);\n        _finalized.set(this, void 0);\n        _first.set(this, void 0);\n        _h0.set(this, void 0);\n        _h1.set(this, void 0);\n        _h2.set(this, void 0);\n        _h3.set(this, void 0);\n        _h4.set(this, void 0);\n        _h5.set(this, void 0);\n        _h6.set(this, void 0);\n        _h7.set(this, void 0);\n        _hashed.set(this, void 0);\n        _hBytes.set(this, void 0);\n        _is224.set(this, void 0);\n        _lastByteIndex.set(this, 0);\n        _start.set(this, void 0);\n        this.init(is2241, sharedMemory1);\n    }\n    Sha256.prototype.init = function (is224, sharedMemory) {\n        if (sharedMemory) {\n            blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] = blocks[4] = blocks[5] = blocks[6] = blocks[7] = blocks[8] = blocks[9] = blocks[10] = blocks[11] = blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n            __classPrivateFieldSet(this, _blocks, blocks);\n        }\n        else {\n            __classPrivateFieldSet(this, _blocks, [\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0,\n                0\n            ]);\n        }\n        if (is224) {\n            __classPrivateFieldSet(this, _h0, 3238371032);\n            __classPrivateFieldSet(this, _h1, 914150663);\n            __classPrivateFieldSet(this, _h2, 812702999);\n            __classPrivateFieldSet(this, _h3, 4144912697);\n            __classPrivateFieldSet(this, _h4, 4290775857);\n            __classPrivateFieldSet(this, _h5, 1750603025);\n            __classPrivateFieldSet(this, _h6, 1694076839);\n            __classPrivateFieldSet(this, _h7, 3204075428);\n        }\n        else {\n            __classPrivateFieldSet(this, _h0, 1779033703);\n            __classPrivateFieldSet(this, _h1, 3144134277);\n            __classPrivateFieldSet(this, _h2, 1013904242);\n            __classPrivateFieldSet(this, _h3, 2773480762);\n            __classPrivateFieldSet(this, _h4, 1359893119);\n            __classPrivateFieldSet(this, _h5, 2600822924);\n            __classPrivateFieldSet(this, _h6, 528734635);\n            __classPrivateFieldSet(this, _h7, 1541459225);\n        }\n        __classPrivateFieldSet(this, _block, __classPrivateFieldSet(this, _start, __classPrivateFieldSet(this, _bytes, __classPrivateFieldSet(this, _hBytes, 0))));\n        __classPrivateFieldSet(this, _finalized, __classPrivateFieldSet(this, _hashed, false));\n        __classPrivateFieldSet(this, _first, true);\n        __classPrivateFieldSet(this, _is224, is224);\n    };\n    Sha256.prototype.update = function (message) {\n        if (__classPrivateFieldGet(this, _finalized)) {\n            return this;\n        }\n        var msg;\n        if (message instanceof ArrayBuffer) {\n            msg = new Uint8Array(message);\n        }\n        else {\n            msg = message;\n        }\n        var index = 0;\n        var length = msg.length;\n        var blocks1 = __classPrivateFieldGet(this, _blocks);\n        while (index < length) {\n            var i = void 0;\n            if (__classPrivateFieldGet(this, _hashed)) {\n                __classPrivateFieldSet(this, _hashed, false);\n                blocks1[0] = __classPrivateFieldGet(this, _block);\n                blocks1[16] = blocks1[1] = blocks1[2] = blocks1[3] = blocks1[4] = blocks1[5] = blocks1[6] = blocks1[7] = blocks1[8] = blocks1[9] = blocks1[10] = blocks1[11] = blocks1[12] = blocks1[13] = blocks1[14] = blocks1[15] = 0;\n            }\n            if (typeof msg !== \"string\") {\n                for (i = __classPrivateFieldGet(this, _start); index < length && i < 64; ++index) {\n                    blocks1[i >> 2] |= msg[index] << SHIFT[(i++) & 3];\n                }\n            }\n            else {\n                for (i = __classPrivateFieldGet(this, _start); index < length && i < 64; ++index) {\n                    var code = msg.charCodeAt(index);\n                    if (code < 128) {\n                        blocks1[i >> 2] |= code << SHIFT[(i++) & 3];\n                    }\n                    else if (code < 2048) {\n                        blocks1[i >> 2] |= (192 | code >> 6) << SHIFT[(i++) & 3];\n                        blocks1[i >> 2] |= (128 | code & 63) << SHIFT[(i++) & 3];\n                    }\n                    else if (code < 55296 || code >= 57344) {\n                        blocks1[i >> 2] |= (224 | code >> 12) << SHIFT[(i++) & 3];\n                        blocks1[i >> 2] |= (128 | code >> 6 & 63) << SHIFT[(i++) & 3];\n                        blocks1[i >> 2] |= (128 | code & 63) << SHIFT[(i++) & 3];\n                    }\n                    else {\n                        code = 65536 + ((code & 1023) << 10 | msg.charCodeAt(++index) & 1023);\n                        blocks1[i >> 2] |= (240 | code >> 18) << SHIFT[(i++) & 3];\n                        blocks1[i >> 2] |= (128 | code >> 12 & 63) << SHIFT[(i++) & 3];\n                        blocks1[i >> 2] |= (128 | code >> 6 & 63) << SHIFT[(i++) & 3];\n                        blocks1[i >> 2] |= (128 | code & 63) << SHIFT[(i++) & 3];\n                    }\n                }\n            }\n            __classPrivateFieldSet(this, _lastByteIndex, i);\n            __classPrivateFieldSet(this, _bytes, __classPrivateFieldGet(this, _bytes) + (i - __classPrivateFieldGet(this, _start)));\n            if (i >= 64) {\n                __classPrivateFieldSet(this, _block, blocks1[16]);\n                __classPrivateFieldSet(this, _start, i - 64);\n                this.hash();\n                __classPrivateFieldSet(this, _hashed, true);\n            }\n            else {\n                __classPrivateFieldSet(this, _start, i);\n            }\n        }\n        if (__classPrivateFieldGet(this, _bytes) > 4294967295) {\n            __classPrivateFieldSet(this, _hBytes, __classPrivateFieldGet(this, _hBytes) + (__classPrivateFieldGet(this, _bytes) / 4294967296 << 0));\n            __classPrivateFieldSet(this, _bytes, __classPrivateFieldGet(this, _bytes) % 4294967296);\n        }\n        return this;\n    };\n    Sha256.prototype.finalize = function () {\n        if (__classPrivateFieldGet(this, _finalized)) {\n            return;\n        }\n        __classPrivateFieldSet(this, _finalized, true);\n        var blocks1 = __classPrivateFieldGet(this, _blocks);\n        var i = __classPrivateFieldGet(this, _lastByteIndex);\n        blocks1[16] = __classPrivateFieldGet(this, _block);\n        blocks1[i >> 2] |= EXTRA[i & 3];\n        __classPrivateFieldSet(this, _block, blocks1[16]);\n        if (i >= 56) {\n            if (!__classPrivateFieldGet(this, _hashed)) {\n                this.hash();\n            }\n            blocks1[0] = __classPrivateFieldGet(this, _block);\n            blocks1[16] = blocks1[1] = blocks1[2] = blocks1[3] = blocks1[4] = blocks1[5] = blocks1[6] = blocks1[7] = blocks1[8] = blocks1[9] = blocks1[10] = blocks1[11] = blocks1[12] = blocks1[13] = blocks1[14] = blocks1[15] = 0;\n        }\n        blocks1[14] = __classPrivateFieldGet(this, _hBytes) << 3 | __classPrivateFieldGet(this, _bytes) >>> 29;\n        blocks1[15] = __classPrivateFieldGet(this, _bytes) << 3;\n        this.hash();\n    };\n    Sha256.prototype.hash = function () {\n        var a = __classPrivateFieldGet(this, _h0);\n        var b = __classPrivateFieldGet(this, _h1);\n        var c = __classPrivateFieldGet(this, _h2);\n        var d = __classPrivateFieldGet(this, _h3);\n        var e = __classPrivateFieldGet(this, _h4);\n        var f = __classPrivateFieldGet(this, _h5);\n        var g = __classPrivateFieldGet(this, _h6);\n        var h = __classPrivateFieldGet(this, _h7);\n        var blocks1 = __classPrivateFieldGet(this, _blocks);\n        var s0;\n        var s1;\n        var maj;\n        var t1;\n        var t2;\n        var ch;\n        var ab;\n        var da;\n        var cd;\n        var bc;\n        for (var j = 16; j < 64; ++j) {\n            t1 = blocks1[j - 15];\n            s0 = (t1 >>> 7 | t1 << 25) ^ (t1 >>> 18 | t1 << 14) ^ t1 >>> 3;\n            t1 = blocks1[j - 2];\n            s1 = (t1 >>> 17 | t1 << 15) ^ (t1 >>> 19 | t1 << 13) ^ t1 >>> 10;\n            blocks1[j] = blocks1[j - 16] + s0 + blocks1[j - 7] + s1 << 0;\n        }\n        bc = b & c;\n        for (var j1 = 0; j1 < 64; j1 += 4) {\n            if (__classPrivateFieldGet(this, _first)) {\n                if (__classPrivateFieldGet(this, _is224)) {\n                    ab = 300032;\n                    t1 = blocks1[0] - 1413257819;\n                    h = t1 - 150054599 << 0;\n                    d = t1 + 24177077 << 0;\n                }\n                else {\n                    ab = 704751109;\n                    t1 = blocks1[0] - 210244248;\n                    h = t1 - 1521486534 << 0;\n                    d = t1 + 143694565 << 0;\n                }\n                __classPrivateFieldSet(this, _first, false);\n            }\n            else {\n                s0 = (a >>> 2 | a << 30) ^ (a >>> 13 | a << 19) ^ (a >>> 22 | a << 10);\n                s1 = (e >>> 6 | e << 26) ^ (e >>> 11 | e << 21) ^ (e >>> 25 | e << 7);\n                ab = a & b;\n                maj = ab ^ a & c ^ bc;\n                ch = e & f ^ ~e & g;\n                t1 = h + s1 + ch + K[j1] + blocks1[j1];\n                t2 = s0 + maj;\n                h = d + t1 << 0;\n                d = t1 + t2 << 0;\n            }\n            s0 = (d >>> 2 | d << 30) ^ (d >>> 13 | d << 19) ^ (d >>> 22 | d << 10);\n            s1 = (h >>> 6 | h << 26) ^ (h >>> 11 | h << 21) ^ (h >>> 25 | h << 7);\n            da = d & a;\n            maj = da ^ d & b ^ ab;\n            ch = h & e ^ ~h & f;\n            t1 = g + s1 + ch + K[j1 + 1] + blocks1[j1 + 1];\n            t2 = s0 + maj;\n            g = c + t1 << 0;\n            c = t1 + t2 << 0;\n            s0 = (c >>> 2 | c << 30) ^ (c >>> 13 | c << 19) ^ (c >>> 22 | c << 10);\n            s1 = (g >>> 6 | g << 26) ^ (g >>> 11 | g << 21) ^ (g >>> 25 | g << 7);\n            cd = c & d;\n            maj = cd ^ c & a ^ da;\n            ch = g & h ^ ~g & e;\n            t1 = f + s1 + ch + K[j1 + 2] + blocks1[j1 + 2];\n            t2 = s0 + maj;\n            f = b + t1 << 0;\n            b = t1 + t2 << 0;\n            s0 = (b >>> 2 | b << 30) ^ (b >>> 13 | b << 19) ^ (b >>> 22 | b << 10);\n            s1 = (f >>> 6 | f << 26) ^ (f >>> 11 | f << 21) ^ (f >>> 25 | f << 7);\n            bc = b & c;\n            maj = bc ^ b & d ^ cd;\n            ch = f & g ^ ~f & h;\n            t1 = e + s1 + ch + K[j1 + 3] + blocks1[j1 + 3];\n            t2 = s0 + maj;\n            e = a + t1 << 0;\n            a = t1 + t2 << 0;\n        }\n        __classPrivateFieldSet(this, _h0, __classPrivateFieldGet(this, _h0) + a << 0);\n        __classPrivateFieldSet(this, _h1, __classPrivateFieldGet(this, _h1) + b << 0);\n        __classPrivateFieldSet(this, _h2, __classPrivateFieldGet(this, _h2) + c << 0);\n        __classPrivateFieldSet(this, _h3, __classPrivateFieldGet(this, _h3) + d << 0);\n        __classPrivateFieldSet(this, _h4, __classPrivateFieldGet(this, _h4) + e << 0);\n        __classPrivateFieldSet(this, _h5, __classPrivateFieldGet(this, _h5) + f << 0);\n        __classPrivateFieldSet(this, _h6, __classPrivateFieldGet(this, _h6) + g << 0);\n        __classPrivateFieldSet(this, _h7, __classPrivateFieldGet(this, _h7) + h << 0);\n    };\n    Sha256.prototype.hex = function () {\n        this.finalize();\n        var h0 = __classPrivateFieldGet(this, _h0);\n        var h1 = __classPrivateFieldGet(this, _h1);\n        var h2 = __classPrivateFieldGet(this, _h2);\n        var h3 = __classPrivateFieldGet(this, _h3);\n        var h4 = __classPrivateFieldGet(this, _h4);\n        var h5 = __classPrivateFieldGet(this, _h5);\n        var h6 = __classPrivateFieldGet(this, _h6);\n        var h7 = __classPrivateFieldGet(this, _h7);\n        var hex = HEX_CHARS[h0 >> 28 & 15] + HEX_CHARS[h0 >> 24 & 15] + HEX_CHARS[h0 >> 20 & 15] + HEX_CHARS[h0 >> 16 & 15] + HEX_CHARS[h0 >> 12 & 15] + HEX_CHARS[h0 >> 8 & 15] + HEX_CHARS[h0 >> 4 & 15] + HEX_CHARS[h0 & 15] + HEX_CHARS[h1 >> 28 & 15] + HEX_CHARS[h1 >> 24 & 15] + HEX_CHARS[h1 >> 20 & 15] + HEX_CHARS[h1 >> 16 & 15] + HEX_CHARS[h1 >> 12 & 15] + HEX_CHARS[h1 >> 8 & 15] + HEX_CHARS[h1 >> 4 & 15] + HEX_CHARS[h1 & 15] + HEX_CHARS[h2 >> 28 & 15] + HEX_CHARS[h2 >> 24 & 15] + HEX_CHARS[h2 >> 20 & 15] + HEX_CHARS[h2 >> 16 & 15] + HEX_CHARS[h2 >> 12 & 15] + HEX_CHARS[h2 >> 8 & 15] + HEX_CHARS[h2 >> 4 & 15] + HEX_CHARS[h2 & 15] + HEX_CHARS[h3 >> 28 & 15] + HEX_CHARS[h3 >> 24 & 15] + HEX_CHARS[h3 >> 20 & 15] + HEX_CHARS[h3 >> 16 & 15] + HEX_CHARS[h3 >> 12 & 15] + HEX_CHARS[h3 >> 8 & 15] + HEX_CHARS[h3 >> 4 & 15] + HEX_CHARS[h3 & 15] + HEX_CHARS[h4 >> 28 & 15] + HEX_CHARS[h4 >> 24 & 15] + HEX_CHARS[h4 >> 20 & 15] + HEX_CHARS[h4 >> 16 & 15] + HEX_CHARS[h4 >> 12 & 15] + HEX_CHARS[h4 >> 8 & 15] + HEX_CHARS[h4 >> 4 & 15] + HEX_CHARS[h4 & 15] + HEX_CHARS[h5 >> 28 & 15] + HEX_CHARS[h5 >> 24 & 15] + HEX_CHARS[h5 >> 20 & 15] + HEX_CHARS[h5 >> 16 & 15] + HEX_CHARS[h5 >> 12 & 15] + HEX_CHARS[h5 >> 8 & 15] + HEX_CHARS[h5 >> 4 & 15] + HEX_CHARS[h5 & 15] + HEX_CHARS[h6 >> 28 & 15] + HEX_CHARS[h6 >> 24 & 15] + HEX_CHARS[h6 >> 20 & 15] + HEX_CHARS[h6 >> 16 & 15] + HEX_CHARS[h6 >> 12 & 15] + HEX_CHARS[h6 >> 8 & 15] + HEX_CHARS[h6 >> 4 & 15] + HEX_CHARS[h6 & 15];\n        if (!__classPrivateFieldGet(this, _is224)) {\n            hex += HEX_CHARS[h7 >> 28 & 15] + HEX_CHARS[h7 >> 24 & 15] + HEX_CHARS[h7 >> 20 & 15] + HEX_CHARS[h7 >> 16 & 15] + HEX_CHARS[h7 >> 12 & 15] + HEX_CHARS[h7 >> 8 & 15] + HEX_CHARS[h7 >> 4 & 15] + HEX_CHARS[h7 & 15];\n        }\n        return hex;\n    };\n    Sha256.prototype.toString = function () {\n        return this.hex();\n    };\n    Sha256.prototype.digest = function () {\n        this.finalize();\n        var h0 = __classPrivateFieldGet(this, _h0);\n        var h1 = __classPrivateFieldGet(this, _h1);\n        var h2 = __classPrivateFieldGet(this, _h2);\n        var h3 = __classPrivateFieldGet(this, _h3);\n        var h4 = __classPrivateFieldGet(this, _h4);\n        var h5 = __classPrivateFieldGet(this, _h5);\n        var h6 = __classPrivateFieldGet(this, _h6);\n        var h7 = __classPrivateFieldGet(this, _h7);\n        var arr = [\n            h0 >> 24 & 255,\n            h0 >> 16 & 255,\n            h0 >> 8 & 255,\n            h0 & 255,\n            h1 >> 24 & 255,\n            h1 >> 16 & 255,\n            h1 >> 8 & 255,\n            h1 & 255,\n            h2 >> 24 & 255,\n            h2 >> 16 & 255,\n            h2 >> 8 & 255,\n            h2 & 255,\n            h3 >> 24 & 255,\n            h3 >> 16 & 255,\n            h3 >> 8 & 255,\n            h3 & 255,\n            h4 >> 24 & 255,\n            h4 >> 16 & 255,\n            h4 >> 8 & 255,\n            h4 & 255,\n            h5 >> 24 & 255,\n            h5 >> 16 & 255,\n            h5 >> 8 & 255,\n            h5 & 255,\n            h6 >> 24 & 255,\n            h6 >> 16 & 255,\n            h6 >> 8 & 255,\n            h6 & 255,\n        ];\n        if (!__classPrivateFieldGet(this, _is224)) {\n            arr.push(h7 >> 24 & 255, h7 >> 16 & 255, h7 >> 8 & 255, h7 & 255);\n        }\n        return arr;\n    };\n    Sha256.prototype.array = function () {\n        return this.digest();\n    };\n    Sha256.prototype.arrayBuffer = function () {\n        this.finalize();\n        var buffer = new ArrayBuffer(__classPrivateFieldGet(this, _is224) ? 28 : 32);\n        var dataView = new DataView(buffer);\n        dataView.setUint32(0, __classPrivateFieldGet(this, _h0));\n        dataView.setUint32(4, __classPrivateFieldGet(this, _h1));\n        dataView.setUint32(8, __classPrivateFieldGet(this, _h2));\n        dataView.setUint32(12, __classPrivateFieldGet(this, _h3));\n        dataView.setUint32(16, __classPrivateFieldGet(this, _h4));\n        dataView.setUint32(20, __classPrivateFieldGet(this, _h5));\n        dataView.setUint32(24, __classPrivateFieldGet(this, _h6));\n        if (!__classPrivateFieldGet(this, _is224)) {\n            dataView.setUint32(28, __classPrivateFieldGet(this, _h7));\n        }\n        return buffer;\n    };\n    return Sha256;\n}());\n_block = new WeakMap(), _blocks = new WeakMap(), _bytes = new WeakMap(), _finalized = new WeakMap(), _first = new WeakMap(), _h0 = new WeakMap(), _h1 = new WeakMap(), _h2 = new WeakMap(), _h3 = new WeakMap(), _h4 = new WeakMap(), _h5 = new WeakMap(), _h6 = new WeakMap(), _h7 = new WeakMap(), _hashed = new WeakMap(), _hBytes = new WeakMap(), _is224 = new WeakMap(), _lastByteIndex = new WeakMap(), _start = new WeakMap();\nvar HmacSha256 = /** @class */ (function (_super) {\n    __extends(HmacSha256, _super);\n    function HmacSha256(secretKey, is2242, sharedMemory2) {\n        if (is2242 === void 0) { is2242 = false; }\n        if (sharedMemory2 === void 0) { sharedMemory2 = false; }\n        var _this = _super.call(this, is2242, sharedMemory2) || this;\n        _inner.set(_this, void 0);\n        _is224_1.set(_this, void 0);\n        _oKeyPad.set(_this, void 0);\n        _sharedMemory.set(_this, void 0);\n        var key;\n        if (typeof secretKey === \"string\") {\n            var bytes = [];\n            var length_1 = secretKey.length;\n            var index = 0;\n            for (var i = 0; i < length_1; ++i) {\n                var code = secretKey.charCodeAt(i);\n                if (code < 128) {\n                    bytes[index++] = code;\n                }\n                else if (code < 2048) {\n                    bytes[index++] = 192 | code >> 6;\n                    bytes[index++] = 128 | code & 63;\n                }\n                else if (code < 55296 || code >= 57344) {\n                    bytes[index++] = 224 | code >> 12;\n                    bytes[index++] = 128 | code >> 6 & 63;\n                    bytes[index++] = 128 | code & 63;\n                }\n                else {\n                    code = 65536 + ((code & 1023) << 10 | secretKey.charCodeAt(++i) & 1023);\n                    bytes[index++] = 240 | code >> 18;\n                    bytes[index++] = 128 | code >> 12 & 63;\n                    bytes[index++] = 128 | code >> 6 & 63;\n                    bytes[index++] = 128 | code & 63;\n                }\n            }\n            key = bytes;\n        }\n        else {\n            if (secretKey instanceof ArrayBuffer) {\n                key = new Uint8Array(secretKey);\n            }\n            else {\n                key = secretKey;\n            }\n        }\n        if (key.length > 64) {\n            key = new Sha256(is2242, true).update(key).array();\n        }\n        var oKeyPad = [];\n        var iKeyPad = [];\n        for (var i = 0; i < 64; ++i) {\n            var b = key[i] || 0;\n            oKeyPad[i] = 92 ^ b;\n            iKeyPad[i] = 54 ^ b;\n        }\n        _this.update(iKeyPad);\n        __classPrivateFieldSet(_this, _oKeyPad, oKeyPad);\n        __classPrivateFieldSet(_this, _inner, true);\n        __classPrivateFieldSet(_this, _is224_1, is2242);\n        __classPrivateFieldSet(_this, _sharedMemory, sharedMemory2);\n        return _this;\n    }\n    HmacSha256.prototype.finalize = function () {\n        _super.prototype.finalize.call(this);\n        if (__classPrivateFieldGet(this, _inner)) {\n            __classPrivateFieldSet(this, _inner, false);\n            var innerHash = this.array();\n            _super.prototype.init.call(this, __classPrivateFieldGet(this, _is224_1), __classPrivateFieldGet(this, _sharedMemory));\n            this.update(__classPrivateFieldGet(this, _oKeyPad));\n            this.update(innerHash);\n            _super.prototype.finalize.call(this);\n        }\n    };\n    return HmacSha256;\n}(Sha256));\n_inner = new WeakMap(), _is224_1 = new WeakMap(), _oKeyPad = new WeakMap(), _sharedMemory = new WeakMap();\nfunction Sha256ToInt(s) {\n    var sha256 = new Sha256();\n    sha256.update(s);\n    return parseInt(sha256.hex().substring(0, 8), 16);\n}\nvar RGB2HEX = function (RGBArray) {\n    var hex = '#';\n    RGBArray.forEach(function (value) {\n        if (value < 16) {\n            hex += 0;\n        }\n        hex += value.toString(16);\n    });\n    return hex;\n};\nvar HSL2RGB = function (H, S, L) {\n    H /= 360;\n    var q = L < 0.5 ? L * (1 + S) : L + S - L * S;\n    var p = 2 * L - q;\n    return [\n        H + 1 / 3,\n        H,\n        H - 1 / 3\n    ].map(function (color) {\n        if (color < 0) {\n            color++;\n        }\n        if (color > 1) {\n            color--;\n        }\n        if (color < 1 / 6) {\n            color = p + (q - p) * 6 * color;\n        }\n        else if (color < 0.5) {\n            color = q;\n        }\n        else if (color < 2 / 3) {\n            color = p + (q - p) * 6 * (2 / 3 - color);\n        }\n        else {\n            color = p;\n        }\n        return Math.round(color * 255);\n    });\n};\nvar ColorHash = /** @class */ (function () {\n    function ColorHash(options) {\n        if (options === void 0) { options = {}; }\n        var _a = [\n            options.lightness,\n            options.saturation\n        ].map(function (param) {\n            param = param !== undefined ? param : [\n                0.35,\n                0.5,\n                0.65\n            ];\n            return Array.isArray(param) ? param.concat() : [\n                param\n            ];\n        }), L = _a[0], S = _a[1];\n        this.L = L;\n        this.S = S;\n        if (typeof options.hue === 'number') {\n            options.hue = {\n                min: options.hue,\n                max: options.hue\n            };\n        }\n        if (typeof options.hue === 'object' && !Array.isArray(options.hue)) {\n            options.hue = [\n                options.hue\n            ];\n        }\n        if (typeof options.hue === 'undefined') {\n            options.hue = [];\n        }\n        this.hueRanges = options.hue.map(function (range) {\n            return {\n                min: typeof range.min === 'undefined' ? 0 : range.min,\n                max: typeof range.max === 'undefined' ? 360 : range.max\n            };\n        });\n        this.hash = Sha256ToInt;\n        if (typeof options.hash === 'function') {\n            this.hash = options.hash;\n        }\n        if (options.hash === 'bkdr') {\n            this.hash = BKDRHash;\n        }\n    }\n    ColorHash.prototype.hsl = function (str) {\n        var H, S1, L1;\n        var hash = this.hash(str);\n        var hueResolution = 727;\n        if (this.hueRanges.length) {\n            var range = this.hueRanges[hash % this.hueRanges.length];\n            H = hash / this.hueRanges.length % hueResolution * (range.max - range.min) / hueResolution + range.min;\n        }\n        else {\n            H = hash % 359;\n        }\n        hash = Math.ceil(hash / 360);\n        S1 = this.S[hash % this.S.length];\n        hash = Math.ceil(hash / this.S.length);\n        L1 = this.L[hash % this.L.length];\n        return [\n            H,\n            S1,\n            L1\n        ];\n    };\n    ColorHash.prototype.rgb = function (str) {\n        var hsl = this.hsl(str);\n        return HSL2RGB.apply(this, hsl);\n    };\n    ColorHash.prototype.hex = function (str) {\n        var rgb = this.rgb(str);\n        return RGB2HEX(rgb);\n    };\n    return ColorHash;\n}());\nexports[\"default\"] = ColorHash;\n", "export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}", "import _extends from'@babel/runtime/helpers/esm/extends';var r,B=r||(r={});B.Pop=\"POP\";B.Push=\"PUSH\";B.Replace=\"REPLACE\";var C=\"production\"!==process.env.NODE_ENV?function(b){return Object.freeze(b)}:function(b){return b};function D(b,h){if(!b){\"undefined\"!==typeof console&&console.warn(h);try{throw Error(h);}catch(e){}}}function E(b){b.preventDefault();b.returnValue=\"\"}\nfunction F(){var b=[];return{get length(){return b.length},push:function(h){b.push(h);return function(){b=b.filter(function(e){return e!==h})}},call:function(h){b.forEach(function(e){return e&&e(h)})}}}function H(){return Math.random().toString(36).substr(2,8)}function I(b){var h=b.pathname;h=void 0===h?\"/\":h;var e=b.search;e=void 0===e?\"\":e;b=b.hash;b=void 0===b?\"\":b;e&&\"?\"!==e&&(h+=\"?\"===e.charAt(0)?e:\"?\"+e);b&&\"#\"!==b&&(h+=\"#\"===b.charAt(0)?b:\"#\"+b);return h}\nfunction J(b){var h={};if(b){var e=b.indexOf(\"#\");0<=e&&(h.hash=b.substr(e),b=b.substr(0,e));e=b.indexOf(\"?\");0<=e&&(h.search=b.substr(e),b=b.substr(0,e));b&&(h.pathname=b)}return h}\nfunction createBrowserHistory(b){function h(){var c=p.location,a=m.state||{};return[a.idx,C({pathname:c.pathname,search:c.search,hash:c.hash,state:a.usr||null,key:a.key||\"default\"})]}function e(c){return\"string\"===typeof c?c:I(c)}function x(c,a){void 0===a&&(a=null);return C(_extends({pathname:q.pathname,hash:\"\",search:\"\"},\"string\"===typeof c?J(c):c,{state:a,key:H()}))}function z(c){t=c;c=h();v=c[0];q=c[1];d.call({action:t,location:q})}function A(c,a){function f(){A(c,a)}var l=r.Push,k=x(c,\na);if(!g.length||(g.call({action:l,location:k,retry:f}),!1)){var n=[{usr:k.state,key:k.key,idx:v+1},e(k)];k=n[0];n=n[1];try{m.pushState(k,\"\",n)}catch(G){p.location.assign(n)}z(l)}}function y(c,a){function f(){y(c,a)}var l=r.Replace,k=x(c,a);g.length&&(g.call({action:l,location:k,retry:f}),1)||(k=[{usr:k.state,key:k.key,idx:v},e(k)],m.replaceState(k[0],\"\",k[1]),z(l))}function w(c){m.go(c)}void 0===b&&(b={});b=b.window;var p=void 0===b?document.defaultView:b,m=p.history,u=null;p.addEventListener(\"popstate\",\nfunction(){if(u)g.call(u),u=null;else{var c=r.Pop,a=h(),f=a[0];a=a[1];if(g.length)if(null!=f){var l=v-f;l&&(u={action:c,location:a,retry:function(){w(-1*l)}},w(l))}else\"production\"!==process.env.NODE_ENV?D(!1,\"You are trying to block a POP navigation to a location that was not created by the history library. The block will fail silently in production, but in general you should do all navigation with the history library (instead of using window.history.pushState directly) to avoid this situation.\"):\nvoid 0;else z(c)}});var t=r.Pop;b=h();var v=b[0],q=b[1],d=F(),g=F();null==v&&(v=0,m.replaceState(_extends({},m.state,{idx:v}),\"\"));return{get action(){return t},get location(){return q},createHref:e,push:A,replace:y,go:w,back:function(){w(-1)},forward:function(){w(1)},listen:function(c){return d.push(c)},block:function(c){var a=g.push(c);1===g.length&&p.addEventListener(\"beforeunload\",E);return function(){a();g.length||p.removeEventListener(\"beforeunload\",E)}}}};\nfunction createHashHistory(b){function h(){var a=J(m.location.hash.substr(1)),f=a.pathname,l=a.search;a=a.hash;var k=u.state||{};return[k.idx,C({pathname:void 0===f?\"/\":f,search:void 0===l?\"\":l,hash:void 0===a?\"\":a,state:k.usr||null,key:k.key||\"default\"})]}function e(){if(t)c.call(t),t=null;else{var a=r.Pop,f=h(),l=f[0];f=f[1];if(c.length)if(null!=l){var k=q-l;k&&(t={action:a,location:f,retry:function(){p(-1*k)}},p(k))}else\"production\"!==process.env.NODE_ENV?D(!1,\"You are trying to block a POP navigation to a location that was not created by the history library. The block will fail silently in production, but in general you should do all navigation with the history library (instead of using window.history.pushState directly) to avoid this situation.\"):\nvoid 0;else A(a)}}function x(a){var f=document.querySelector(\"base\"),l=\"\";f&&f.getAttribute(\"href\")&&(f=m.location.href,l=f.indexOf(\"#\"),l=-1===l?f:f.slice(0,l));return l+\"#\"+(\"string\"===typeof a?a:I(a))}function z(a,f){void 0===f&&(f=null);return C(_extends({pathname:d.pathname,hash:\"\",search:\"\"},\"string\"===typeof a?J(a):a,{state:f,key:H()}))}function A(a){v=a;a=h();q=a[0];d=a[1];g.call({action:v,location:d})}function y(a,f){function l(){y(a,f)}var k=r.Push,n=z(a,f);\"production\"!==process.env.NODE_ENV?\nD(\"/\"===n.pathname.charAt(0),\"Relative pathnames are not supported in hash history.push(\"+JSON.stringify(a)+\")\"):void 0;if(!c.length||(c.call({action:k,location:n,retry:l}),!1)){var G=[{usr:n.state,key:n.key,idx:q+1},x(n)];n=G[0];G=G[1];try{u.pushState(n,\"\",G)}catch(K){m.location.assign(G)}A(k)}}function w(a,f){function l(){w(a,f)}var k=r.Replace,n=z(a,f);\"production\"!==process.env.NODE_ENV?D(\"/\"===n.pathname.charAt(0),\"Relative pathnames are not supported in hash history.replace(\"+JSON.stringify(a)+\n\")\"):void 0;c.length&&(c.call({action:k,location:n,retry:l}),1)||(n=[{usr:n.state,key:n.key,idx:q},x(n)],u.replaceState(n[0],\"\",n[1]),A(k))}function p(a){u.go(a)}void 0===b&&(b={});b=b.window;var m=void 0===b?document.defaultView:b,u=m.history,t=null;m.addEventListener(\"popstate\",e);m.addEventListener(\"hashchange\",function(){var a=h()[1];I(a)!==I(d)&&e()});var v=r.Pop;b=h();var q=b[0],d=b[1],g=F(),c=F();null==q&&(q=0,u.replaceState(_extends({},u.state,{idx:q}),\"\"));return{get action(){return v},get location(){return d},\ncreateHref:x,push:y,replace:w,go:p,back:function(){p(-1)},forward:function(){p(1)},listen:function(a){return g.push(a)},block:function(a){var f=c.push(a);1===c.length&&m.addEventListener(\"beforeunload\",E);return function(){f();c.length||m.removeEventListener(\"beforeunload\",E)}}}};\nfunction createMemoryHistory(b){function h(d,g){void 0===g&&(g=null);return C(_extends({pathname:t.pathname,search:\"\",hash:\"\"},\"string\"===typeof d?J(d):d,{state:g,key:H()}))}function e(d,g,c){return!q.length||(q.call({action:d,location:g,retry:c}),!1)}function x(d,g){u=d;t=g;v.call({action:u,location:t})}function z(d,g){var c=r.Push,a=h(d,g);\"production\"!==process.env.NODE_ENV?D(\"/\"===t.pathname.charAt(0),\"Relative pathnames are not supported in memory history.push(\"+JSON.stringify(d)+\")\"):\nvoid 0;e(c,a,function(){z(d,g)})&&(m+=1,p.splice(m,p.length,a),x(c,a))}function A(d,g){var c=r.Replace,a=h(d,g);\"production\"!==process.env.NODE_ENV?D(\"/\"===t.pathname.charAt(0),\"Relative pathnames are not supported in memory history.replace(\"+JSON.stringify(d)+\")\"):void 0;e(c,a,function(){A(d,g)})&&(p[m]=a,x(c,a))}function y(d){var g=Math.min(Math.max(m+d,0),p.length-1),c=r.Pop,a=p[g];e(c,a,function(){y(d)})&&(m=g,x(c,a))}void 0===b&&(b={});var w=b;b=w.initialEntries;w=w.initialIndex;var p=(void 0===\nb?[\"/\"]:b).map(function(d){var g=C(_extends({pathname:\"/\",search:\"\",hash:\"\",state:null,key:H()},\"string\"===typeof d?J(d):d));\"production\"!==process.env.NODE_ENV?D(\"/\"===g.pathname.charAt(0),\"Relative pathnames are not supported in createMemoryHistory({ initialEntries }) (invalid entry: \"+JSON.stringify(d)+\")\"):void 0;return g}),m=Math.min(Math.max(null==w?p.length-1:w,0),p.length-1),u=r.Pop,t=p[m],v=F(),q=F();return{get index(){return m},get action(){return u},get location(){return t},createHref:function(d){return\"string\"===\ntypeof d?d:I(d)},push:z,replace:A,go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(d){return v.push(d)},block:function(d){return q.push(d)}}};export{r as Action,createBrowserHistory,createHashHistory,createMemoryHistory,I as createPath,J as parsePath}\n//# sourceMappingURL=index.js.map\n", "'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n", "'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n", "'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n", "'use strict';\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n", "'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\nconst filterObject = require('filter-obj');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nconst encodeFragmentIdentifier = Symbol('encodeFragmentIdentifier');\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\tcase 'bracket-separator': {\n\t\t\tconst keyValueSep = options.arrayFormat === 'bracket-separator' ?\n\t\t\t\t'[]=' :\n\t\t\t\t'=';\n\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\t// Translate null to an empty string so that it doesn't serialize as 'null'\n\t\t\t\tvalue = value === null ? '' : value;\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), keyValueSep, encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\t\t}\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tcase 'bracket-separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = /(\\[\\])$/.test(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!isArray) {\n\t\t\t\t\taccumulator[key] = value ? decode(value, options) : value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst arrayValue = value === null ?\n\t\t\t\t\t[] :\n\t\t\t\t\tvalue.split(options.arrayFormatSeparator).map(item => decode(item, options));\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = arrayValue;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], arrayValue);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator', 'bracket-separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\tif (value.length === 0 && options.arrayFormat === 'bracket-separator') {\n\t\t\t\treturn encode(key, options) + '[]';\n\t\t\t}\n\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\t[encodeFragmentIdentifier]: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${options[encodeFragmentIdentifier] ? encode(object.fragmentIdentifier, options) : object.fragmentIdentifier}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true,\n\t\t[encodeFragmentIdentifier]: false\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n", "import queryString from \"query-string\";\n\nexport const FragTypes = {\n  Literal: 1,\n  Param: 2,\n  Wildcard: 3,\n};\n\n/**\n * Creates a generic router that registers and matches routes.\n */\nexport function makeRouter() {\n  let routes = [];\n\n  return {\n    /**\n     * Defines a route with optional props object.\n     */\n    on(path, props = {}) {\n      const parsed = parseRoute(path);\n      const entry = {\n        fragments: parsed.fragments,\n        props,\n      };\n\n      routes = sortRoutes([...routes, entry]);\n\n      return function off() {\n        routes.splice(routes.indexOf(entry), 1);\n      };\n    },\n\n    /**\n     * Matches the path against registered routes. Returns the route if matched or null otherwise.\n     *\n     * Pass a `willMatch` function in options to decide if potential matches are the final match. Receives the matched route and returns `true` or `false`.\n     *\n     * @param path - Path to match\n     * @param options -\n     */\n    match(path, options = {}) {\n      const [main, query] = path.split(\"?\");\n      const { willMatch } = options;\n\n      return matchRoute(routes, main, query, willMatch);\n    },\n\n    get routes() {\n      return routes.map((x) => x);\n    },\n  };\n}\n\n/**\n * Separates a URL path into multiple fragments.\n *\n * @param path - A path string (e.g. `\"/api/users/5\"`)\n * @returns an array of fragments (e.g. `[\"api\", \"users\", \"5\"]`)\n */\nexport function splitRoute(path) {\n  return path\n    .split(\"/\")\n    .map((f) => f.trim())\n    .filter((f) => f !== \"\");\n}\n\n/**\n * Joins multiple URL path fragments into a single string.\n *\n * @param parts - One or more URL fragments (e.g. `[\"api\", \"users\", 5]`)\n * @returns a joined path (e.g. `\"api/users/5\"`)\n */\nexport function joinRoute(...parts) {\n  parts = parts.filter((x) => x);\n\n  let joined = parts.shift();\n\n  if (joined) {\n    for (const part of parts) {\n      if (joined[joined.length - 1] !== \"/\") {\n        if (part[0] !== \"/\") {\n          joined += \"/\" + part;\n        } else {\n          joined += part;\n        }\n      }\n    }\n  }\n\n  return joined ?? \"\";\n}\n\n/**\n * Converts a route string into a matchable route object.\n *\n * @param route - A route string (e.g. \"/api/users/:id\")\n */\nexport function parseRoute(route) {\n  const parts = splitRoute(route);\n  const fragments = [];\n\n  for (let i = 0; i < parts.length; i++) {\n    const part = parts[i];\n\n    if (part === \"*\") {\n      if (i !== parts.length - 1) {\n        throw new Error(`Wildcard must be at the end of a route. Received: ${route}`);\n      }\n      fragments.push({\n        type: FragTypes.Wildcard,\n        name: \"*\",\n        value: null,\n      });\n    } else if (part[0] === \":\") {\n      fragments.push({\n        type: FragTypes.Param,\n        name: part.slice(1),\n        value: null,\n      });\n    } else {\n      fragments.push({\n        type: FragTypes.Literal,\n        name: part,\n        value: part,\n      });\n    }\n  }\n\n  return { fragments };\n}\n\n/**\n * Match a path against a list of parsed routes. Returns metadata for the matched route, or undefined if no match is found.\n *\n * @param routes - Array of parsed routes.\n * @param path - String to match against routes.\n * @param query - Query string parameters to parse.\n * @param filter - Function for final say on matching. Receives matched route and returns true or false.\n */\nexport function matchRoute(routes, path, query, filter) {\n  const parts = splitRoute(path);\n\n  routes: for (const route of routes) {\n    const { fragments } = route;\n    const hasWildcard = fragments[fragments.length - 1]?.type === FragTypes.Wildcard;\n\n    if (!hasWildcard && fragments.length !== parts.length) {\n      continue routes;\n    }\n\n    const matched = [];\n\n    fragments: for (let i = 0; i < fragments.length; i++) {\n      const part = parts[i];\n      const frag = fragments[i];\n\n      if (part == null && frag.type !== FragTypes.Wildcard) {\n        continue routes;\n      }\n\n      switch (frag.type) {\n        case FragTypes.Literal:\n          if (frag.value.toLowerCase() === part.toLowerCase()) {\n            matched.push(frag);\n            break;\n          } else {\n            continue routes;\n          }\n        case FragTypes.Param:\n          matched.push({ ...frag, value: part });\n          break;\n        case FragTypes.Wildcard:\n          matched.push({ ...frag, value: parts.slice(i).join(\"/\") });\n          break fragments;\n        default:\n          throw new Error(`Unknown fragment type: ${frag.type}`);\n      }\n    }\n\n    const params = Object.create(null);\n    let wildcard = null;\n\n    for (const frag of matched) {\n      if (frag.type === FragTypes.Param) {\n        params[frag.name] = frag.value;\n      }\n\n      if (frag.type === FragTypes.Wildcard) {\n        wildcard = frag.value;\n      }\n    }\n\n    const routeInfo = {\n      path: matched.map((f) => f.value).join(\"/\"),\n      route: fragments.map((f) => (f.type === FragTypes.Param ? \":\" + f.name : f.name)).join(\"/\"),\n      params,\n      query: query ? queryString.parse(query) : Object.create(null),\n      wildcard,\n      props: route.props,\n    };\n\n    if (filter == null || filter(routeInfo)) {\n      return routeInfo;\n    }\n  }\n}\n\n/**\n * Sorts routes in order of specificity.\n * Routes without params and routes with more fragments are weighted more heavily.\n */\nexport function sortRoutes(routes) {\n  const withoutParams = [];\n  const withParams = [];\n  const wildcard = [];\n\n  for (const route of routes) {\n    if (route.fragments.some((f) => f.type === FragTypes.Wildcard)) {\n      wildcard.push(route);\n    } else if (route.fragments.some((f) => f.type === FragTypes.Param)) {\n      withParams.push(route);\n    } else {\n      withoutParams.push(route);\n    }\n  }\n\n  const bySizeDesc = (a, b) => {\n    if (a.fragments.length > b.fragments.length) {\n      return -1;\n    } else {\n      return 1;\n    }\n  };\n\n  withoutParams.sort(bySizeDesc);\n  withParams.sort(bySizeDesc);\n  wildcard.sort(bySizeDesc);\n\n  return [...withoutParams, ...withParams, ...wildcard];\n}\n", "export const isBoolean = (value) => typeof value === \"boolean\";\n\nexport const isFunction = (value) => typeof value === \"function\";\n\nexport const isString = (value) => typeof value === \"string\";\n\nexport const isNumber = (value) => typeof value === \"number\";\n\nexport const isInteger = (value) => isNumber(value) && value % 1 === 0;\n\nexport const isFloat = (value) => isNumber(value) && !isInteger(value);\n\nexport const isArray = (value) => Array.isArray(value);\n\nexport const isObject = (value) => value != null && typeof value === \"object\" && !isArray(value);\n\nexport const isDolla = (value) => value && value.isDolla === true;\n\nexport const isNode = (value) => value && value.isNode === true;\n\nexport const isComponent = (value) => value && value.isComponent === true;\n\nexport const isService = (value) => value && value.isService === true;\n", "export function isState(value) {\n  return typeof value === \"object\" && value.isState;\n}\n", "const errors = {\n\t0: \"Illegal state\",\n\t1: \"Immer drafts cannot have computed properties\",\n\t2: \"This object has been frozen and should not be mutated\",\n\t3(data: any) {\n\t\treturn (\n\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\tdata\n\t\t)\n\t},\n\t4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t5: \"Immer forbids circular references\",\n\t6: \"The first or second argument to `produce` must be a function\",\n\t7: \"The third argument to `produce` must be a function or undefined\",\n\t8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t10: \"The given draft is already finalized\",\n\t11: \"Object.defineProperty() cannot be used on an Immer draft\",\n\t12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t13: \"Immer only supports deleting array indices\",\n\t14: \"Immer only supports setting array indices and the 'length' property\",\n\t15(path: string) {\n\t\treturn \"Cannot apply patch, path doesn't resolve: \" + path\n\t},\n\t16: 'Sets cannot have \"replace\" patches.',\n\t17(op: string) {\n\t\treturn \"Unsupported patch operation: \" + op\n\t},\n\t18(plugin: string) {\n\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t},\n\t20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",\n\t21(thing: string) {\n\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t},\n\t22(thing: string) {\n\t\treturn `'current' expects a draft, got: ${thing}`\n\t},\n\t23(thing: string) {\n\t\treturn `'original' expects a draft, got: ${thing}`\n\t},\n\t24: \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n} as const\n\nexport function die(error: keyof typeof errors, ...args: any[]): never {\n\tif (__DEV__) {\n\t\tconst e = errors[error]\n\t\tconst msg = !e\n\t\t\t? \"unknown error nr: \" + error\n\t\t\t: typeof e === \"function\"\n\t\t\t? e.apply(null, args as any)\n\t\t\t: e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}${\n\t\t\targs.length ? \" \" + args.map(s => `'${s}'`).join(\",\") : \"\"\n\t\t}. Find the full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n", "import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\thasSet,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\thasMap,\n\tArchtype,\n\tdie\n} from \"../internal\"\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nconst objectCtorString = Object.prototype.constructor.toString()\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = Object.getPrototypeOf(value)\n\tif (proto === null) {\n\t\treturn true\n\t}\n\tconst Ctor =\n\t\tObject.hasOwnProperty.call(proto, \"constructor\") && proto.constructor\n\n\tif (Ctor === Object) return true\n\n\treturn (\n\t\ttypeof Ctor == \"function\" &&\n\t\tFunction.toString.call(Ctor) === objectCtorString\n\t)\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(23, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/*#__PURE__*/\nexport const ownKeys: (target: AnyObject) => PropertyKey[] =\n\ttypeof Reflect !== \"undefined\" && Reflect.ownKeys\n\t\t? Reflect.ownKeys\n\t\t: typeof Object.getOwnPropertySymbols !== \"undefined\"\n\t\t? obj =>\n\t\t\t\tObject.getOwnPropertyNames(obj).concat(\n\t\t\t\t\tObject.getOwnPropertySymbols(obj) as any\n\t\t\t\t)\n\t\t: /* istanbul ignore next */ Object.getOwnPropertyNames\n\nexport const getOwnPropertyDescriptors =\n\tObject.getOwnPropertyDescriptors ||\n\tfunction getOwnPropertyDescriptors(target: any) {\n\t\t// Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274\n\t\tconst res: any = {}\n\t\townKeys(target).forEach(key => {\n\t\t\tres[key] = Object.getOwnPropertyDescriptor(target, key)\n\t\t})\n\t\treturn res\n\t}\n\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void,\n\tenumerableOnly?: boolean\n): void\nexport function each(obj: any, iter: any, enumerableOnly = false) {\n\tif (getArchtype(obj) === Archtype.Object) {\n\t\t;(enumerableOnly ? Object.keys : ownKeys)(obj).forEach(key => {\n\t\t\tif (!enumerableOnly || typeof key !== \"symbol\") iter(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): Archtype {\n\t/* istanbul ignore next */\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_ > 3\n\t\t\t? state.type_ - 4 // cause Object and Array map back from 4 and 5\n\t\t\t: (state.type_ as any) // others are the same\n\t\t: Array.isArray(thing)\n\t\t? Archtype.Array\n\t\t: isMap(thing)\n\t\t? Archtype.Map\n\t\t: isSet(thing)\n\t\t? Archtype.Set\n\t\t: Archtype.Object\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === Archtype.Map\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === Archtype.Map ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === Archtype.Map) thing.set(propOrOldValue, value)\n\telse if (t === Archtype.Set) {\n\t\tthing.delete(propOrOldValue)\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn hasMap && target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn hasSet && target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any) {\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\tconst descriptors = getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep) each(obj, (key, value) => freeze(value, true), true)\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\tif (obj == null || typeof obj !== \"object\") return true\n\t// See #600, IE dies on non-objects in Object.isFrozen\n\treturn Object.isFrozen(obj)\n}\n", "import {\n\tImmerState,\n\tPatch,\n\tImmerScope,\n\tDrafted,\n\tAnyObject,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tProxyType,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\trootState: ImmerState,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tES5?: {\n\t\twillFinalizeES5_(scope: ImmerScope, result: any, isReplaced: boolean): void\n\t\tcreateES5Proxy_<T>(\n\t\t\tbase: T,\n\t\t\tparent?: ImmerState\n\t\t): Drafted<T, ES5ObjectState | ES5ArrayState>\n\t\thasChanges_(state: ES5ArrayState | ES5ObjectState): boolean\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(18, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n\n/** ES5 Plugin */\n\ninterface ES5BaseState extends ImmerBaseState {\n\tassigned_: {[key: string]: any}\n\tparent_?: ImmerState\n\trevoked_: boolean\n}\n\nexport interface ES5ObjectState extends ES5BaseState {\n\ttype_: ProxyType.ES5Object\n\tdraft_: Drafted<AnyObject, ES5ObjectState>\n\tbase_: AnyObject\n\tcopy_: AnyObject | null\n}\n\nexport interface ES5ArrayState extends ES5BaseState {\n\ttype_: ProxyType.ES5Array\n\tdraft_: Drafted<AnyObject, ES5ArrayState>\n\tbase_: any\n\tcopy_: any\n}\n\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: ProxyType.Map\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: ProxyType.Set\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n", "import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tProxyType,\n\tgetPlugin\n} from \"../internal\"\nimport {die} from \"../utils/errors\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\tif (__DEV__ && !currentScope) die(0)\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (\n\t\tstate.type_ === ProxyType.ProxyObject ||\n\t\tstate.type_ === ProxyType.ProxyArray\n\t)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n", "import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tProxyType,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen,\n\tshallowCopy\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (!scope.immer_.useProxies_)\n\t\tgetPlugin(\"ES5\").willFinalizeES5_(scope, result, isReplaced)\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE],\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(\n\t\t\tvalue,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path),\n\t\t\ttrue // See #590, don't recurse into non-enumerable of non drafted objects\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result =\n\t\t\t// For ES5, create a good copy from the draft first, with added keys and without deleted keys.\n\t\t\tstate.type_ === ProxyType.ES5Object || state.type_ === ProxyType.ES5Array\n\t\t\t\t? (state.copy_ = shallowCopy(state.draft_))\n\t\t\t\t: state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// Although the original test case doesn't seem valid anyway, so if this in the way we can turn the next line\n\t\t// back to each(result, ....)\n\t\teach(\n\t\t\tstate.type_ === ProxyType.Set ? new Set(result) : result,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath\n) {\n\tif (__DEV__ && childValue === targetObject) die(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ProxyType.Set && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\tif (!parentState || !parentState.scope_.parent_)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\tif (scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n", "import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tProxyType\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: ProxyType.ProxyObject\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: ProxyType.ProxyArray\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ProxyType.ProxyArray : (ProxyType.ProxyObject as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(\n\t\t\t\tstate.scope_.immer_,\n\t\t\t\tvalue,\n\t\t\t\tstate\n\t\t\t))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existing to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\n\t\tif (\n\t\t\tstate.copy_![prop] === value &&\n\t\t\t// special case: NaN\n\t\t\ttypeof value !== \"number\" &&\n\t\t\t// special case: handle new props with value 'undefined'\n\t\t\t(value !== undefined || prop in state.copy_)\n\t\t)\n\t\t\treturn true\n\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\t// @ts-ignore\n\t\tif (state.copy_) delete state.copy_[prop]\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ProxyType.ProxyArray || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn Object.getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (__DEV__ && isNaN(parseInt(prop as any))) die(13)\n\treturn objectTraps.deleteProperty!.call(this, state[0], prop)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (__DEV__ && prop !== \"length\" && isNaN(parseInt(prop as any))) die(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = Object.getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = Object.getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {base_: any; copy_: any}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(state.base_)\n\t}\n}\n", "import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\thasProxies,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tuseProxies_: boolean = hasProxies\n\n\tautoFreeze_: boolean = true\n\n\tconstructor(config?: {useProxies?: boolean; autoFreeze?: boolean}) {\n\t\tif (typeof config?.useProxies === \"boolean\")\n\t\t\tthis.setUseProxies(config!.useProxies)\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce: IProduce = (base: any, recipe?: any, patchListener?: any) => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(this, base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\t\treturn result.then(\n\t\t\t\t\tresult => {\n\t\t\t\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\t\t\t\treturn processResult(result, scope)\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\trevokeScope(scope)\n\t\t\t\t\t\tthrow error\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === NOTHING) return undefined\n\t\t\tif (result === undefined) result = base\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\treturn result\n\t\t} else die(21, base)\n\t}\n\n\tproduceWithPatches: IProduceWithPatches = (\n\t\targ1: any,\n\t\targ2?: any,\n\t\targ3?: any\n\t): any => {\n\t\tif (typeof arg1 === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => arg1(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst nextState = this.produce(arg1, arg2, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\t\treturn [nextState, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(this, base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (__DEV__) {\n\t\t\tif (!state || !state.isManual_) die(9)\n\t\t\tif (state.finalized_) die(10)\n\t\t}\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n\t * always faster than using ES5 proxies.\n\t *\n\t * By default, feature detection is used, so calling this is rarely necessary.\n\t */\n\tsetUseProxies(value: boolean) {\n\t\tif (value && !hasProxies) {\n\t\t\tdie(20)\n\t\t}\n\t\tthis.useProxies_ = value\n\t}\n\n\tapplyPatches<T extends Objectish>(base: T, patches: Patch[]): T {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// If there was a patch that replaced the entire state, start from the\n\t\t// patch after that.\n\t\tif (i > -1) {\n\t\t\tpatches = patches.slice(i + 1)\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches)\n\t\t)\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\timmer: Immer,\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: immer.useProxies_\n\t\t? createProxyProxy(value, parent)\n\t\t: getPlugin(\"ES5\").createES5Proxy_(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n", "import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tget,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tArchtype,\n\tgetArchtype,\n\tgetPlugin\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(22, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tconst archType = getArchtype(value)\n\tif (state) {\n\t\tif (\n\t\t\t!state.modified_ &&\n\t\t\t(state.type_ < 4 || !getPlugin(\"ES5\").hasChanges_(state as any))\n\t\t)\n\t\t\treturn state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = copyHelper(value, archType)\n\t\tstate.finalized_ = false\n\t} else {\n\t\tcopy = copyHelper(value, archType)\n\t}\n\n\teach(copy, (key, childValue) => {\n\t\tif (state && get(state.base_, key) === childValue) return // no need to copy or search in something that didn't change\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\t// In the future, we might consider freezing here, based on the current settings\n\treturn archType === Archtype.Set ? new Set(copy) : copy\n}\n\nfunction copyHelper(value: any, archType: number): any {\n\t// creates a shallow copy, even if it is a map or set\n\tswitch (archType) {\n\t\tcase Archtype.Map:\n\t\t\treturn new Map(value)\n\t\tcase Archtype.Set:\n\t\t\t// Set will be cloned as array temporarily, so that we can replace individual items\n\t\t\treturn Array.from(value)\n\t}\n\treturn shallowCopy(value)\n}\n", "import {\n\tImmerState,\n\tDrafted,\n\tES5ArrayState,\n\tES5ObjectState,\n\teach,\n\thas,\n\tisDraft,\n\tlatest,\n\tDRAFT_STATE,\n\tis,\n\tloadPlugin,\n\tImmerScope,\n\tProxyType,\n\tgetCurrentScope,\n\tdie,\n\tmarkChanged,\n\tobjectTraps,\n\townKeys,\n\tgetOwnPropertyDescriptors\n} from \"../internal\"\n\ntype ES5State = ES5ArrayState | ES5ObjectState\n\nexport function enableES5() {\n\tfunction willFinalizeES5_(\n\t\tscope: ImmerScope,\n\t\tresult: any,\n\t\tisReplaced: boolean\n\t) {\n\t\tif (!isReplaced) {\n\t\t\tif (scope.patches_) {\n\t\t\t\tmarkChangesRecursively(scope.drafts_![0])\n\t\t\t}\n\t\t\t// This is faster when we don't care about which attributes changed.\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t\t// When a child draft is returned, look for changes.\n\t\telse if (\n\t\t\tisDraft(result) &&\n\t\t\t(result[DRAFT_STATE] as ES5State).scope_ === scope\n\t\t) {\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t}\n\n\tfunction createES5Draft(isArray: boolean, base: any) {\n\t\tif (isArray) {\n\t\t\tconst draft = new Array(base.length)\n\t\t\tfor (let i = 0; i < base.length; i++)\n\t\t\t\tObject.defineProperty(draft, \"\" + i, proxyProperty(i, true))\n\t\t\treturn draft\n\t\t} else {\n\t\t\tconst descriptors = getOwnPropertyDescriptors(base)\n\t\t\tdelete descriptors[DRAFT_STATE as any]\n\t\t\tconst keys = ownKeys(descriptors)\n\t\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\t\tconst key: any = keys[i]\n\t\t\t\tdescriptors[key] = proxyProperty(\n\t\t\t\t\tkey,\n\t\t\t\t\tisArray || !!descriptors[key].enumerable\n\t\t\t\t)\n\t\t\t}\n\t\t\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n\t\t}\n\t}\n\n\tfunction createES5Proxy_<T>(\n\t\tbase: T,\n\t\tparent?: ImmerState\n\t): Drafted<T, ES5ObjectState | ES5ArrayState> {\n\t\tconst isArray = Array.isArray(base)\n\t\tconst draft = createES5Draft(isArray, base)\n\n\t\tconst state: ES5ObjectState | ES5ArrayState = {\n\t\t\ttype_: isArray ? ProxyType.ES5Array : (ProxyType.ES5Object as any),\n\t\t\tscope_: parent ? parent.scope_ : getCurrentScope(),\n\t\t\tmodified_: false,\n\t\t\tfinalized_: false,\n\t\t\tassigned_: {},\n\t\t\tparent_: parent,\n\t\t\t// base is the object we are drafting\n\t\t\tbase_: base,\n\t\t\t// draft is the draft object itself, that traps all reads and reads from either the base (if unmodified) or copy (if modified)\n\t\t\tdraft_: draft,\n\t\t\tcopy_: null,\n\t\t\trevoked_: false,\n\t\t\tisManual_: false\n\t\t}\n\n\t\tObject.defineProperty(draft, DRAFT_STATE, {\n\t\t\tvalue: state,\n\t\t\t// enumerable: false <- the default\n\t\t\twritable: true\n\t\t})\n\t\treturn draft\n\t}\n\n\t// property descriptors are recycled to make sure we don't create a get and set closure per property,\n\t// but share them all instead\n\tconst descriptors: {[prop: string]: PropertyDescriptor} = {}\n\n\tfunction proxyProperty(\n\t\tprop: string | number,\n\t\tenumerable: boolean\n\t): PropertyDescriptor {\n\t\tlet desc = descriptors[prop]\n\t\tif (desc) {\n\t\t\tdesc.enumerable = enumerable\n\t\t} else {\n\t\t\tdescriptors[prop] = desc = {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable,\n\t\t\t\tget(this: any) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\treturn objectTraps.get(state, prop)\n\t\t\t\t},\n\t\t\t\tset(this: any, value) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tobjectTraps.set(state, prop, value)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn desc\n\t}\n\n\t// This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\tfunction markChangesSweep(drafts: Drafted<any, ImmerState>[]) {\n\t\t// The natural order of drafts in the `scope` array is based on when they\n\t\t// were accessed. By processing drafts in reverse natural order, we have a\n\t\t// better chance of processing leaf nodes first. When a leaf node is known to\n\t\t// have changed, we can avoid any traversal of its ancestor nodes.\n\t\tfor (let i = drafts.length - 1; i >= 0; i--) {\n\t\t\tconst state: ES5State = drafts[i][DRAFT_STATE]\n\t\t\tif (!state.modified_) {\n\t\t\t\tswitch (state.type_) {\n\t\t\t\t\tcase ProxyType.ES5Array:\n\t\t\t\t\t\tif (hasArrayChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase ProxyType.ES5Object:\n\t\t\t\t\t\tif (hasObjectChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction markChangesRecursively(object: any) {\n\t\tif (!object || typeof object !== \"object\") return\n\t\tconst state: ES5State | undefined = object[DRAFT_STATE]\n\t\tif (!state) return\n\t\tconst {base_, draft_, assigned_, type_} = state\n\t\tif (type_ === ProxyType.ES5Object) {\n\t\t\t// Look for added keys.\n\t\t\t// probably there is a faster way to detect changes, as sweep + recurse seems to do some\n\t\t\t// unnecessary work.\n\t\t\t// also: probably we can store the information we detect here, to speed up tree finalization!\n\t\t\teach(draft_, key => {\n\t\t\t\tif ((key as any) === DRAFT_STATE) return\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif ((base_ as any)[key] === undefined && !has(base_, key)) {\n\t\t\t\t\tassigned_[key] = true\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t} else if (!assigned_[key]) {\n\t\t\t\t\t// Only untouched properties trigger recursion.\n\t\t\t\t\tmarkChangesRecursively(draft_[key])\n\t\t\t\t}\n\t\t\t})\n\t\t\t// Look for removed keys.\n\t\t\teach(base_, key => {\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif (draft_[key] === undefined && !has(draft_, key)) {\n\t\t\t\t\tassigned_[key] = false\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t}\n\t\t\t})\n\t\t} else if (type_ === ProxyType.ES5Array) {\n\t\t\tif (hasArrayChanges(state as ES5ArrayState)) {\n\t\t\t\tmarkChanged(state)\n\t\t\t\tassigned_.length = true\n\t\t\t}\n\n\t\t\tif (draft_.length < base_.length) {\n\t\t\t\tfor (let i = draft_.length; i < base_.length; i++) assigned_[i] = false\n\t\t\t} else {\n\t\t\t\tfor (let i = base_.length; i < draft_.length; i++) assigned_[i] = true\n\t\t\t}\n\n\t\t\t// Minimum count is enough, the other parts has been processed.\n\t\t\tconst min = Math.min(draft_.length, base_.length)\n\n\t\t\tfor (let i = 0; i < min; i++) {\n\t\t\t\t// Only untouched indices trigger recursion.\n\t\t\t\tif (assigned_[i] === undefined) markChangesRecursively(draft_[i])\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasObjectChanges(state: ES5ObjectState) {\n\t\tconst {base_, draft_} = state\n\n\t\t// Search for added keys and changed keys. Start at the back, because\n\t\t// non-numeric keys are ordered by time of definition on the object.\n\t\tconst keys = ownKeys(draft_)\n\t\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\t\tconst key: any = keys[i]\n\t\t\tif (key === DRAFT_STATE) continue\n\t\t\tconst baseValue = base_[key]\n\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\tif (baseValue === undefined && !has(base_, key)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\t// Once a base key is deleted, future changes go undetected, because its\n\t\t\t// descriptor is erased. This branch detects any missed changes.\n\t\t\telse {\n\t\t\t\tconst value = draft_[key]\n\t\t\t\tconst state: ImmerState = value && value[DRAFT_STATE]\n\t\t\t\tif (state ? state.base_ !== baseValue : !is(value, baseValue)) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// At this point, no keys were added or changed.\n\t\t// Compare key count to determine if keys were deleted.\n\t\tconst baseIsDraft = !!base_[DRAFT_STATE as any]\n\t\treturn keys.length !== ownKeys(base_).length + (baseIsDraft ? 0 : 1) // + 1 to correct for DRAFT_STATE\n\t}\n\n\tfunction hasArrayChanges(state: ES5ArrayState) {\n\t\tconst {draft_} = state\n\t\tif (draft_.length !== state.base_.length) return true\n\t\t// See #116\n\t\t// If we first shorten the length, our array interceptors will be removed.\n\t\t// If after that new items are added, result in the same original length,\n\t\t// those last items will have no intercepting property.\n\t\t// So if there is no own descriptor on the last position, we know that items were removed and added\n\t\t// N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n\t\t// the last one\n\t\tconst descriptor = Object.getOwnPropertyDescriptor(\n\t\t\tdraft_,\n\t\t\tdraft_.length - 1\n\t\t)\n\t\t// descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\t\tif (descriptor && !descriptor.get) return true\n\t\t// For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\t\treturn false\n\t}\n\n\tfunction hasChanges_(state: ES5State) {\n\t\treturn state.type_ === ProxyType.ES5Object\n\t\t\t? hasObjectChanges(state)\n\t\t\t: hasArrayChanges(state)\n\t}\n\n\tfunction assertUnrevoked(state: any /*ES5State | MapState | SetState*/) {\n\t\tif (state.revoked_) die(3, JSON.stringify(latest(state)))\n\t}\n\n\tloadPlugin(\"ES5\", {\n\t\tcreateES5Proxy_,\n\t\twillFinalizeES5_,\n\t\thasChanges_\n\t})\n}\n", "import {immerable} from \"../immer\"\nimport {\n\tImmerState,\n\tPatch,\n\tSetState,\n\tES5ArrayState,\n\tProxyArrayState,\n\tMapState,\n\tES5ObjectState,\n\tProxyObjectState,\n\tPatchPath,\n\tget,\n\teach,\n\thas,\n\tgetArchtype,\n\tisSet,\n\tisMap,\n\tloadPlugin,\n\tProxyType,\n\tArchtype,\n\tdie,\n\tisDraft,\n\tisDraftable,\n\tNOTHING\n} from \"../internal\"\n\nexport function enablePatches() {\n\tconst REPLACE = \"replace\"\n\tconst ADD = \"add\"\n\tconst REMOVE = \"remove\"\n\n\tfunction generatePatches_(\n\t\tstate: ImmerState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t): void {\n\t\tswitch (state.type_) {\n\t\t\tcase ProxyType.ProxyObject:\n\t\t\tcase ProxyType.ES5Object:\n\t\t\tcase ProxyType.Map:\n\t\t\t\treturn generatePatchesFromAssigned(\n\t\t\t\t\tstate,\n\t\t\t\t\tbasePath,\n\t\t\t\t\tpatches,\n\t\t\t\t\tinversePatches\n\t\t\t\t)\n\t\t\tcase ProxyType.ES5Array:\n\t\t\tcase ProxyType.ProxyArray:\n\t\t\t\treturn generateArrayPatches(state, basePath, patches, inversePatches)\n\t\t\tcase ProxyType.Set:\n\t\t\t\treturn generateSetPatches(\n\t\t\t\t\t(state as any) as SetState,\n\t\t\t\t\tbasePath,\n\t\t\t\t\tpatches,\n\t\t\t\t\tinversePatches\n\t\t\t\t)\n\t\t}\n\t}\n\n\tfunction generateArrayPatches(\n\t\tstate: ES5ArrayState | ProxyArrayState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tlet {base_, assigned_} = state\n\t\tlet copy_ = state.copy_!\n\n\t\t// Reduce complexity by ensuring `base` is never longer.\n\t\tif (copy_.length < base_.length) {\n\t\t\t// @ts-ignore\n\t\t\t;[base_, copy_] = [copy_, base_]\n\t\t\t;[patches, inversePatches] = [inversePatches, patches]\n\t\t}\n\n\t\t// Process replaced indices.\n\t\tfor (let i = 0; i < base_.length; i++) {\n\t\t\tif (assigned_[i] && copy_[i] !== base_[i]) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: REPLACE,\n\t\t\t\t\tpath,\n\t\t\t\t\t// Need to maybe clone it, as it can in fact be the original value\n\t\t\t\t\t// due to the base/copy inversion at the start of this function\n\t\t\t\t\tvalue: clonePatchValueIfNeeded(copy_[i])\n\t\t\t\t})\n\t\t\t\tinversePatches.push({\n\t\t\t\t\top: REPLACE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue: clonePatchValueIfNeeded(base_[i])\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\n\t\t// Process added indices.\n\t\tfor (let i = base_.length; i < copy_.length; i++) {\n\t\t\tconst path = basePath.concat([i])\n\t\t\tpatches.push({\n\t\t\t\top: ADD,\n\t\t\t\tpath,\n\t\t\t\t// Need to maybe clone it, as it can in fact be the original value\n\t\t\t\t// due to the base/copy inversion at the start of this function\n\t\t\t\tvalue: clonePatchValueIfNeeded(copy_[i])\n\t\t\t})\n\t\t}\n\t\tif (base_.length < copy_.length) {\n\t\t\tinversePatches.push({\n\t\t\t\top: REPLACE,\n\t\t\t\tpath: basePath.concat([\"length\"]),\n\t\t\t\tvalue: base_.length\n\t\t\t})\n\t\t}\n\t}\n\n\t// This is used for both Map objects and normal objects.\n\tfunction generatePatchesFromAssigned(\n\t\tstate: MapState | ES5ObjectState | ProxyObjectState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tconst {base_, copy_} = state\n\t\teach(state.assigned_!, (key, assignedValue) => {\n\t\t\tconst origValue = get(base_, key)\n\t\t\tconst value = get(copy_!, key)\n\t\t\tconst op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD\n\t\t\tif (origValue === value && op === REPLACE) return\n\t\t\tconst path = basePath.concat(key as any)\n\t\t\tpatches.push(op === REMOVE ? {op, path} : {op, path, value})\n\t\t\tinversePatches.push(\n\t\t\t\top === ADD\n\t\t\t\t\t? {op: REMOVE, path}\n\t\t\t\t\t: op === REMOVE\n\t\t\t\t\t? {op: ADD, path, value: clonePatchValueIfNeeded(origValue)}\n\t\t\t\t\t: {op: REPLACE, path, value: clonePatchValueIfNeeded(origValue)}\n\t\t\t)\n\t\t})\n\t}\n\n\tfunction generateSetPatches(\n\t\tstate: SetState,\n\t\tbasePath: PatchPath,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t) {\n\t\tlet {base_, copy_} = state\n\n\t\tlet i = 0\n\t\tbase_.forEach((value: any) => {\n\t\t\tif (!copy_!.has(value)) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: REMOVE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t\tinversePatches.unshift({\n\t\t\t\t\top: ADD,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t}\n\t\t\ti++\n\t\t})\n\t\ti = 0\n\t\tcopy_!.forEach((value: any) => {\n\t\t\tif (!base_.has(value)) {\n\t\t\t\tconst path = basePath.concat([i])\n\t\t\t\tpatches.push({\n\t\t\t\t\top: ADD,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t\tinversePatches.unshift({\n\t\t\t\t\top: REMOVE,\n\t\t\t\t\tpath,\n\t\t\t\t\tvalue\n\t\t\t\t})\n\t\t\t}\n\t\t\ti++\n\t\t})\n\t}\n\n\tfunction generateReplacementPatches_(\n\t\trootState: ImmerState,\n\t\treplacement: any,\n\t\tpatches: Patch[],\n\t\tinversePatches: Patch[]\n\t): void {\n\t\tpatches.push({\n\t\t\top: REPLACE,\n\t\t\tpath: [],\n\t\t\tvalue: replacement === NOTHING ? undefined : replacement\n\t\t})\n\t\tinversePatches.push({\n\t\t\top: REPLACE,\n\t\t\tpath: [],\n\t\t\tvalue: rootState.base_\n\t\t})\n\t}\n\n\tfunction applyPatches_<T>(draft: T, patches: Patch[]): T {\n\t\tpatches.forEach(patch => {\n\t\t\tconst {path, op} = patch\n\n\t\t\tlet base: any = draft\n\t\t\tfor (let i = 0; i < path.length - 1; i++) {\n\t\t\t\tconst parentType = getArchtype(base)\n\t\t\t\tconst p = \"\" + path[i]\n\t\t\t\t// See #738, avoid prototype pollution\n\t\t\t\tif (\n\t\t\t\t\t(parentType === Archtype.Object || parentType === Archtype.Array) &&\n\t\t\t\t\t(p === \"__proto__\" || p === \"constructor\")\n\t\t\t\t)\n\t\t\t\t\tdie(24)\n\t\t\t\tif (typeof base === \"function\" && p === \"prototype\") die(24)\n\t\t\t\tbase = get(base, p)\n\t\t\t\tif (typeof base !== \"object\") die(15, path.join(\"/\"))\n\t\t\t}\n\n\t\t\tconst type = getArchtype(base)\n\t\t\tconst value = deepClonePatchValue(patch.value) // used to clone patch to ensure original patch is not modified, see #411\n\t\t\tconst key = path[path.length - 1]\n\t\t\tswitch (op) {\n\t\t\t\tcase REPLACE:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase Archtype.Map:\n\t\t\t\t\t\t\treturn base.set(key, value)\n\t\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\t\tcase Archtype.Set:\n\t\t\t\t\t\t\tdie(16)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t// if value is an object, then it's assigned by reference\n\t\t\t\t\t\t\t// in the following add or remove ops, the value field inside the patch will also be modifyed\n\t\t\t\t\t\t\t// so we use value from the cloned patch\n\t\t\t\t\t\t\t// @ts-ignore\n\t\t\t\t\t\t\treturn (base[key] = value)\n\t\t\t\t\t}\n\t\t\t\tcase ADD:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase Archtype.Array:\n\t\t\t\t\t\t\treturn key === \"-\"\n\t\t\t\t\t\t\t\t? base.push(value)\n\t\t\t\t\t\t\t\t: base.splice(key as any, 0, value)\n\t\t\t\t\t\tcase Archtype.Map:\n\t\t\t\t\t\t\treturn base.set(key, value)\n\t\t\t\t\t\tcase Archtype.Set:\n\t\t\t\t\t\t\treturn base.add(value)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn (base[key] = value)\n\t\t\t\t\t}\n\t\t\t\tcase REMOVE:\n\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\tcase Archtype.Array:\n\t\t\t\t\t\t\treturn base.splice(key as any, 1)\n\t\t\t\t\t\tcase Archtype.Map:\n\t\t\t\t\t\t\treturn base.delete(key)\n\t\t\t\t\t\tcase Archtype.Set:\n\t\t\t\t\t\t\treturn base.delete(patch.value)\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn delete base[key]\n\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tdie(17, op)\n\t\t\t}\n\t\t})\n\n\t\treturn draft\n\t}\n\n\t// optimize: this is quite a performance hit, can we detect intelligently when it is needed?\n\t// E.g. auto-draft when new objects from outside are assigned and modified?\n\t// (See failing test when deepClone just returns obj)\n\tfunction deepClonePatchValue<T>(obj: T): T\n\tfunction deepClonePatchValue(obj: any) {\n\t\tif (!isDraftable(obj)) return obj\n\t\tif (Array.isArray(obj)) return obj.map(deepClonePatchValue)\n\t\tif (isMap(obj))\n\t\t\treturn new Map(\n\t\t\t\tArray.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n\t\t\t)\n\t\tif (isSet(obj)) return new Set(Array.from(obj).map(deepClonePatchValue))\n\t\tconst cloned = Object.create(Object.getPrototypeOf(obj))\n\t\tfor (const key in obj) cloned[key] = deepClonePatchValue(obj[key])\n\t\tif (has(obj, immerable)) cloned[immerable] = obj[immerable]\n\t\treturn cloned\n\t}\n\n\tfunction clonePatchValueIfNeeded<T>(obj: T): T {\n\t\tif (isDraft(obj)) {\n\t\t\treturn deepClonePatchValue(obj)\n\t\t} else return obj\n\t}\n\n\tloadPlugin(\"Patches\", {\n\t\tapplyPatches_,\n\t\tgeneratePatches_,\n\t\tgenerateReplacementPatches_\n\t})\n}\n", "// types only!\nimport {\n\tImmerState,\n\tAnyMap,\n\tAnySet,\n\tMapState,\n\tSetState,\n\tDRAFT_STATE,\n\tgetCurrentScope,\n\tlatest,\n\titeratorSymbol,\n\tisDraftable,\n\tcreateProxy,\n\tloadPlugin,\n\tmarkChanged,\n\tProxyType,\n\tdie,\n\teach\n} from \"../internal\"\n\nexport function enableMapSet() {\n\t/* istanbul ignore next */\n\tvar extendStatics = function(d: any, b: any): any {\n\t\textendStatics =\n\t\t\tObject.setPrototypeOf ||\n\t\t\t({__proto__: []} instanceof Array &&\n\t\t\t\tfunction(d, b) {\n\t\t\t\t\td.__proto__ = b\n\t\t\t\t}) ||\n\t\t\tfunction(d, b) {\n\t\t\t\tfor (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]\n\t\t\t}\n\t\treturn extendStatics(d, b)\n\t}\n\n\t// Ugly hack to resolve #502 and inherit built in Map / Set\n\tfunction __extends(d: any, b: any): any {\n\t\textendStatics(d, b)\n\t\tfunction __(this: any): any {\n\t\t\tthis.constructor = d\n\t\t}\n\t\td.prototype =\n\t\t\t// @ts-ignore\n\t\t\t((__.prototype = b.prototype), new __())\n\t}\n\n\tconst DraftMap = (function(_super) {\n\t\t__extends(DraftMap, _super)\n\t\t// Create class manually, cause #502\n\t\tfunction DraftMap(this: any, target: AnyMap, parent?: ImmerState): any {\n\t\t\tthis[DRAFT_STATE] = {\n\t\t\t\ttype_: ProxyType.Map,\n\t\t\t\tparent_: parent,\n\t\t\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t\t\tmodified_: false,\n\t\t\t\tfinalized_: false,\n\t\t\t\tcopy_: undefined,\n\t\t\t\tassigned_: undefined,\n\t\t\t\tbase_: target,\n\t\t\t\tdraft_: this as any,\n\t\t\t\tisManual_: false,\n\t\t\t\trevoked_: false\n\t\t\t} as MapState\n\t\t\treturn this\n\t\t}\n\t\tconst p = DraftMap.prototype\n\n\t\tObject.defineProperty(p, \"size\", {\n\t\t\tget: function() {\n\t\t\t\treturn latest(this[DRAFT_STATE]).size\n\t\t\t}\n\t\t\t// enumerable: false,\n\t\t\t// configurable: true\n\t\t})\n\n\t\tp.has = function(key: any): boolean {\n\t\t\treturn latest(this[DRAFT_STATE]).has(key)\n\t\t}\n\n\t\tp.set = function(key: any, value: any) {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (!latest(state).has(key) || latest(state).get(key) !== value) {\n\t\t\t\tprepareMapCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.assigned_!.set(key, true)\n\t\t\t\tstate.copy_!.set(key, value)\n\t\t\t\tstate.assigned_!.set(key, true)\n\t\t\t}\n\t\t\treturn this\n\t\t}\n\n\t\tp.delete = function(key: any): boolean {\n\t\t\tif (!this.has(key)) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareMapCopy(state)\n\t\t\tmarkChanged(state)\n\t\t\tstate.assigned_!.set(key, false)\n\t\t\tstate.copy_!.delete(key)\n\t\t\treturn true\n\t\t}\n\n\t\tp.clear = function() {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (latest(state).size) {\n\t\t\t\tprepareMapCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.assigned_ = new Map()\n\t\t\t\teach(state.base_, key => {\n\t\t\t\t\tstate.assigned_!.set(key, false)\n\t\t\t\t})\n\t\t\t\tstate.copy_!.clear()\n\t\t\t}\n\t\t}\n\n\t\tp.forEach = function(\n\t\t\tcb: (value: any, key: any, self: any) => void,\n\t\t\tthisArg?: any\n\t\t) {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tlatest(state).forEach((_value: any, key: any, _map: any) => {\n\t\t\t\tcb.call(thisArg, this.get(key), key, this)\n\t\t\t})\n\t\t}\n\n\t\tp.get = function(key: any): any {\n\t\t\tconst state: MapState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tconst value = latest(state).get(key)\n\t\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\t\treturn value\n\t\t\t}\n\t\t\tif (value !== state.base_.get(key)) {\n\t\t\t\treturn value // either already drafted or reassigned\n\t\t\t}\n\t\t\t// despite what it looks, this creates a draft only once, see above condition\n\t\t\tconst draft = createProxy(state.scope_.immer_, value, state)\n\t\t\tprepareMapCopy(state)\n\t\t\tstate.copy_!.set(key, draft)\n\t\t\treturn draft\n\t\t}\n\n\t\tp.keys = function(): IterableIterator<any> {\n\t\t\treturn latest(this[DRAFT_STATE]).keys()\n\t\t}\n\n\t\tp.values = function(): IterableIterator<any> {\n\t\t\tconst iterator = this.keys()\n\t\t\treturn {\n\t\t\t\t[iteratorSymbol]: () => this.values(),\n\t\t\t\tnext: () => {\n\t\t\t\t\tconst r = iterator.next()\n\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\tif (r.done) return r\n\t\t\t\t\tconst value = this.get(r.value)\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: false,\n\t\t\t\t\t\tvalue\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} as any\n\t\t}\n\n\t\tp.entries = function(): IterableIterator<[any, any]> {\n\t\t\tconst iterator = this.keys()\n\t\t\treturn {\n\t\t\t\t[iteratorSymbol]: () => this.entries(),\n\t\t\t\tnext: () => {\n\t\t\t\t\tconst r = iterator.next()\n\t\t\t\t\t/* istanbul ignore next */\n\t\t\t\t\tif (r.done) return r\n\t\t\t\t\tconst value = this.get(r.value)\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdone: false,\n\t\t\t\t\t\tvalue: [r.value, value]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} as any\n\t\t}\n\n\t\tp[iteratorSymbol] = function() {\n\t\t\treturn this.entries()\n\t\t}\n\n\t\treturn DraftMap\n\t})(Map)\n\n\tfunction proxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T {\n\t\t// @ts-ignore\n\t\treturn new DraftMap(target, parent)\n\t}\n\n\tfunction prepareMapCopy(state: MapState) {\n\t\tif (!state.copy_) {\n\t\t\tstate.assigned_ = new Map()\n\t\t\tstate.copy_ = new Map(state.base_)\n\t\t}\n\t}\n\n\tconst DraftSet = (function(_super) {\n\t\t__extends(DraftSet, _super)\n\t\t// Create class manually, cause #502\n\t\tfunction DraftSet(this: any, target: AnySet, parent?: ImmerState) {\n\t\t\tthis[DRAFT_STATE] = {\n\t\t\t\ttype_: ProxyType.Set,\n\t\t\t\tparent_: parent,\n\t\t\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t\t\tmodified_: false,\n\t\t\t\tfinalized_: false,\n\t\t\t\tcopy_: undefined,\n\t\t\t\tbase_: target,\n\t\t\t\tdraft_: this,\n\t\t\t\tdrafts_: new Map(),\n\t\t\t\trevoked_: false,\n\t\t\t\tisManual_: false\n\t\t\t} as SetState\n\t\t\treturn this\n\t\t}\n\t\tconst p = DraftSet.prototype\n\n\t\tObject.defineProperty(p, \"size\", {\n\t\t\tget: function() {\n\t\t\t\treturn latest(this[DRAFT_STATE]).size\n\t\t\t}\n\t\t\t// enumerable: true,\n\t\t})\n\n\t\tp.has = function(value: any): boolean {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\t// bit of trickery here, to be able to recognize both the value, and the draft of its value\n\t\t\tif (!state.copy_) {\n\t\t\t\treturn state.base_.has(value)\n\t\t\t}\n\t\t\tif (state.copy_.has(value)) return true\n\t\t\tif (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n\t\t\t\treturn true\n\t\t\treturn false\n\t\t}\n\n\t\tp.add = function(value: any): any {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (!this.has(value)) {\n\t\t\t\tprepareSetCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.copy_!.add(value)\n\t\t\t}\n\t\t\treturn this\n\t\t}\n\n\t\tp.delete = function(value: any): any {\n\t\t\tif (!this.has(value)) {\n\t\t\t\treturn false\n\t\t\t}\n\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\tmarkChanged(state)\n\t\t\treturn (\n\t\t\t\tstate.copy_!.delete(value) ||\n\t\t\t\t(state.drafts_.has(value)\n\t\t\t\t\t? state.copy_!.delete(state.drafts_.get(value))\n\t\t\t\t\t: /* istanbul ignore next */ false)\n\t\t\t)\n\t\t}\n\n\t\tp.clear = function() {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tif (latest(state).size) {\n\t\t\t\tprepareSetCopy(state)\n\t\t\t\tmarkChanged(state)\n\t\t\t\tstate.copy_!.clear()\n\t\t\t}\n\t\t}\n\n\t\tp.values = function(): IterableIterator<any> {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\treturn state.copy_!.values()\n\t\t}\n\n\t\tp.entries = function entries(): IterableIterator<[any, any]> {\n\t\t\tconst state: SetState = this[DRAFT_STATE]\n\t\t\tassertUnrevoked(state)\n\t\t\tprepareSetCopy(state)\n\t\t\treturn state.copy_!.entries()\n\t\t}\n\n\t\tp.keys = function(): IterableIterator<any> {\n\t\t\treturn this.values()\n\t\t}\n\n\t\tp[iteratorSymbol] = function() {\n\t\t\treturn this.values()\n\t\t}\n\n\t\tp.forEach = function forEach(cb: any, thisArg?: any) {\n\t\t\tconst iterator = this.values()\n\t\t\tlet result = iterator.next()\n\t\t\twhile (!result.done) {\n\t\t\t\tcb.call(thisArg, result.value, result.value, this)\n\t\t\t\tresult = iterator.next()\n\t\t\t}\n\t\t}\n\n\t\treturn DraftSet\n\t})(Set)\n\n\tfunction proxySet_<T extends AnySet>(target: T, parent?: ImmerState): T {\n\t\t// @ts-ignore\n\t\treturn new DraftSet(target, parent)\n\t}\n\n\tfunction prepareSetCopy(state: SetState) {\n\t\tif (!state.copy_) {\n\t\t\t// create drafts for all entries to preserve insertion order\n\t\t\tstate.copy_ = new Set()\n\t\t\tstate.base_.forEach(value => {\n\t\t\t\tif (isDraftable(value)) {\n\t\t\t\t\tconst draft = createProxy(state.scope_.immer_, value, state)\n\t\t\t\t\tstate.drafts_.set(value, draft)\n\t\t\t\t\tstate.copy_!.add(draft)\n\t\t\t\t} else {\n\t\t\t\t\tstate.copy_!.add(value)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\tfunction assertUnrevoked(state: any /*ES5State | MapState | SetState*/) {\n\t\tif (state.revoked_) die(3, JSON.stringify(latest(state)))\n\t}\n\n\tloadPlugin(\"MapSet\", {proxyMap_, proxySet_})\n}\n", "import {enableES5} from \"./es5\"\nimport {enableMapSet} from \"./mapset\"\nimport {enablePatches} from \"./patches\"\n\nexport function enableAllPlugins() {\n\tenableES5()\n\tenableMapSet()\n\tenablePatches()\n}\n", "import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\nexport default produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enableES5} from \"./plugins/es5\"\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\nexport {enableAllPlugins} from \"./plugins/all\"\n", "// Should be no imports here!\n\n// Some things that should be evaluated before all else...\n\n// We only want to know if non-polyfilled symbols are available\nconst hasSymbol =\n\ttypeof Symbol !== \"undefined\" && typeof Symbol(\"x\") === \"symbol\"\nexport const hasMap = typeof Map !== \"undefined\"\nexport const hasSet = typeof Set !== \"undefined\"\nexport const hasProxies =\n\ttypeof Proxy !== \"undefined\" &&\n\ttypeof Proxy.revocable !== \"undefined\" &&\n\ttypeof Reflect !== \"undefined\"\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: Nothing = hasSymbol\n\t? Symbol.for(\"immer-nothing\")\n\t: ({[\"immer-nothing\"]: true} as any)\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-draftable\")\n\t: (\"__$immer_draftable\" as any)\n\nexport const DRAFT_STATE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-state\")\n\t: (\"__$immer_state\" as any)\n\n// Even a polyfilled Symbol might provide Symbol.iterator\nexport const iteratorSymbol: typeof Symbol.iterator =\n\t(typeof Symbol != \"undefined\" && Symbol.iterator) || (\"@@iterator\" as any)\n\n/** Use a class type for `nothing` so its type is unique */\nexport class Nothing {\n\t// This lets us do `Exclude<T, Nothing>`\n\t// @ts-ignore\n\tprivate _!: unique symbol\n}\n", "/**\n * Gets a (nested) property of an object.\n *\n * @example\n * const user = {\n *   name: {\n *     first: \"Bob\",\n *     last: \"Dylan\"\n *   }\n * };\n *\n * const firstName = getProperty(user, \"name.first\");\n *\n * console.log(firstName); // \"Bob\"\n */\nexport function getProperty(object, key) {\n  if (object != null) {\n    const parsed = parseKey(key);\n    let value = object;\n\n    while (parsed.length > 0) {\n      const part = parsed.shift();\n\n      if (part === \"*\") {\n        if (Array.isArray(value)) {\n          return value.map((v) => getProperty(v, parsed.join(\".\")));\n        } else {\n          value = undefined;\n        }\n      } else {\n        if (value != null) {\n          value = value[part];\n        } else {\n          value = undefined;\n        }\n      }\n    }\n\n    return value;\n  }\n\n  return undefined;\n}\n\nfunction parseKey(key) {\n  return String(key)\n    .split(/[\\.\\[\\]]/)\n    .filter((part) => part.trim() !== \"\");\n}\n", "export const isObject = (value) => typeof value === \"object\" && !Array.isArray(value);\nexport const isFunction = (value) => value instanceof Function;\nexport const isString = (value) => typeof value === \"string\";\nexport const isArray = (value) => Array.isArray(value);\n\nexport function deepEqual(one, two) {\n  if (one === two) {\n    return true;\n  }\n\n  if (isObject(one) && isObject(two)) {\n    const keysOne = Object.keys(one);\n    const keysTwo = Object.keys(two);\n\n    if (keysOne.length !== keysTwo.length) {\n      return false;\n    }\n\n    for (const key in one) {\n      if (!deepEqual(one[key], two[key])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if (isArray(one) && isArray(two)) {\n    if (one.length !== two.length) {\n      return false;\n    }\n\n    for (const index in one) {\n      if (!deepEqual(one[index], two[index])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return one === two;\n}\n", "import produce from \"immer\";\nimport { getProperty } from \"./getProperty.js\";\nimport { isFunction, isObject, isString, deepEqual } from \"./utils.js\";\n\n/**\n * Creates a state container in the form of a function.\n *\n * @param initialValue - Optional starting value\n */\nexport function makeState(initialValue) {\n  let current = initialValue;\n  let watchers = [];\n\n  return {\n    get(key) {\n      if (key !== undefined) {\n        return getProperty(current, key);\n      }\n\n      return current;\n    },\n\n    set(value) {\n      if (isFunction(value)) {\n        // Produce a new value from a mutated draft with immer.\n        value = produce(current, (draft) => {\n          return value(draft);\n        });\n      }\n\n      if (!deepEqual(current, value)) {\n        current = value;\n\n        for (const callback of watchers) {\n          callback(current);\n        }\n      }\n    },\n\n    watch(...args) {\n      let key;\n      let callback;\n      let options = {};\n\n      if (isString(args[0])) {\n        key = args.shift();\n      }\n\n      if (isFunction(args[0])) {\n        callback = args.shift();\n      }\n\n      if (isObject(args[0])) {\n        options = args.shift();\n      }\n\n      if (!isFunction(callback)) {\n        throw new TypeError(`Expected a watcher function but none was passed. Received: ${args}`);\n      }\n\n      if (key) {\n        // Track changes to this particular key and only fire when its value changes.\n        let previous = undefined;\n\n        let fn = callback;\n        callback = (value) => {\n          value = getProperty(value, key);\n\n          if (!deepEqual(value, previous)) {\n            previous = value;\n            return fn(value);\n          }\n        };\n      }\n\n      if (options.immediate) {\n        callback(current);\n      }\n\n      watchers.push(callback);\n\n      return function unwatch() {\n        watchers.splice(watchers.indexOf(callback), 1);\n      };\n    },\n\n    map(...args) {\n      let key;\n      let transform = (x) => x;\n\n      if (isString(args[0])) {\n        key = args.shift();\n      }\n\n      if (isFunction(args[0])) {\n        transform = args.shift();\n      }\n\n      if (key) {\n        let fn = transform;\n        transform = (value) => {\n          return fn(getProperty(value, key));\n        };\n      }\n\n      return mapState(this, transform);\n    },\n\n    toString() {\n      return String(current);\n    },\n\n    get isState() {\n      return true;\n    },\n  };\n}\n\n/**\n * Creates a state whose value is a result of running a source state's value through a transform function.\n *\n * @param source - Source state\n * @param transform - Function that takes source's value and returns a new value\n */\nexport function mapState(source, transform) {\n  return {\n    get(key) {\n      let value = transform(source.get());\n\n      if (key !== undefined) {\n        value = getProperty(value, key);\n      }\n\n      return value;\n    },\n\n    watch(...args) {\n      let key;\n      let callback;\n      let options = {};\n\n      if (isString(args[0])) {\n        key = args.shift();\n      }\n\n      if (isFunction(args[0])) {\n        callback = args.shift();\n      }\n\n      if (isObject(args[0])) {\n        options = args.shift();\n      }\n\n      if (!isFunction(callback)) {\n        throw new TypeError(`Expected a watcher function. Received: ${callback}`);\n      }\n\n      if (key) {\n        let previous = undefined;\n\n        let fn = callback;\n        callback = (value) => {\n          value = getProperty(value, key);\n\n          if (!deepEqual(value, previous)) {\n            previous = value;\n            return fn(value);\n          }\n        };\n      }\n\n      return source.watch((value) => {\n        callback(transform(value));\n      }, options);\n    },\n\n    map(...args) {\n      let key;\n      let transform = (x) => x;\n\n      if (isString(args[0])) {\n        key = args.shift();\n      }\n\n      if (isFunction(args[0])) {\n        transform = args.shift();\n      }\n\n      if (key) {\n        let fn = transform;\n        transform = (value) => {\n          return fn(getProperty(value, key));\n        };\n      }\n\n      return mapState(this, transform);\n    },\n\n    toString() {\n      return source.toString();\n    },\n\n    get isState() {\n      return true;\n    },\n  };\n}\n", "import { getProperty } from \"./getProperty.js\";\nimport { mapState } from \"./makeState.js\";\nimport { isString, isFunction, isObject, deepEqual } from \"./utils.js\";\n\nexport function mergeStates(...args) {\n  const merge = args.pop();\n  const states = args;\n\n  if (!isFunction(merge)) {\n    throw new TypeError(`Last argument should be a function. Got: ${merge}`);\n  }\n\n  return {\n    get(key) {\n      const value = merge(...states.map((state) => state.get()));\n\n      if (key !== undefined) {\n        return getProperty(value, key);\n      } else {\n        return value;\n      }\n    },\n\n    watch(...args) {\n      let key;\n      let callback;\n      let options = {};\n\n      if (isString(args[0])) {\n        key = args.shift();\n      }\n\n      if (isFunction(args[0])) {\n        callback = args.shift();\n      }\n\n      if (isObject(args[0])) {\n        options = args.shift();\n      }\n\n      if (!isFunction(callback)) {\n        throw new TypeError(`Expected a watcher function but none was passed. Received: ${args}`);\n      }\n\n      if (key) {\n        // Track changes to this particular key and only fire when its value changes.\n        let previous = undefined;\n\n        let fn = callback;\n        callback = (value) => {\n          value = getProperty(value, key);\n\n          if (!deepEqual(value, previous)) {\n            previous = value;\n            return fn(value);\n          }\n        };\n      }\n\n      if (options.immediate) {\n        callback(current);\n      }\n\n      const watchers = [];\n\n      for (const state of states) {\n        watchers.push(\n          state.watch(() => {\n            callback(this.get());\n          })\n        );\n      }\n\n      return function unwatch() {\n        for (const unwatch of watchers) {\n          unwatch();\n        }\n      };\n    },\n\n    map(...args) {\n      let key;\n      let transform = (x) => x;\n\n      if (isString(args[0])) {\n        key = args.shift();\n      }\n\n      if (isFunction(args[0])) {\n        transform = args.shift();\n      }\n\n      if (key) {\n        let fn = transform;\n        transform = (value) => {\n          return fn(getProperty(value, key));\n        };\n      }\n\n      return mapState(this, transform);\n    },\n\n    toString() {\n      return String(this.get());\n    },\n\n    get isState() {\n      return true;\n    },\n  };\n}\n", "export class $Node {\n  element;\n  #watchers = [];\n\n  get isNode() {\n    return true;\n  }\n\n  get isConnected() {\n    return this.element?.parentNode != null;\n  }\n\n  createElement() {\n    return document.createTextNode(\"\");\n  }\n\n  watchState(state, ...args) {\n    this.#watchers.push(state.watch(...args));\n  }\n\n  connect(parent, after = null) {\n    const wasConnected = this.isConnected;\n\n    // Run lifecycle callback only if connecting.\n    // Connecting a node that is already connected moves it without unmounting.\n    if (!wasConnected) {\n      this.element = this.createElement();\n      this.beforeConnect();\n    }\n\n    parent.insertBefore(this.element, after ? after.nextSibling : null);\n\n    if (!wasConnected) {\n      this.connected();\n    }\n  }\n\n  disconnect() {\n    if (this.isConnected) {\n      this.beforeDisconnect();\n\n      this.element.parentNode.removeChild(this.element);\n\n      this.disconnected();\n      this.element = null;\n    }\n\n    for (const unwatch of this.#watchers) {\n      unwatch();\n    }\n    this.#watchers = [];\n  }\n\n  beforeConnect() {}\n  connected() {}\n  beforeDisconnect() {}\n  disconnected() {}\n}\n", "import { makeState, isState } from \"@woofjs/state\";\nimport { isArray, isObject, isString, isNumber } from \"../helpers/typeChecking.js\";\nimport { $Node } from \"./$Node.js\";\n\nconst attrMap = {\n  // Attributes in this list will not be forwarded to the DOM node.\n  private: [\"ref\", \"children\", \"class\", \"value\", \"style\", \"data\"],\n  boolean: [\n    \"disabled\",\n    \"contenteditable\",\n    \"draggable\",\n    \"hidden\",\n    \"spellcheck\",\n    \"autocomplete\",\n    \"autofocus\",\n    \"translate\",\n  ],\n  events: [\n    \"onclick\",\n    \"ondblclick\",\n    \"onmousedown\",\n    \"onmouseup\",\n    \"onmouseover\",\n    \"onmousemove\",\n    \"onmouseout\",\n    \"onmouseenter\",\n    \"onmouseleave\",\n    \"ontouchcancel\",\n    \"ontouchend\",\n    \"ontouchmove\",\n    \"ontouchstart\",\n    \"ondragstart\",\n    \"ondrag\",\n    \"ondragenter\",\n    \"ondragleave\",\n    \"ondragover\",\n    \"ondrop\",\n    \"ondragend\",\n    \"onkeydown\",\n    \"onkeypress\",\n    \"onkeyup\",\n    \"onunload\",\n    \"onabort\",\n    \"onerror\",\n    \"onresize\",\n    \"onscroll\",\n    \"onselect\",\n    \"onchange\",\n    \"onsubmit\",\n    \"onreset\",\n    \"onfocus\",\n    \"onblur\",\n    \"oninput\",\n    \"onanimationend\",\n    \"onanimationiteration\",\n    \"onanimationstart\",\n  ],\n};\n\nexport class $Element extends $Node {\n  tag;\n  attrs;\n  children;\n  watchers = [];\n\n  get isElement() {\n    return true;\n  }\n\n  constructor(tag, attrs = {}, children = []) {\n    super();\n\n    this.tag = tag;\n    this.attrs = attrs;\n    this.children = children;\n  }\n\n  createElement() {\n    return document.createElement(this.tag);\n  }\n\n  beforeConnect() {\n    let previous = null;\n\n    for (const child of this.children) {\n      child.connect(this.element, previous?.$element);\n      previous = child;\n    }\n\n    this.#applyAttrs();\n    this.#applyStyles();\n    this.#applyClasses();\n    this.#attachEvents();\n  }\n\n  connected() {\n    if (this.attrs.ref) {\n      this.attrs.ref.set(this.element);\n    }\n  }\n\n  disconnected() {\n    for (const child of this.children) {\n      child.disconnect();\n    }\n\n    // Cancel listens, bindings and event handlers\n    for (const cancel of this.watchers) {\n      cancel();\n    }\n    this.watchers = [];\n  }\n\n  #attachEvents() {\n    for (const key in this.attrs) {\n      if (!attrMap.private.includes(key) && attrMap.events.includes(key)) {\n        const eventName = key.slice(2).toLowerCase();\n        const listener = this.attrs[key];\n\n        this.element.addEventListener(eventName, listener);\n\n        this.watchers.push(() => {\n          this.element.removeEventListener(eventName, listener);\n        });\n      }\n    }\n  }\n\n  #applyClasses() {\n    if (this.attrs.class) {\n      const mapped = getClassMap(this.attrs.class);\n\n      for (const name in mapped) {\n        const value = mapped[name];\n\n        if (isState(value)) {\n          this.#watch(value, (value) => {\n            if (value) {\n              this.element.classList.add(name);\n            } else {\n              this.element.classList.remove(name);\n            }\n          });\n        } else if (value) {\n          this.element.classList.add(name);\n        }\n      }\n    }\n  }\n\n  #applyStyles() {\n    const { style } = this.attrs;\n\n    if (style) {\n      if (isState(style)) {\n        throw new TypeError(\n          `Style attributes only supports states as properties in a style object. Got a state as the style value: ${style}`\n        );\n      } else if (isString(style)) {\n        this.element.style = style;\n      } else if (isObject(style)) {\n        for (const name in style) {\n          const prop = this.attrs.style[name];\n\n          if (isState(prop)) {\n            this.#watch(prop, (value) => {\n              this.element.style[name] = value;\n            });\n          } else if (isString(prop)) {\n            this.element.style[name] = prop;\n          } else if (isNumber(prop)) {\n            this.element.style[name] = prop + \"px\";\n          } else {\n            throw new TypeError(`Style value should be a string or number. Received (${name}: ${prop})`);\n          }\n        }\n      } else {\n        throw new TypeError(`Expected style attribute to be a string or object. Got: ${style}`);\n      }\n    }\n  }\n\n  #applyAttrs() {\n    for (const name in this.attrs) {\n      const attr = this.attrs[name];\n\n      if (name === \"value\") {\n        if (isState(attr)) {\n          this.#watch(attr, (value) => {\n            this.element.value = String(value);\n          });\n        } else if (isObject(attr) && attr.isBinding) {\n          this.#watch(attr.state, (value) => {\n            this.element.value = String(value);\n          });\n\n          this.element.addEventListener(attr.event, (e) => {\n            const value = toSameType(attr.state.get(), e.target.value);\n\n            attr.state.set(value);\n          });\n        } else {\n          this.element.value = String(this.attrs.value);\n        }\n      }\n\n      if (!attrMap.private.includes(name) && !attrMap.events.includes(name)) {\n        if (attrMap.boolean.includes(name)) {\n          if (isState(attr)) {\n            this.#watch(attr, (value) => {\n              if (value) {\n                this.element.setAttribute(name, \"\");\n              } else {\n                this.element.removeAttribute(name);\n              }\n            });\n          } else if (attr) {\n            this.element.setAttribute(name, \"\");\n          }\n        } else {\n          if (isState(attr)) {\n            this.#watch(attr, (value) => {\n              if (value) {\n                this.element.setAttribute(name, value.toString());\n              } else {\n                this.element.removeAttribute(name);\n              }\n            });\n          } else if (attr) {\n            this.element.setAttribute(name, String(attr));\n          }\n        }\n      }\n    }\n  }\n\n  #watch(state, callback) {\n    this.watchers.push(\n      state.watch((value) => {\n        requestAnimationFrame(() => {\n          callback(value);\n        });\n      })\n    );\n\n    callback(state.get());\n  }\n}\n\nfunction getClassMap(classes) {\n  let mapped = {};\n\n  if (isString(classes)) {\n    // Support multiple classes in one string like HTML.\n    const names = classes.split(\" \");\n    for (const name of names) {\n      mapped[name] = true;\n    }\n  } else if (isObject(classes)) {\n    mapped = {\n      ...mapped,\n      ...classes,\n    };\n  } else if (isArray(classes)) {\n    Array.from(classes).forEach((item) => {\n      mapped = {\n        ...mapped,\n        ...getClassMap(item),\n      };\n    });\n  }\n\n  return mapped;\n}\n\n/**\n * Attempts to convert a `source` value to the same type as a `target` value.\n */\nfunction toSameType(target, source) {\n  const type = typeof target;\n\n  if (type === \"string\") {\n    return String(source);\n  }\n\n  if (type === \"number\") {\n    return Number(source);\n  }\n\n  if (type === \"boolean\") {\n    return Boolean(source);\n  }\n\n  return source;\n}\n", "import { $Node } from \"./$Node.js\";\n\nexport class $Fragment extends $Node {\n  children;\n\n  constructor(children) {\n    super();\n\n    this.children = children;\n  }\n\n  createElement() {\n    return document.createTextNode(\"\");\n  }\n\n  connected() {\n    let after = this.element;\n\n    for (const child of this.children) {\n      child.connect(this.element.parentNode, after);\n      after = child.element;\n    }\n  }\n\n  disconnected() {\n    for (const child of this.children) {\n      child.disconnect();\n    }\n  }\n}\n", "import { isState } from \"@woofjs/state\";\nimport { $Node } from \"./$Node.js\";\n\nexport class $Text extends $Node {\n  constructor(value) {\n    super();\n\n    if (isState(value)) {\n      this.state = value;\n    } else {\n      this.value = value;\n    }\n  }\n\n  createElement() {\n    return document.createTextNode(this.value);\n  }\n\n  beforeConnect() {\n    if (this.state) {\n      this.unwatch = this.state.watch((value) => {\n        this.value = value;\n        this.element.textContent = value;\n      });\n\n      this.value = this.state.get();\n      this.element.textContent = this.value;\n    }\n  }\n\n  disconnected() {\n    if (this.unwatch) {\n      this.unwatch();\n      this.unwatch = null;\n    }\n  }\n}\n", "import { isState } from \"@woofjs/state\";\nimport { isString, isNumber, isFunction, isNode, isDolla } from \"../helpers/typeChecking.js\";\nimport { $Text } from \"./$Text.js\";\n\n/**\n * Takes any element valid as a child and returns a render function that produces a $Node.\n */\nexport function makeRender(element) {\n  if (isNode(element)) {\n    return () => element;\n  } else if (isDolla(element)) {\n    return () => element();\n  } else if (isString(element) || isNumber(element)) {\n    return () => new $Text(element);\n  } else if (isState(element)) {\n    return makeRender(element.get());\n  } else if (isFunction(element)) {\n    return makeRender(element());\n  } else {\n    console.warn(element);\n    throw new Error(`Expected a string, function or element. Received: ${element}`);\n  }\n}\n", "import { makeState, isState } from \"@woofjs/state\";\nimport { $Node } from \"./$Node.js\";\nimport { makeRender } from \"./makeRender.js\";\n\n/**\n * Call a render function that returns a new element to display when a value changes.\n * Function receives the current value as a first argument.\n */\nexport class $Watch extends $Node {\n  source;\n  createItem;\n  connectedItem;\n  unwatch;\n\n  constructor(source, createItem) {\n    super();\n    this.source = isState(source) ? source : makeState(source);\n    this.createItem = createItem;\n  }\n\n  update(value) {\n    if (!this.isConnected) {\n      return;\n    }\n\n    let newElement = this.createItem(value);\n\n    if (newElement != null) {\n      newElement = makeRender(newElement)();\n    }\n\n    requestAnimationFrame(() => {\n      if (!this.isConnected) {\n        return;\n      }\n\n      if (this.connectedItem) {\n        this.connectedItem.disconnect();\n      }\n\n      if (newElement) {\n        this.connectedItem = newElement;\n        this.connectedItem.connect(this.element.parentNode, this.element);\n      }\n    });\n  }\n\n  connected() {\n    if (!this.unwatch) {\n      this.unwatch = this.source.watch(this.update.bind(this));\n    }\n\n    this.update(this.source.get());\n  }\n\n  disconnected() {\n    if (this.connectedItem) {\n      this.connectedItem.disconnect();\n    }\n\n    if (this.unwatch) {\n      this.unwatch();\n      this.unwatch = undefined;\n    }\n  }\n}\n", "import { $Watch } from \"./$Watch.js\";\n\nexport class $If extends $Watch {\n  constructor(source, then, otherwise = null) {\n    super(source, (current) => {\n      if (current) {\n        return then;\n      } else {\n        return otherwise;\n      }\n    });\n  }\n}\n", "import { isObject, isArray } from \"./typeChecking.js\";\n\nexport function deepEqual(one, two) {\n  if (one === two) {\n    return true;\n  }\n\n  if (isObject(one) && isObject(two)) {\n    const keysOne = Object.keys(one);\n    const keysTwo = Object.keys(two);\n\n    if (keysOne.length !== keysTwo.length) {\n      return false;\n    }\n\n    for (const key in one) {\n      if (!deepEqual(one[key], two[key])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  if (isArray(one) && isArray(two)) {\n    if (one.length !== two.length) {\n      return false;\n    }\n\n    for (const index in one) {\n      if (!deepEqual(one[index], two[index])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return one === two;\n}\n", "import { makeState, isState } from \"@woofjs/state\";\nimport { deepEqual } from \"../helpers/deepEqual.js\";\nimport { $Node } from \"./$Node.js\";\nimport { makeRender } from \"./makeRender.js\";\n\n/**\n * Transform a list of items into a list of `$(element)`s.\n *\n * Removes old and adds new items without touching existing ones.\n * Re-renders existing items if the previous item with the same key is not equal to the new one.\n */\nexport class $Each extends $Node {\n  source;\n  getKey;\n  createItem;\n  unwatch;\n  list = [];\n\n  constructor(source, getKey, createItem) {\n    super();\n    this.source = isState(source) ? source : makeState(source);\n    this.getKey = getKey;\n    this.createItem = createItem;\n  }\n\n  update(list) {\n    if (!this.isConnected) {\n      return;\n    }\n\n    const newKeys = list.map(this.getKey);\n    const added = [];\n    const removed = [];\n    const moved = [];\n\n    for (let i = 0; i < newKeys.length; i++) {\n      const key = newKeys[i];\n      const current = this.list.find((item) => item.key === key);\n\n      if (current) {\n        if (current.index !== i) {\n          moved.push({\n            from: current.index,\n            to: i,\n            key,\n          });\n        }\n      } else {\n        added.push({ i, key });\n      }\n    }\n\n    for (const item of this.list) {\n      const stillPresent = newKeys.includes(item.key);\n\n      if (!stillPresent) {\n        removed.push({ i: item.index, key: item.key });\n      }\n    }\n\n    // Determine what the next state is going to be, reusing components when possible.\n    const newItems = [];\n\n    for (let i = 0; i < list.length; i++) {\n      const key = newKeys[i];\n      const value = list[i];\n      const isAdded = added.some((x) => x.key === key);\n\n      let node;\n\n      if (isAdded) {\n        node = makeRender(this.createItem(value))();\n      } else {\n        const item = this.list.find((x) => x.key === key);\n\n        if (deepEqual(item.value, value)) {\n          node = item.node;\n        } else {\n          node = this.createItem(value);\n        }\n      }\n\n      newItems.push({\n        index: i,\n        key,\n        value,\n        node,\n      });\n    }\n\n    // Batch all changes into an animation frame\n    requestAnimationFrame(() => {\n      // Unmount removed items\n      for (const entry of removed) {\n        const item = this.list.find((x) => x.key === entry.key);\n\n        item?.node.disconnect();\n      }\n\n      if (!this.isConnected) {\n        return;\n      }\n\n      const fragment = new DocumentFragment();\n\n      // Remount items in new order\n      let previous = undefined;\n\n      for (const item of newItems) {\n        item.node.connect(fragment, previous);\n\n        if (item.node.$isConnected) {\n          previous = item.node.$element;\n          item.node.$element.dataset.mapKey = item.key;\n        }\n      }\n\n      this.element.parentNode.insertBefore(fragment, this.element.nextSibling);\n\n      this.list = newItems;\n    });\n  }\n\n  connected() {\n    if (this.unwatch) {\n      this.unwatch();\n      this.unwatch = undefined;\n    }\n\n    this.unwatch = this.source.watch(this.update.bind(this));\n\n    this.update(this.source.get());\n  }\n\n  disconnected() {\n    for (const item of this.list) {\n      item.node.disconnect();\n    }\n\n    if (this.unwatch) {\n      this.unwatch();\n      this.unwatch = undefined;\n    }\n  }\n}\n", "import { makeState } from \"@woofjs/state\";\nimport { isDolla, isFunction, isNode } from \"./helpers/typeChecking.js\";\nimport { makeRender } from \"./dolla/makeRender.js\";\n\nexport function makeComponent(create) {\n  return {\n    get isComponent() {\n      return true;\n    },\n\n    create({ getService, debug, dolla, attrs, children, $route }) {\n      let onBeforeConnect = [];\n      let onConnected = [];\n      let onBeforeDisconnect = [];\n      let onDisconnected = [];\n      let watchers = [];\n      let preload;\n\n      const self = {\n        $route,\n        $attrs: makeState({}),\n        getService,\n        children,\n        debug,\n        preload(func) {\n          preload = func;\n        },\n        beforeConnect(callback) {\n          onBeforeConnect.push(callback);\n        },\n        connected(callback) {\n          onConnected.push(callback);\n        },\n        beforeDisconnect(callback) {\n          onBeforeDisconnect.push(callback);\n        },\n        disconnected(callback) {\n          onDisconnected.push(callback);\n        },\n        watchState($state, ...args) {\n          watchers.push($state.watch(...args));\n        },\n      };\n\n      self.$attrs.set((current) => {\n        for (const key in attrs) {\n          current[key] = attrs[key];\n        }\n      });\n\n      let element = create(dolla, self);\n\n      if (element !== null) {\n        if (isDolla(element)) {\n          element = element();\n        }\n\n        if (!isNode(element)) {\n          console.log(String(create));\n          let message = `Component must return an $(element) or null. Got: ${element}`;\n\n          self.debug.error(message);\n          throw new TypeError(message);\n        }\n      }\n\n      return {\n        get isNode() {\n          return true;\n        },\n        get isComponent() {\n          return true;\n        },\n\n        element,\n\n        async preload(mount) {\n          return new Promise((resolve) => {\n            if (isFunction(preload)) {\n              const done = () => {\n                resolve();\n              };\n\n              const tempElement = preload(done);\n\n              if (tempElement) {\n                const render = makeRender(tempElement);\n                const tempNode = render();\n\n                if (isNode(tempNode)) {\n                  mount(tempNode);\n                } else {\n                  throw new Error(`Expected preload function to return a node or undefined. Received: ${tempNode}`);\n                }\n              }\n            } else {\n              resolve();\n            }\n          });\n        },\n\n        connect(parent, after = null) {\n          const wasConnected = element == null ? false : element.isConnected;\n\n          if (!wasConnected) {\n            for (const callback of onBeforeConnect) {\n              callback();\n            }\n          }\n\n          // Run connect even if already connected without rerunning lifecycle hooks.\n          // This is used for reinserting nodes when sorting an $Each.\n          if (element != null) this.element.connect(parent, after);\n\n          if (!wasConnected) {\n            for (const callback of onConnected) {\n              callback();\n            }\n          }\n        },\n\n        disconnect() {\n          if (element?.isConnected) {\n            for (const callback of onBeforeDisconnect) {\n              callback();\n            }\n\n            element.disconnect();\n\n            for (const callback of onDisconnected) {\n              callback();\n            }\n\n            for (const unwatch of watchers) {\n              unwatch();\n            }\n            watchers = [];\n          }\n        },\n      };\n    },\n  };\n}\n", "import { makeState } from \"@woofjs/state\";\nimport { makeRouter } from \"@woofjs/router\";\nimport { isFunction, isNode, isComponent, isDolla, isString } from \"../helpers/typeChecking.js\";\nimport { $Node } from \"./$Node.js\";\nimport { makeDolla } from \"./makeDolla.js\";\nimport { makeRender } from \"./makeRender.js\";\nimport { makeComponent } from \"../makeComponent.js\";\n\n/**\n * Creates a router outlet for a nested route. Multiple routes\n * are attached and the best match is displayed at this element's position.\n */\nexport class $Outlet extends $Node {\n  static get isComponent() {\n    return true;\n  }\n\n  #router = makeRouter();\n  #outlet;\n  #mounted;\n  #dolla;\n  #path;\n  #debug;\n  #depth;\n\n  $route = makeState({\n    route: \"\",\n    path: \"\",\n    params: {},\n    query: {},\n    wildcard: null,\n    depth: 1, // how many levels of nesting - +1 for each $.outlet()\n  });\n\n  get isConnected() {\n    return this.#outlet && this.#outlet.isConnected;\n  }\n\n  constructor(getService, debug, element, $route) {\n    super();\n\n    this.createElement = makeRender(element);\n\n    this.#path = $route.map(\"wildcard\");\n    this.#depth = $route.map(\"depth\", (current) => (current || 0) + 1);\n    this.$route.set((current) => {\n      current.$parent = $route;\n    });\n    this.#dolla = makeDolla({\n      getService,\n      debug,\n      $route: this.$route,\n    });\n    this.#debug = getService(\"@debug\").makeChannel(\"woof:outlet\");\n  }\n\n  route(route, component) {\n    // pass a string to redirect to that path\n    if (isString(component)) {\n      const redirect = component;\n      component = makeComponent(($, self) => {\n        self.beforeConnect(() => {\n          self.getService(\"@page\").go(redirect, { replace: true });\n        });\n\n        return null;\n      });\n    }\n\n    if (isFunction(component)) {\n      component = makeComponent(component);\n    }\n\n    if (!isComponent(component)) {\n      throw new TypeError(`Route needs a path and a component. Got: ${path} and ${component}`);\n    }\n\n    this.#router.on(route, { component });\n\n    return this;\n  }\n\n  connect(parent, after = null) {\n    const wasConnected = this.isConnected;\n\n    // Run lifecycle callback only if connecting.\n    // Connecting a node that is already connected moves it without disconnecting.\n    if (!wasConnected) {\n      this.#outlet = this.createElement();\n    }\n\n    this.#outlet.connect(parent, after);\n\n    if (!wasConnected) {\n      this.watchState(this.#path, (current) => current && this.#matchRoute(current), { immediate: true });\n\n      this.watchState(\n        this.$route,\n        \"route\",\n        (current) => {\n          if (this.#outlet.element) {\n            this.#outlet.element.dataset.outletRoute = current;\n          }\n        },\n        { immediate: true }\n      );\n\n      this.connected();\n    }\n  }\n\n  disconnect() {\n    if (this.isConnected) {\n      this.#outlet.disconnect();\n    }\n  }\n\n  #matchRoute(path) {\n    const matched = this.#router.match(path);\n\n    if (matched) {\n      const routeChanged = matched.route !== this.$route.get(\"route\");\n\n      this.$route.set((current) => {\n        current.path = matched.path;\n        current.route = matched.route;\n        current.query = matched.query;\n        current.params = matched.params;\n        current.wildcard = matched.wildcard;\n      });\n\n      if (this.#mounted == null || routeChanged) {\n        this.#mountRoute(matched.props.component);\n      }\n    } else {\n      if (this.#mounted) {\n        this.#mounted.disconnect();\n        this.#mounted = null;\n      }\n\n      this.$route.set((current) => {\n        current.path = null;\n        current.route = null;\n        current.query = Object.create(null);\n        current.params = Object.create(null);\n        current.wildcard = null;\n      });\n\n      console.warn(`No route was matched. Consider adding a wildcard (\"*\") route to catch this.`);\n    }\n  }\n\n  #mountRoute(component) {\n    if (!this.isConnected) {\n      return;\n    }\n\n    const $ = this.#dolla;\n    const node = $(component)();\n\n    const mount = (newNode) => {\n      if (this.#mounted !== newNode) {\n        if (this.#mounted) {\n          this.#mounted.disconnect();\n        }\n        this.#mounted = newNode;\n        this.#mounted.connect(this.#outlet.element);\n      }\n    };\n\n    let start = Date.now();\n    node.preload(mount).then(() => {\n      const time = Date.now() - start;\n      mount(node);\n      this.#debug.log(\n        `[depth ${this.#depth.get()}] mounted route '${this.$route.get(\"route\")}' - preloaded in ${time}ms`\n      );\n    });\n  }\n}\n", "import { isComponent, isFunction, isNode, isObject, isString } from \"../helpers/typeChecking.js\";\nimport { $Element } from \"./$Element.js\";\nimport { $Fragment } from \"./$Fragment.js\";\nimport { $If } from \"./$If.js\";\nimport { $Each } from \"./$Each.js\";\nimport { $Outlet } from \"./$Outlet.js\";\nimport { $Text } from \"./$Text.js\";\nimport { $Watch } from \"./$Watch.js\";\nimport { makeRender } from \"./makeRender.js\";\n\nexport function makeDolla({ getService, debug, $route }) {\n  function $(element, ...args) {\n    let defaultAttrs = {};\n\n    if (args[0] && !isNode(args[0]) && isObject(args[0])) {\n      defaultAttrs = args.shift();\n    }\n\n    let defaultChildren = args;\n    let elementType = null;\n\n    if (isString(element)) {\n      if (element === \"\" || element === \":fragment:\") {\n        elementType = \"fragment\";\n      } else {\n        elementType = \"element\";\n      }\n    } else if (isComponent(element)) {\n      elementType = \"component\";\n    } else {\n      throw new TypeError(`Expected a tag name or a Component. Received: ${element}`);\n    }\n\n    /**\n     * @param args - Attributes object (optional) followed by any number of children\n     */\n    function Dolla(...args) {\n      let attrs = { ...defaultAttrs };\n      let children = args.length === 0 ? defaultChildren : args;\n\n      if (args[0] && !isNode(args[0]) && isObject(args[0])) {\n        attrs = children.shift();\n      }\n\n      children = children\n        .filter((x) => x != null && x !== false) // ignore null, undefined and false\n        .map((child) => makeRender(child)());\n\n      switch (elementType) {\n        case \"component\":\n          return element.create({\n            getService,\n            debug: debug.makeChannel(\"component:~\"),\n            dolla: $,\n            attrs,\n            children,\n            $route,\n          });\n        case \"element\":\n          return new $Element(element, attrs, children);\n        case \"fragment\":\n          return new $Fragment(children);\n      }\n    }\n\n    Object.defineProperty(Dolla, \"isDolla\", {\n      value: true,\n      writable: false,\n    });\n\n    return Dolla;\n  }\n\n  $.if = function (value, then, otherwise) {\n    return new $If(value, then, otherwise);\n  };\n\n  $.each = function (list, makeKey, makeItem) {\n    return new $Each(list, makeKey, makeItem);\n  };\n\n  $.watch = function (source, create) {\n    return new $Watch(source, create);\n  };\n\n  $.text = function (value) {\n    return new $Text(value);\n  };\n\n  $.outlet = function (element = \"div\", attributes = {}) {\n    if ($route.get(\"wildcard\") == null) {\n      throw new Error(\n        `$.outlet() can only be used on routes that end with a wildcard. Current route: ${$route.get(\"route\")}`\n      );\n    }\n\n    const node = $(element, attributes);\n\n    return new $Outlet(getService, debug, node, $route);\n  };\n\n  /**\n   * Creates a two way binding for input elements. Pass this as an $element's `value` attribute.\n   *\n   * @param state\n   * @param event\n   */\n  $.bind = function (state, event = \"input\") {\n    return {\n      isBinding: true,\n      event,\n      state,\n    };\n  };\n\n  Object.freeze($);\n\n  return $;\n}\n", "import ColorHash from \"color-hash\"; // TODO: Remove this dependency - it's too big for what we need it for\n\nexport function makeConsoleReceiver() {\n  const hash = new ColorHash({\n    lightness: [0.6, 0.7],\n    saturation: [0.6, 0.7],\n  });\n\n  return {\n    receive(name, level, ...args) {\n      if (level === \"error\") {\n        console.error(`%c[${name}]`, `color:${hash.hex(name)};font-weight:bold`, ...args);\n      } else if (level === \"warn\") {\n        console.warn(`%c[${name}]`, `color:${hash.hex(name)};font-weight:bold`, ...args);\n      } else {\n        console.log(`%c[${name}]`, `color:${hash.hex(name)};font-weight:bold`, ...args);\n      }\n    },\n  };\n}\n", "import { makeState } from \"@woofjs/state\";\nimport { makeConsoleReceiver } from \"./debug.console.js\";\n\nexport function makeDebug(options = {}) {\n  const $filter = makeState(options.filter || \"*,-woof:*\");\n\n  let match = () => true;\n  let receivers = [makeConsoleReceiver()];\n\n  // Update match function based on how the filter is set.\n  $filter.watch(\n    (current) => {\n      match = parseFilter(current);\n    },\n    { immediate: true }\n  );\n\n  return {\n    $filter,\n\n    makeChannel(name) {\n      if (name.includes(\",\")) {\n        throw new Error(`Channel names cannot contain commas. Got: ${name}`);\n      }\n\n      return Object.freeze({\n        get name() {\n          return name;\n        },\n        set name(value) {\n          if (value.includes(\",\")) {\n            throw new Error(`Channel names cannot contain commas. Got: ${value}`);\n          }\n          name = value;\n        },\n\n        log(...args) {\n          if (options.log && match(name)) {\n            for (const receiver of receivers) {\n              receiver.receive(name, \"log\", ...args);\n            }\n          }\n        },\n        warn(...args) {\n          if (options.warn && match(name)) {\n            for (const receiver of receivers) {\n              receiver.receive(name, \"warn\", ...args);\n            }\n          }\n        },\n        error(...args) {\n          if (options.error && match(name)) {\n            for (const receiver of receivers) {\n              receiver.receive(name, \"error\", ...args);\n            }\n          }\n        },\n      });\n    },\n\n    addReceiver(receiver) {\n      receivers.push(receiver);\n    },\n  };\n}\n\nfunction parseFilter(filter) {\n  if (filter instanceof RegExp) {\n    return (value) => filter.test(value);\n  }\n\n  const matchers = {\n    positive: [],\n    negative: [],\n  };\n  const parts = filter\n    .split(\",\")\n    .map((p) => p.trim())\n    .filter((p) => p !== \"\");\n\n  for (const part of parts) {\n    const section = part.startsWith(\"-\") ? \"negative\" : \"positive\";\n\n    if (part === \"*\") {\n      matchers[section].push(function (value) {\n        return true;\n      });\n    } else if (part.endsWith(\"*\")) {\n      matchers[section].push(function (value) {\n        return value.startsWith(part.slice(1, part.length - 1));\n      });\n    } else {\n      matchers[section].push(function (value) {\n        return value === part.slice(1, part.length - 1);\n      });\n    }\n  }\n\n  return (value) => matchFilter(matchers, value);\n}\n\nfunction matchFilter(matchers, name) {\n  const { positive, negative } = matchers;\n\n  // Matching any negative matcher disqualifies.\n  if (negative.some((fn) => fn(name))) {\n    return false;\n  }\n\n  // Matching at least one positive matcher is required if any are specified.\n  if (positive.length > 0 && !positive.some((fn) => fn(name))) {\n    return false;\n  }\n\n  return true;\n}\n", "import { makeState } from \"@woofjs/state\";\nimport { isObject } from \"./helpers/typeChecking.js\";\n\nexport function makeService(create) {\n  return {\n    get isService() {\n      return true;\n    },\n\n    create({ getService, debug, options = {} }) {\n      let onBeforeConnect = [];\n      let onConnected = [];\n      let watchers = [];\n\n      const self = {\n        debug,\n        options,\n        getService,\n        beforeConnect(callback) {\n          onBeforeConnect.push(callback);\n        },\n        connected(callback) {\n          onConnected.push(callback);\n        },\n        watchState($state, ...args) {\n          watchers.push($state.watch(...args));\n        },\n      };\n\n      const exports = create(self);\n\n      if (!isObject(exports)) {\n        throw new TypeError(`Services must return an object. Got: ${exports}`);\n      }\n\n      return {\n        exports,\n        beforeConnect() {\n          for (const callback of onBeforeConnect) {\n            callback();\n          }\n        },\n        connected() {\n          for (const callback of onConnected) {\n            callback();\n          }\n        },\n      };\n    },\n  };\n}\n", "/**\n * Joins multiple URL path fragments into a single string.\n *\n * @param parts - One or more URL fragments (e.g. `[\"api\", \"users\", 5]`)\n * @returns a joined path (e.g. `\"api/users/5\"`)\n */\nexport function joinPath(...parts) {\n  parts = parts.filter((x) => x);\n\n  let joined = parts.shift();\n\n  if (joined) {\n    for (const part of parts) {\n      if (joined[joined.length - 1] !== \"/\") {\n        if (part[0] !== \"/\") {\n          joined += \"/\" + part;\n        } else {\n          joined += part;\n        }\n      }\n    }\n  }\n\n  return joined ?? \"\";\n}\n", "const safeExternalLink = /(noopener|noreferrer) (noopener|noreferrer)/;\nconst protocolLink = /^[\\w-_]+:/;\n\n/**\n * Intercepts links within the root node.\n *\n * This is adapted from https://github.com/choojs/nanohref/blob/master/index.js\n *\n * @param root - Element under which to intercept link clicks\n * @param callback - Function to call when a click event is intercepted\n * @param _window - (optional) Override for global window object\n */\nexport default function catchLinks(root, callback, _window = window) {\n  function traverse(node) {\n    if (!node || node === root) {\n      return;\n    }\n\n    if (node.localName !== \"a\" || node.href === undefined) {\n      return traverse(node.parentNode);\n    }\n\n    return node;\n  }\n\n  function handler(e) {\n    if ((e.button && e.button !== 0) || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey || e.defaultPrevented) {\n      return;\n    }\n\n    const anchor = traverse(e.target);\n\n    if (!anchor) {\n      return;\n    }\n\n    if (\n      _window.location.protocol !== anchor.protocol ||\n      _window.location.hostname !== anchor.hostname ||\n      _window.location.port !== anchor.port ||\n      anchor.hasAttribute(\"data-router-ignore\") ||\n      anchor.hasAttribute(\"download\") ||\n      (anchor.getAttribute(\"target\") === \"_blank\" && safeExternalLink.test(anchor.getAttribute(\"rel\"))) ||\n      protocolLink.test(anchor.getAttribute(\"href\"))\n    ) {\n      return;\n    }\n\n    e.preventDefault();\n    callback(anchor);\n  }\n\n  root.addEventListener(\"click\", handler);\n\n  return function cancel() {\n    root.removeEventListener(\"click\", handler);\n  };\n}\n", "import { makeService } from \"../makeService.js\";\nimport { isFunction, isObject, isString } from \"../helpers/typeChecking.js\";\n\nconst HTTPService = makeService((self) => {\n  self.debug.name = \"woof:@http\";\n\n  const _middleware = [];\n  let fetch = self.options.fetch || window.fetch.bind(window);\n  let requestId = 0;\n\n  function request(method, url) {\n    return new HTTPRequest({\n      id: ++requestId,\n      method,\n      url,\n      fetch,\n      middleware: _middleware,\n      debug: self.debug,\n    });\n  }\n\n  return {\n    request,\n\n    use(...middleware) {\n      _middleware.push(...middleware);\n\n      return this;\n    },\n\n    get(url) {\n      return request(\"get\", url);\n    },\n\n    put(url) {\n      return request(\"put\", url);\n    },\n\n    patch(url) {\n      return request(\"patch\", url);\n    },\n\n    post(url) {\n      return request(\"post\", url);\n    },\n\n    delete(url) {\n      return request(\"delete\", url);\n    },\n\n    head(url) {\n      return request(\"head\", url);\n    },\n  };\n});\n\nexport default HTTPService;\n\nexport class HTTPRequest {\n  #id;\n  #debug;\n  #url;\n  #query;\n  #ctx;\n  #middleware;\n  #fetch;\n  #parse;\n  #serialize;\n  #promise;\n  #isOk;\n\n  #contentTypeAuto = true; // disabled when header is explicitly set\n\n  constructor({ id, debug, method, url, middleware, fetch }) {\n    const [path, query] = url.split(\"?\");\n\n    this.#id = id;\n    this.#debug = debug;\n    this.#url = path;\n    this.#middleware = middleware;\n    this.#fetch = fetch;\n    this.#query = new URLSearchParams(query || \"\");\n    this.#ctx = {\n      method,\n      headers: new Headers(),\n      body: undefined,\n    };\n    this.#isOk = (status) => status >= 200 && status < 300;\n  }\n\n  /**\n   * True if this request's URL is a relative path (same domain).\n   */\n  get isRelative() {\n    return !/^https?\\:\\/\\//.test(this.#url);\n  }\n\n  /**\n   * Gets or sets the URL for this request.\n   */\n  url(value) {\n    if (value === undefined) {\n      return this.#url;\n    } else if (isString(value)) {\n      this.#url = value;\n    } else {\n      throw new TypeError(`Expected a string. Received: ${value}`);\n    }\n  }\n\n  /**\n   * Sets headers to send with the request.\n   *\n   * @example\n   * // Set a single header\n   * .header(\"content-type\", \"application/json\")\n   *\n   * // Remove a header\n   * .header(\"content-type\", null)\n   *\n   * // Get a header's current value\n   * .header(\"content-type\")\n   *\n   * // Set multiple headers\n   * .header({\n   *   \"content-type\": \"application/json\",\n   *   \"authorization\": \"bearer acbdef\"\n   * })\n   *\n   * @param header - Header name or object with multiple headers.\n   * @param value - Value to set if passing header name, otherwise undefined.\n   */\n  header(header, value) {\n    if (isString(header)) {\n      // Return header's current value\n      if (value === undefined) {\n        return this.#ctx.headers.get(header);\n      }\n\n      if (header.toLowerCase() === \"content-type\") {\n        this.#contentTypeAuto = false;\n      }\n\n      // Remove header\n      if (value === null) {\n        this.#ctx.headers.delete(value);\n        return this;\n      }\n\n      // Set header to value\n      if (isString(value)) {\n        this.#ctx.headers.set(header, value);\n        return this;\n      }\n    } else if (isObject(header) && value == null) {\n      // Set an object full of keys and values\n      for (const key in header) {\n        this.header(key, header[key]);\n      }\n      return this;\n    }\n\n    throw new Error(`Expected a key and value, an object, or a header name only. Received: ${header} and ${value}`);\n  }\n\n  /**\n   * Sets headers to be sent with the request. Alias for `.header(header, value)`.\n   */\n  headers(header, value) {\n    this.header(header, value);\n    return this;\n  }\n\n  query(query, value) {\n    if (isString(query)) {\n      // Return query param's current value\n      if (value === undefined) {\n        return this.#query.get(query);\n      }\n\n      // Remove query param\n      if (value === null) {\n        this.#query.delete(value);\n        return this;\n      }\n\n      // Set query param to value\n      if (isString(value)) {\n        this.#query.set(header, value);\n        return this;\n      }\n    } else if (isObject(query) && value == null) {\n      // Set an object full of keys and values\n      for (const key in query) {\n        this.query(key, query[key]);\n      }\n      return this;\n    }\n\n    throw new Error(`Expected a key and value, an object, or a parameter name only. Received: ${query} and ${value}`);\n  }\n\n  body(value) {\n    if (isObject(value)) {\n      if (this.#contentTypeAuto) {\n        this.header(\"content-type\", \"application/json\");\n      }\n      this.#ctx.body = JSON.stringify(value);\n    } else if (value instanceof FormData) {\n      if (this.#contentTypeAuto) {\n        this.header(\"content-type\", \"application/x-www-form-urlencoded\");\n      }\n      this.#ctx.body = value;\n    } else {\n      this.#ctx.body = value;\n    }\n\n    return this;\n  }\n\n  /**\n   * Takes a function to determine whether a response is a success or an error.\n   *\n   * @param fn - Takes the status code and returns true if response is successful or false if it should be treated as an error.\n   */\n  ok(fn) {\n    this.#isOk = fn;\n  }\n\n  /**\n   * Sends the request.\n   */\n  then(...args) {\n    if (!this.#promise) {\n      this.#promise = this.#send();\n    }\n\n    return this.#promise.then(...args);\n  }\n\n  catch(...args) {\n    if (!this.#promise) {\n      this.#promise = this.#send();\n    }\n\n    return this.#promise.catch(...args);\n  }\n\n  finally(...args) {\n    if (!this.#promise) {\n      this.#promise = this.#send();\n    }\n\n    return this.#promise.finally(...args);\n  }\n\n  async #send() {\n    const res = {\n      status: 200,\n      statusText: \"OK\",\n      headers: {},\n      body: undefined,\n    };\n\n    const handler = async () => {\n      this.#debug.log(`[request:${this.#id}] ${this.#ctx.method.toUpperCase()} ${this.#url}`);\n      const start = Date.now();\n\n      const query = this.#query.toString();\n      const url = query.length > 0 ? this.#url + \"?\" + query : this.#url;\n\n      const fetched = await this.#fetch(url, this.#ctx);\n\n      res.status = fetched.status;\n      res.statusText = fetched.statusText;\n      fetched.headers.forEach((value, key) => {\n        res.headers[key] = value;\n      });\n\n      const contentType = res.headers[\"content-type\"];\n\n      if (isFunction(this.#parse)) {\n        res.body = await this.#parse(fetched);\n      } else if (contentType.includes(\"application/json\")) {\n        res.body = await fetched.json();\n      } else if (contentType.includes(\"application/x-www-form-urlencoded\")) {\n        res.body = await fetched.formData();\n      } else {\n        res.body = await fetched.text();\n      }\n\n      this.#debug.log(\n        `[response:${this.#id}] ${this.#ctx.method.toUpperCase()} ${this.#url}`,\n        `(+${Math.round(Date.now() - start)}ms)`,\n        res\n      );\n    };\n\n    const mount = (index = 0) => {\n      const current = this.#middleware[index];\n      const next = this.#middleware[index + 1] ? mount(index + 1) : handler;\n\n      return async () => current(this, next);\n    };\n\n    if (this.#middleware.length > 0) {\n      await mount()();\n    } else {\n      await handler();\n    }\n\n    // Throw non-OK response codes as errors to force explicit handling.\n    // With fetch's req.ok way there are two error handling paths; response errors (then) and network errors (catch).\n    // In most cases, a 404 or 500 is the same as a network error from the app's point of view.\n    // If needed, the .ok() function can control what is thrown as an error.\n    if (this.#isOk(res.status) == false) {\n      const err = new HTTPError(\n        `${res.status} ${res.statusText}: Request failed (${this.#ctx.method.toUpperCase()} ${this.#url})`\n      );\n      err.method = this.#ctx.method;\n      err.url = this.#url;\n      err.status = res.status;\n      err.statusText = res.statusText;\n      err.headers = res.headers;\n      err.body = res.body;\n\n      throw err;\n    }\n\n    return res;\n  }\n}\n\nclass HTTPError extends Error {\n  method;\n  url;\n  status;\n  statusText;\n  headers;\n  body;\n}\n", "import { makeState } from \"@woofjs/state\";\nimport { makeService } from \"../makeService.js\";\nimport { isString } from \"../helpers/typeChecking.js\";\n\n/**\n * Top level navigation and page metadata service.\n */\nconst PageService = makeService((self) => {\n  self.debug.name = \"woof:@page\";\n\n  const $title = makeState(document?.title);\n  const history = self.options.history;\n\n  self.connected(() => {\n    if (document) {\n      self.watchState($title, (current) => {\n        document.title = current;\n      });\n    }\n  });\n\n  return {\n    $title,\n\n    $route: makeState({\n      path: \"\",\n      query: {},\n      params: {},\n      route: \"\",\n      wildcard: null,\n    }),\n\n    back(steps = 1) {\n      history.go(-steps);\n    },\n\n    forward(steps = 1) {\n      history.go(steps);\n    },\n\n    /**\n     * Navigates to another route.\n     *\n     * @param to - Path string or number of history entries\n     * @param options - `replace: true` to replace state\n     */\n    go(to, options = {}) {\n      if (isString(to)) {\n        if (options.replace) {\n          history.replace(to);\n        } else {\n          history.push(to);\n        }\n      } else {\n        throw new TypeError(`Expected a string. Received: ${to}`);\n      }\n    },\n  };\n});\n\nexport default PageService;\n", "import { createHashHistory, createBrowserHistory } from \"history\";\nimport { makeRouter } from \"@woofjs/router\";\nimport { makeDolla } from \"./dolla/makeDolla.js\";\nimport { makeDebug } from \"./debug/makeDebug.js\";\nimport { makeComponent } from \"./makeComponent.js\";\nimport { makeService } from \"./makeService.js\";\nimport { isFunction, isString, isService, isComponent } from \"./helpers/typeChecking.js\";\nimport { joinPath } from \"./helpers/joinPath.js\";\nimport catchLinks from \"./helpers/catchLinks.js\";\n\nimport HTTPService from \"./services/@http.js\";\nimport PageService from \"./services/@page.js\";\n\nexport function makeApp(options = {}) {\n  const router = makeRouter();\n  const debug = makeDebug(options.debug);\n  const appDebug = debug.makeChannel(\"woof:app\");\n  const services = {};\n\n  let servicesCreated = false;\n  let setup = async () => true;\n  let history;\n  let outlet;\n  let mounted;\n\n  let dolla;\n\n  if (options.history) {\n    history = options.history;\n  } else if (options.hash) {\n    history = createHashHistory();\n  } else {\n    history = createBrowserHistory();\n  }\n\n  ////\n  // Public\n  ////\n\n  const methods = {\n    /**\n     * Adds a route to the list for matching when the URL changes.\n     *\n     * @param path - Path to match before calling handlers.\n     * @param component - Component to display when route matches.\n     */\n    route(path, component) {\n      if (isFunction(component)) {\n        component = makeComponent(component);\n      }\n\n      if (!isComponent(component)) {\n        throw new TypeError(`Route needs a path and a component. Got: ${path} and ${component}`);\n      }\n\n      router.on(path, { component });\n\n      return methods;\n    },\n\n    /**\n     * Registers a service on the app. Services can be referenced in\n     * Services and Components using `self.getService(name)`.\n     *\n     * @param name - Unique string to name this service.\n     * @param service - A service. One instance will be created and shared.\n     * @param options - Object to be passed to service.created() function when called.\n     */\n    service(name, service, options) {\n      if (isFunction(service)) {\n        service = makeService(service);\n      }\n\n      if (!isService(service)) {\n        throw new TypeError(`Expected a service. Got: ${service}`);\n      }\n\n      if (!services[name]) {\n        services[name] = {\n          template: service,\n          instance: null,\n          options,\n        };\n      }\n\n      // Merge with existing fields if overwriting.\n      services[name].template = service;\n\n      if (options !== undefined) {\n        services[name].options = options;\n      }\n\n      return methods;\n    },\n\n    /**\n     * Takes a function that configures the app before it starts.\n     * This function is called after services have been created\n     *\n     * If the function returns a Promise, the app will not be started until the Promise resolves.\n     *\n     * @param fn - App config function.\n     */\n    setup(fn) {\n      setup = async () => fn(getService);\n\n      return methods;\n    },\n\n    /**\n     * Initializes the app and starts routing.\n     *\n     * @param element - Selector string or DOM node to attach to.\n     */\n    connect(element) {\n      if (isString(element)) {\n        element = document.querySelector(element);\n      }\n\n      if (element instanceof Node == false) {\n        throw new TypeError(`Expected a DOM node. Received: ${element}`);\n      }\n\n      outlet = element;\n\n      for (const name in services) {\n        const service = services[name];\n\n        // First bits of app code are run; service functions called.\n        service.instance = service.template.create({\n          getService,\n          debug: debug.makeChannel(`service:${name}`),\n          options: service.options,\n        });\n      }\n\n      // Unlock getService now that all services have been created.\n      servicesCreated = true;\n\n      dolla = makeDolla({\n        getService,\n        debug,\n        $route: getService(\"@page\").$route,\n      });\n\n      // beforeConnect is the first opportunity to access other services.\n      // This is also a good place to configure things before app-level `setup` runs.\n      for (const name in services) {\n        services[name].instance.beforeConnect();\n      }\n\n      setup().then(() => {\n        history.listen(onRouteChanged);\n        onRouteChanged(history);\n\n        for (const name in services) {\n          services[name].instance.connected();\n        }\n\n        catchLinks(outlet, (anchor) => {\n          let href = anchor.getAttribute(\"href\");\n\n          if (!/^https?:\\/\\/|^\\//.test(href)) {\n            href = joinPath(history.location.pathname, href);\n          }\n\n          appDebug.log(\"caught link click: \" + href);\n\n          history.push(href);\n        });\n      });\n    },\n  };\n\n  ////\n  // Private\n  ////\n\n  /**\n   * Returns the requested service or throws an error if it isn't registered.\n   * Every component and service in the app accesses services through this function.\n   *\n   * @example getService(\"@page\").$title.set(\"New Page Title\")\n   *\n   * @param name - Name of a service. Built-in services start with `@`.\n   */\n  function getService(name) {\n    if (!servicesCreated) {\n      // TODO: Specify in error that this is probably exclusive to calling self.getService in the main body of a service function.\n      throw new Error(`A service was requested before it was created. Got: ${name}`);\n    }\n\n    if (services[name]) {\n      return services[name].instance.exports;\n    }\n\n    throw new Error(`Service is not registered in this app. Got: ${name}`);\n  }\n\n  /**\n   * Switches or sets everything that needs switching or setting when the URL changes.\n   */\n  function onRouteChanged({ location }) {\n    const matched = router.match(location.pathname + location.search);\n\n    if (matched) {\n      const { $route } = getService(\"@page\");\n      const routeChanged = matched.route !== $route.get(\"route\");\n\n      // Top level route details are stored on @page, where they can be read by apps and services.\n      // Nested route info is found in `this.$route` in components.\n      $route.set((current) => {\n        current.path = matched.path;\n        current.route = matched.route;\n        current.params = matched.params;\n        current.query = matched.query;\n        current.wildcard = matched.wildcard;\n      });\n\n      if (routeChanged) {\n        const node = matched.props.component.create({\n          getService,\n          dolla,\n          debug: debug.makeChannel(\"component:~\"), // TODO: Figure out how to default-name components\n          attrs: {},\n          children: [],\n          $route,\n        });\n\n        const mount = (element) => {\n          if (mounted) {\n            mounted.disconnect();\n          }\n          mounted = element;\n          mounted.connect(outlet);\n\n          // Components store their whole $Element under `element`. We need one extra level of unwrapping to get to the DOM node.\n          const dom = mounted.isComponent ? mounted.element.element : mounted.element;\n          if (dom) {\n            dom.dataset.appRoute = $route.get(\"route\");\n          }\n        };\n\n        let start = Date.now();\n        node.preload(mount).then(() => {\n          const time = Date.now() - start;\n\n          mount(node);\n          appDebug.log(`[depth 0] mounted route '${matched.route}' - preloaded in ${time}ms`);\n        });\n      }\n    } else {\n      appDebug.warn(`No route was matched. Consider adding a wildcard (\"*\") route to catch this.`);\n    }\n  }\n\n  ////\n  // Built-in services\n  ////\n\n  methods.service(\"@debug\", () => debug); // expose debug as a service\n  methods.service(\"@http\", HTTPService);\n  methods.service(\"@page\", PageService, { history });\n\n  return methods;\n}\n", "import { makeService, makeState } from \"@woofjs/app\";\n\n/**\n * Exposes a $current value and increments it by one each second.\n */\nconst CounterService = makeService((self) => {\n  const $current = makeState(0);\n\n  self.connected(() => {\n    setInterval(() => {\n      $current.set((current) => current + 1);\n    }, 1000);\n  });\n\n  return {\n    $current,\n\n    reset() {\n      $current.set(0);\n    },\n  };\n});\n\nexport default CounterService;\n", "import { makeService, makeState } from \"@woofjs/app\";\n\nconst MouseService = makeService((self) => {\n  const $position = makeState({ x: 0, y: 0 });\n\n  self.connected(() => {\n    self.debug.log(\"listening for mousemove events\");\n\n    window.addEventListener(\"mousemove\", (e) => {\n      $position.set({\n        x: e.clientX,\n        y: e.clientY,\n      });\n    });\n  });\n\n  return {\n    $position,\n  };\n});\n\nexport default MouseService;\n", "/**\n * Logs lifecycle hooks of a component for debugging/learning purposes.\n */\nexport default function logLifecycle(self) {\n  self.beforeConnect(() => {\n    self.debug.log(\"lifecycle: beforeConnect\");\n  });\n\n  self.connected(() => {\n    self.debug.log(\"lifecycle: connected\");\n  });\n\n  self.beforeDisconnect(() => {\n    self.debug.log(\"lifecycle: beforeDisconnect\");\n  });\n\n  self.disconnected(() => {\n    self.debug.log(\"lifecycle: disconnected\");\n  });\n}\n", "import { makeComponent, makeState } from \"@woofjs/app\";\nimport logLifecycle from \"../utils/logLifecycle.js\";\n\n/**\n * Displays a div that toggles a class when clicked and a label based on the current status.\n */\nconst ToggleExample = makeComponent(($, self) => {\n  self.debug.name = \"ToggleExample\";\n\n  logLifecycle(self);\n\n  const $active = makeState(false);\n  const $status = $active.map((current) => (current ? \"ON\" : \"OFF\"));\n\n  return (\n    <div class=\"example\">\n      <h3>\n        Dynamic classes and <code>$state.map()</code>\n      </h3>\n      <div\n        class={{ active: $active }} // class \"active\" is applied while $active holds a truthy value\n        onclick={() => {\n          $active.set((current) => !current);\n        }}\n      >\n        {$.text($status)}\n        &nbsp;(click to toggle)\n      </div>\n    </div>\n  );\n});\n\nexport default ToggleExample;\n", "import { makeComponent } from \"@woofjs/app\";\nimport logLifecycle from \"../utils/logLifecycle.js\";\n\n/**\n * Component with controls and a mapped label based on the state inside the service.\n */\nconst CounterExample = makeComponent(($, self) => {\n  self.debug.name = \"CounterExample\";\n\n  logLifecycle(self);\n\n  const counter = self.getService(\"counter\");\n  const $label = counter.$current.map((n) => ` the number is: ${n}`);\n\n  return (\n    <div class=\"example\">\n      <h3>Shared state with services</h3>\n      <div>\n        <p>{$.text($label)}</p>\n        <button onclick={counter.reset}>Reset</button>\n        <CounterViewLabel />\n      </div>\n    </div>\n  );\n});\n\nexport default CounterExample;\n\n/**\n * Second component with a view only. Displays the same information from the same service.\n */\nconst CounterViewLabel = makeComponent(($, self) => {\n  const { $current } = self.getService(\"counter\");\n\n  return <h1>{$.text($current)}</h1>;\n});\n", "import { makeComponent, makeState } from \"@woofjs/app\";\nimport logLifecycle from \"../utils/logLifecycle.js\";\n\nconst ConditionalExample = makeComponent(($, self) => {\n  self.debug.name = \"ConditionalExample\";\n\n  logLifecycle(self);\n\n  const $show = makeState(false);\n  const $label = $show.map((on) => (on ? \"Hide Text\" : \"Show Text\"));\n\n  return (\n    <div class=\"example\">\n      <h3>\n        Conditional rendering with <code>$.if()</code>\n      </h3>\n      <div>\n        <button\n          onclick={() => {\n            $show.set((current) => !current);\n          }}\n        >\n          {$.text($label)}\n        </button>\n        {$.if($show, <span>Hello there!</span>)}\n      </div>\n    </div>\n  );\n});\n\nexport default ConditionalExample;\n", "import { makeComponent, makeState } from \"@woofjs/app\";\nimport logLifecycle from \"../utils/logLifecycle.js\";\n\nconst DynamicListExample = makeComponent(($, self) => {\n  self.debug.name = \"DynamicListExample\";\n\n  logLifecycle(self);\n\n  const initialList = [\"apple\", \"banana\", \"potato\", \"fried chicken\"];\n\n  const $shoppingList = makeState(initialList);\n  const $inputValue = makeState(\"\");\n\n  const getSorted = () => {\n    return $shoppingList\n      .get()\n      .map((x) => x)\n      .sort();\n  };\n\n  const reset = () => {\n    $shoppingList.set(initialList);\n  };\n\n  return (\n    <div class=\"example\">\n      <h3>\n        Dynamic Lists with <code>$.each()</code>\n      </h3>\n\n      <div>\n        <button\n          onclick={() => {\n            $shoppingList.set(getSorted());\n          }}\n        >\n          Sort A to Z\n        </button>\n\n        <button\n          onclick={() => {\n            $shoppingList.set(getSorted().reverse());\n          }}\n        >\n          Sort Z to A\n        </button>\n\n        <div class=\"flex-center\">\n          <input\n            type=\"text\"\n            value={$inputValue}\n            oninput={(e) => {\n              $inputValue.set(e.target.value);\n            }}\n          />\n          <button\n            disabled={$inputValue.map((current) => current.trim() == \"\")}\n            onclick={() => {\n              // Add the current input value to the list and clear it.\n              $shoppingList.set((current) => {\n                current.push($inputValue.get());\n              });\n              $inputValue.set(\"\");\n            }}\n          >\n            Add Item\n          </button>\n          <button onclick={reset}>Reset List</button>\n        </div>\n\n        {$.each(\n          $shoppingList,\n          (item) => item, // use items as keys as they are already unique strings\n          (item) => (\n            <li\n              onclick={() => {\n                alert(item);\n              }}\n            >\n              {item}\n            </li>\n          )\n        )}\n      </div>\n    </div>\n  );\n});\n\nexport default DynamicListExample;\n", "import { makeComponent, makeState } from \"@woofjs/app\";\nimport logLifecycle from \"../utils/logLifecycle.js\";\n\nconst TwoWayBindExample = makeComponent(($, self) => {\n  self.debug.name = \"TwoWayBindExample\";\n\n  logLifecycle(self);\n\n  const $text = makeState(\"edit me\");\n  const $size = makeState(18);\n\n  return (\n    <div class=\"example\">\n      <h3>\n        Two way data binding with <code>$.bind()</code>\n      </h3>\n      <div>\n        <input value={$.bind($text)} />\n        <input value={$.bind($size)} type=\"number\" /> {/* number value gets converted back to number */}\n        <p\n          style={{\n            fontSize: $size.map((s) => s + \"px\"),\n          }}\n        >\n          {$.text($text)}\n        </p>\n      </div>\n    </div>\n  );\n});\n\nexport default TwoWayBindExample;\n", "import { makeComponent, makeState, mergeStates } from \"@woofjs/app\";\nimport logLifecycle from \"../utils/logLifecycle.js\";\n\nconst FormExample = makeComponent(($, self) => {\n  self.debug.name = \"FormExample\";\n\n  logLifecycle(self);\n\n  const $firstName = makeState(\"\");\n  const $lastName = makeState(\"\");\n  const $age = makeState(18);\n\n  const $errors = mergeStates($firstName, $lastName, $age, (first, last, age) => {\n    let errors = [];\n\n    if (first.trim() == \"\") {\n      errors.push(\"First name can't be empty.\");\n    }\n\n    if (last.trim() == \"\") {\n      errors.push(\"Last name can't be empty.\");\n    }\n\n    if (age < 18) {\n      errors.push(\"You must be 18 or older to view this content. \uD83D\uDC40\");\n    }\n\n    return errors;\n  });\n  const $hasErrors = $errors.map((current) => current.length > 0);\n\n  function onsubmit(e) {\n    e.preventDefault();\n    alert(\"Thank you for your submission.\");\n  }\n\n  return (\n    <div class=\"example\">\n      <h3>Form with validation</h3>\n      <form onsubmit={onsubmit}>\n        <input type=\"text\" value={$.bind($firstName)} placeholder=\"First Name\" />\n        <input type=\"text\" value={$.bind($lastName)} placeholder=\"Last Name\" />\n        <input type=\"number\" value={$.bind($age)} placeholder=\"Age\" />\n        <button disabled={$hasErrors}>Submit</button>\n        {$.if($hasErrors, () =>\n          $.each(\n            $errors,\n            (message) => message,\n            (message) => <div style=\"color:red\">{message}</div>\n          )\n        )}\n      </form>\n    </div>\n  );\n});\n\nexport default FormExample;\n", "import { makeComponent, makeState } from \"@woofjs/app\";\nimport logLifecycle from \"../utils/logLifecycle.js\";\n\nconst MouseFollowerExample = makeComponent(($, self) => {\n  self.debug.name = \"MouseFollowerExample\";\n\n  logLifecycle(self);\n\n  const { $position } = self.getService(\"mouse\");\n  const bestColor = \"#ff0088\";\n\n  const $isEnabled = makeState(false);\n  const $backgroundColor = makeState(bestColor);\n  const $transform = $position.map((pos) => `translate(${pos.x}px, ${pos.y}px)`);\n  const $isNotBestColor = $backgroundColor.map((hex) => hex.toLowerCase() !== bestColor);\n\n  const resetColor = () => {\n    $backgroundColor.set(bestColor);\n  };\n\n  const randomizeColor = () => {\n    const hex = [Math.random() * 256, Math.random() * 256, Math.random() * 256]\n      .map(Math.floor)\n      .map((n) => n.toString(16))\n      .join(\"\");\n\n    $backgroundColor.set(\"#\" + hex);\n  };\n\n  return (\n    <div class=\"example\">\n      <h3>More complex state management</h3>\n      <div>\n        {$.if(\n          $isEnabled,\n          <div\n            class=\"follower\"\n            style={{\n              transform: $transform,\n              backgroundColor: $backgroundColor,\n            }}\n          />\n        )}\n\n        <button onclick={randomizeColor} disabled={$isEnabled.map((yes) => !yes)}>\n          Change Follower Color\n        </button>\n\n        {$.if(\n          $isNotBestColor,\n          <button onclick={resetColor} disabled={$isEnabled.map((yes) => !yes)}>\n            Reset to Best Color\n          </button>\n        )}\n\n        <button onclick={() => $isEnabled.set((yes) => !yes)}>\n          {$.text($isEnabled.map((yes) => (yes ? \"Turn Off Follower\" : \"Turn On Follower\")))}\n        </button>\n      </div>\n    </div>\n  );\n});\n\nexport default MouseFollowerExample;\n", "import { makeComponent, makeState } from \"@woofjs/app\";\nimport logLifecycle from \"../utils/logLifecycle.js\";\n\nconst HTTPRequestExample = makeComponent(($, self) => {\n  self.debug.name = \"HTTPRequestExample\";\n\n  logLifecycle(self);\n\n  const $loading = makeState(false);\n  const $image = makeState();\n\n  const $label = $loading.map((yes) => (yes ? \"NOW LOADING...\" : \"Loaded!\"));\n\n  const refresh = () => {\n    $loading.set(true);\n\n    return self\n      .getService(\"@http\")\n      .get(\"https://dog.ceo/api/breeds/image/random\")\n      .then((res) => {\n        $image.set(res.body.message);\n      })\n      .finally(() => {\n        $loading.set(false);\n      });\n  };\n\n  self.connected(() => {\n    refresh();\n  });\n\n  return (\n    <div class=\"example\">\n      <h3>\n        HTTP requests with <code>@http</code> service\n      </h3>\n      <div>\n        <img\n          src={$image}\n          style={{\n            height: \"400px\",\n            border: \"2px solid orange\",\n          }}\n        />\n        <button onclick={refresh}>Next Doggo</button>\n        {$.text($label)}\n      </div>\n    </div>\n  );\n});\n\nexport default HTTPRequestExample;\n", "import \"./styles/demo.css\";\n\nimport { makeApp } from \"@woofjs/app\";\n\nimport CounterService from \"./services/CounterService.js\";\nimport MouseService from \"./services/MouseService.js\";\n\nimport ToggleExample from \"./components/ToggleExample.js\";\nimport CounterExample from \"./components/CounterExample.js\";\nimport ConditionalExample from \"./components/ConditionalExample.js\";\nimport DynamicListExample from \"./components/DynamicListExample.js\";\nimport TwoWayBindExample from \"./components/TwoWayBindExample.js\";\nimport FormExample from \"./components/FormExample.js\";\nimport MouseFollowerExample from \"./components/MouseFollowerExample.js\";\nimport HTTPRequestExample from \"./components/HTTPRequestExample.js\";\n\nimport logLifecycle from \"./utils/logLifecycle\";\n\nconst app = makeApp({\n  hash: true,\n  debug: {\n    filter: \"*\",\n    log: true,\n    warn: true,\n    error: true,\n  },\n});\n\napp.service(\"counter\", CounterService);\napp.service(\"mouse\", MouseService);\n\n// TODO: Fix error evaluating .isConnected on element when null is returned from a component.\n\napp.route(\"*\", ($, self) => {\n  self.debug.name = \"\uD83D\uDC15\";\n  self.debug.log(\"hi\");\n\n  logLifecycle(self);\n\n  self.preload((done) => {\n    // When the done() function is called, this content is removed and the real component is connected.\n    return (\n      <div>\n        <h1>WELCOME</h1>\n        <p>This page has examples of things woof can do.</p>\n        <p>\n          Click the button below to demonstrate calling <code>done()</code> in a component's preload hook. When it's\n          triggered by an event, you can create disclaimer pages like this. Generally you would use this to show temp\n          content while making API calls.\n        </p>\n        <button onclick={() => done()} title=\"demonstrate calling done() in a component's preload hook\">\n          Continue\n        </button>\n      </div>\n    );\n  });\n\n  self.connected(() => {\n    const page = self.getService(\"@page\");\n    const mouse = self.getService(\"mouse\");\n\n    // Display current mouse coordinates as tab title\n    self.watchState(mouse.$position, (pos) => {\n      page.$title.set(`x:${Math.round(pos.x)} y:${Math.round(pos.y)}`);\n    });\n  });\n\n  return (\n    <div class=\"demo\">\n      <nav class=\"nav\">\n        <ul>\n          <li>\n            <a href=\"/examples\">Examples</a>\n          </li>\n          <li>\n            <a href=\"/nested/one\">Nested: #1</a>\n          </li>\n          <li>\n            <a href=\"/nested/two\">Nested: #2</a>\n          </li>\n          <li>\n            <a href=\"/nested/invalid\">Nested: Redirect *</a>\n          </li>\n        </ul>\n      </nav>\n\n      {$.outlet()\n        .route(\"examples\", ($) => (\n          <div>\n            <ToggleExample />\n            <CounterExample />\n            <ConditionalExample />\n            <DynamicListExample />\n            <TwoWayBindExample />\n            <FormExample />\n            <MouseFollowerExample />\n            <HTTPRequestExample />\n          </div>\n        ))\n        .route(\"nested/*\", ($) => (\n          <div>\n            <h1>Nested Routes!</h1>\n            {$.outlet()\n              .route(\"one\", ($) => <h1>NESTED #1</h1>)\n              .route(\"two\", ($) => <h1>NESTED #2</h1>)\n              .route(\"*\", \"/nested/one\")}\n          </div>\n        ))}\n    </div>\n  );\n});\n\napp.connect(\"#app\");\n"],
  "mappings": "mzCAAA,GAAA,GAAA,CAAA,6CAAA,EAAA,CAAA,aACA,GAAI,GAAa,GAAQ,EAAK,WAAe,UAAY,CACrD,GAAI,GAAgB,SAAU,EAAG,EAAG,CAChC,SAAgB,OAAO,gBAClB,CAAE,UAAW,aAAgB,QAAS,SAAU,EAAG,EAAG,CAAE,EAAE,UAAY,IACvE,SAAU,EAAG,EAAG,CAAE,OAAS,KAAK,GAAG,AAAI,OAAO,UAAU,eAAe,KAAK,EAAG,IAAI,GAAE,GAAK,EAAE,KACzF,EAAc,EAAG,IAE5B,MAAO,UAAU,EAAG,EAAG,CACnB,GAAI,MAAO,IAAM,YAAc,IAAM,KACjC,KAAM,IAAI,WAAU,uBAAyB,OAAO,GAAK,iCAC7D,EAAc,EAAG,GACjB,YAAc,CAAE,KAAK,YAAc,EACnC,EAAE,UAAY,IAAM,KAAO,OAAO,OAAO,GAAM,GAAG,UAAY,EAAE,UAAW,GAAI,QAGnF,EAA0B,GAAQ,EAAK,wBAA2B,SAAU,EAAU,EAAY,EAAO,CACzG,GAAI,CAAC,EAAW,IAAI,GAChB,KAAM,IAAI,WAAU,kDAExB,SAAW,IAAI,EAAU,GAClB,GAEP,EAA0B,GAAQ,EAAK,wBAA2B,SAAU,EAAU,EAAY,CAClG,GAAI,CAAC,EAAW,IAAI,GAChB,KAAM,IAAI,WAAU,kDAExB,MAAO,GAAW,IAAI,IAEtB,EAAQ,EAAS,EAAQ,EAAY,EAAQ,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAS,EAAS,EAAQ,EAAgB,EAAQ,EAAQ,EAAU,EAAU,EACvK,EAAQ,WAAa,GACrB,EAAQ,QAAa,OACrB,GAAI,IAAW,SAAU,EAAK,CAC1B,GAAI,GAAO,IACP,EAAQ,IACR,EAAO,EACX,GAAO,IAEP,OADI,GAAmB,KAAK,MAAM,iBAAmB,GAC5C,EAAI,EAAG,EAAI,EAAI,OAAQ,IAC5B,AAAI,EAAO,GACP,GAAO,KAAK,MAAM,EAAO,IAE7B,EAAO,EAAO,EAAO,EAAI,WAAW,GAExC,MAAO,IAEP,EAAY,mBAAmB,MAAM,IACrC,GAAQ,CACR,YACA,QACA,MACA,KAEA,GAAQ,CACR,GACA,GACA,EACA,GAEA,GAAI,CACJ,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,YAEA,EAAS,GACT,GAAwB,UAAY,CACpC,WAAgB,EAAQ,EAAe,CACnC,AAAI,IAAW,QAAU,GAAS,IAC9B,IAAkB,QAAU,GAAgB,IAChD,EAAO,IAAI,KAAM,QACjB,EAAQ,IAAI,KAAM,QAClB,EAAO,IAAI,KAAM,QACjB,EAAW,IAAI,KAAM,QACrB,EAAO,IAAI,KAAM,QACjB,EAAI,IAAI,KAAM,QACd,EAAI,IAAI,KAAM,QACd,EAAI,IAAI,KAAM,QACd,EAAI,IAAI,KAAM,QACd,EAAI,IAAI,KAAM,QACd,EAAI,IAAI,KAAM,QACd,EAAI,IAAI,KAAM,QACd,EAAI,IAAI,KAAM,QACd,EAAQ,IAAI,KAAM,QAClB,EAAQ,IAAI,KAAM,QAClB,EAAO,IAAI,KAAM,QACjB,EAAe,IAAI,KAAM,GACzB,EAAO,IAAI,KAAM,QACjB,KAAK,KAAK,EAAQ,GAEtB,SAAO,UAAU,KAAO,SAAU,EAAO,EAAc,CACnD,AAAI,EACA,GAAO,GAAK,EAAO,IAAM,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,GAAK,EAAO,IAAM,EAAO,IAAM,EAAO,IAAM,EAAO,IAAM,EAAO,IAAM,EAAO,IAAM,EACnN,EAAuB,KAAM,EAAS,IAGtC,EAAuB,KAAM,EAAS,CAClC,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,IAGR,AAAI,EACA,GAAuB,KAAM,EAAK,YAClC,EAAuB,KAAM,EAAK,WAClC,EAAuB,KAAM,EAAK,WAClC,EAAuB,KAAM,EAAK,YAClC,EAAuB,KAAM,EAAK,YAClC,EAAuB,KAAM,EAAK,YAClC,EAAuB,KAAM,EAAK,YAClC,EAAuB,KAAM,EAAK,aAGlC,GAAuB,KAAM,EAAK,YAClC,EAAuB,KAAM,EAAK,YAClC,EAAuB,KAAM,EAAK,YAClC,EAAuB,KAAM,EAAK,YAClC,EAAuB,KAAM,EAAK,YAClC,EAAuB,KAAM,EAAK,YAClC,EAAuB,KAAM,EAAK,WAClC,EAAuB,KAAM,EAAK,aAEtC,EAAuB,KAAM,EAAQ,EAAuB,KAAM,EAAQ,EAAuB,KAAM,EAAQ,EAAuB,KAAM,EAAS,MACrJ,EAAuB,KAAM,EAAY,EAAuB,KAAM,EAAS,KAC/E,EAAuB,KAAM,EAAQ,IACrC,EAAuB,KAAM,EAAQ,IAEzC,EAAO,UAAU,OAAS,SAAU,EAAS,CACzC,GAAI,EAAuB,KAAM,GAC7B,MAAO,MAEX,GAAI,GACJ,AAAI,YAAmB,aACnB,EAAM,GAAI,YAAW,GAGrB,EAAM,EAKV,OAHI,GAAQ,EACR,EAAS,EAAI,OACb,EAAU,EAAuB,KAAM,GACpC,EAAQ,GAAQ,CACnB,GAAI,GAAI,OAMR,GALI,EAAuB,KAAM,IAC7B,GAAuB,KAAM,EAAS,IACtC,EAAQ,GAAK,EAAuB,KAAM,GAC1C,EAAQ,IAAM,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,IAAM,EAAQ,IAAM,EAAQ,IAAM,EAAQ,IAAM,EAAQ,IAAM,EAAQ,IAAM,GAEvN,MAAO,IAAQ,SACf,IAAK,EAAI,EAAuB,KAAM,GAAS,EAAQ,GAAU,EAAI,GAAI,EAAE,EACvE,EAAQ,GAAK,IAAM,EAAI,IAAU,GAAO,IAAO,OAInD,KAAK,EAAI,EAAuB,KAAM,GAAS,EAAQ,GAAU,EAAI,GAAI,EAAE,EAAO,CAC9E,GAAI,GAAO,EAAI,WAAW,GAC1B,AAAI,EAAO,IACP,EAAQ,GAAK,IAAM,GAAQ,GAAO,IAAO,GAAA,AAEpC,EAAO,KACZ,GAAQ,GAAK,IAAO,KAAM,GAAQ,IAAM,GAAO,IAAO,GACtD,EAAQ,GAAK,IAAO,KAAM,EAAO,KAAO,GAAO,IAAO,IAAA,AAEjD,EAAO,OAAS,GAAQ,MAC7B,GAAQ,GAAK,IAAO,KAAM,GAAQ,KAAO,GAAO,IAAO,GACvD,EAAQ,GAAK,IAAO,KAAM,GAAQ,EAAI,KAAO,GAAO,IAAO,GAC3D,EAAQ,GAAK,IAAO,KAAM,EAAO,KAAO,GAAO,IAAO,IAGtD,GAAO,MAAU,IAAO,OAAS,GAAK,EAAI,WAAW,EAAE,GAAS,MAChE,EAAQ,GAAK,IAAO,KAAM,GAAQ,KAAO,GAAO,IAAO,GACvD,EAAQ,GAAK,IAAO,KAAM,GAAQ,GAAK,KAAO,GAAO,IAAO,GAC5D,EAAQ,GAAK,IAAO,KAAM,GAAQ,EAAI,KAAO,GAAO,IAAO,GAC3D,EAAQ,GAAK,IAAO,KAAM,EAAO,KAAO,GAAO,IAAO,IAIlE,EAAuB,KAAM,EAAgB,GAC7C,EAAuB,KAAM,EAAQ,EAAuB,KAAM,GAAW,GAAI,EAAuB,KAAM,KAC9G,AAAI,GAAK,GACL,GAAuB,KAAM,EAAQ,EAAQ,KAC7C,EAAuB,KAAM,EAAQ,EAAI,IACzC,KAAK,OACL,EAAuB,KAAM,EAAS,KAGtC,EAAuB,KAAM,EAAQ,GAG7C,MAAI,GAAuB,KAAM,GAAU,YACvC,GAAuB,KAAM,EAAS,EAAuB,KAAM,GAAY,GAAuB,KAAM,GAAU,YAAc,IACpI,EAAuB,KAAM,EAAQ,EAAuB,KAAM,GAAU,aAEzE,MAEX,EAAO,UAAU,SAAW,UAAY,CACpC,GAAI,GAAuB,KAAM,GAGjC,GAAuB,KAAM,EAAY,IACzC,GAAI,GAAU,EAAuB,KAAM,GACvC,EAAI,EAAuB,KAAM,GACrC,EAAQ,IAAM,EAAuB,KAAM,GAC3C,EAAQ,GAAK,IAAM,GAAM,EAAI,GAC7B,EAAuB,KAAM,EAAQ,EAAQ,KACzC,GAAK,IACA,GAAuB,KAAM,IAC9B,KAAK,OAET,EAAQ,GAAK,EAAuB,KAAM,GAC1C,EAAQ,IAAM,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,GAAK,EAAQ,IAAM,EAAQ,IAAM,EAAQ,IAAM,EAAQ,IAAM,EAAQ,IAAM,EAAQ,IAAM,GAE3N,EAAQ,IAAM,EAAuB,KAAM,IAAY,EAAI,EAAuB,KAAM,KAAY,GACpG,EAAQ,IAAM,EAAuB,KAAM,IAAW,EACtD,KAAK,SAET,EAAO,UAAU,KAAO,UAAY,CAoBhC,OAnBI,GAAI,EAAuB,KAAM,GACjC,EAAI,EAAuB,KAAM,GACjC,EAAI,EAAuB,KAAM,GACjC,EAAI,EAAuB,KAAM,GACjC,EAAI,EAAuB,KAAM,GACjC,EAAI,EAAuB,KAAM,GACjC,EAAI,EAAuB,KAAM,GACjC,EAAI,EAAuB,KAAM,GACjC,EAAU,EAAuB,KAAM,GACvC,EACA,EACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACK,GAAI,GAAI,GAAI,GAAI,EAAE,GACvB,EAAK,EAAQ,GAAI,IACjB,EAAM,KAAO,EAAI,GAAM,IAAO,KAAO,GAAK,GAAM,IAAM,IAAO,EAC7D,EAAK,EAAQ,GAAI,GACjB,EAAM,KAAO,GAAK,GAAM,IAAO,KAAO,GAAK,GAAM,IAAM,IAAO,GAC9D,EAAQ,IAAK,EAAQ,GAAI,IAAM,EAAK,EAAQ,GAAI,GAAK,GAAM,EAE/D,GAAK,EAAI,EACT,OAAS,IAAK,EAAG,GAAK,GAAI,IAAM,EAC5B,AAAI,EAAuB,KAAM,GAC7B,CAAI,EAAuB,KAAM,GAC7B,IAAK,OACL,EAAK,EAAQ,GAAK,WAClB,EAAI,EAAK,WAAa,EACtB,EAAI,EAAK,UAAY,GAGrB,IAAK,UACL,EAAK,EAAQ,GAAK,UAClB,EAAI,EAAK,YAAc,EACvB,EAAI,EAAK,WAAa,GAE1B,EAAuB,KAAM,EAAQ,KAGrC,GAAM,KAAM,EAAI,GAAK,IAAO,KAAM,GAAK,GAAK,IAAO,KAAM,GAAK,GAAK,IACnE,EAAM,KAAM,EAAI,GAAK,IAAO,KAAM,GAAK,GAAK,IAAO,KAAM,GAAK,GAAK,GACnE,GAAK,EAAI,EACT,GAAM,GAAK,EAAI,EAAI,GACnB,GAAK,EAAI,EAAI,CAAC,EAAI,EAClB,EAAK,EAAI,EAAK,GAAK,GAAE,IAAM,EAAQ,IACnC,GAAK,EAAK,GACV,EAAI,EAAI,GAAM,EACd,EAAI,EAAK,IAAM,GAEnB,EAAM,KAAM,EAAI,GAAK,IAAO,KAAM,GAAK,GAAK,IAAO,KAAM,GAAK,GAAK,IACnE,EAAM,KAAM,EAAI,GAAK,IAAO,KAAM,GAAK,GAAK,IAAO,KAAM,GAAK,GAAK,GACnE,GAAK,EAAI,EACT,GAAM,GAAK,EAAI,EAAI,GACnB,GAAK,EAAI,EAAI,CAAC,EAAI,EAClB,EAAK,EAAI,EAAK,GAAK,GAAE,GAAK,GAAK,EAAQ,GAAK,GAC5C,GAAK,EAAK,GACV,EAAI,EAAI,GAAM,EACd,EAAI,EAAK,IAAM,EACf,EAAM,KAAM,EAAI,GAAK,IAAO,KAAM,GAAK,GAAK,IAAO,KAAM,GAAK,GAAK,IACnE,EAAM,KAAM,EAAI,GAAK,IAAO,KAAM,GAAK,GAAK,IAAO,KAAM,GAAK,GAAK,GACnE,GAAK,EAAI,EACT,GAAM,GAAK,EAAI,EAAI,GACnB,GAAK,EAAI,EAAI,CAAC,EAAI,EAClB,EAAK,EAAI,EAAK,GAAK,GAAE,GAAK,GAAK,EAAQ,GAAK,GAC5C,GAAK,EAAK,GACV,EAAI,EAAI,GAAM,EACd,EAAI,EAAK,IAAM,EACf,EAAM,KAAM,EAAI,GAAK,IAAO,KAAM,GAAK,GAAK,IAAO,KAAM,GAAK,GAAK,IACnE,EAAM,KAAM,EAAI,GAAK,IAAO,KAAM,GAAK,GAAK,IAAO,KAAM,GAAK,GAAK,GACnE,GAAK,EAAI,EACT,GAAM,GAAK,EAAI,EAAI,GACnB,GAAK,EAAI,EAAI,CAAC,EAAI,EAClB,EAAK,EAAI,EAAK,GAAK,GAAE,GAAK,GAAK,EAAQ,GAAK,GAC5C,GAAK,EAAK,GACV,EAAI,EAAI,GAAM,EACd,EAAI,EAAK,IAAM,EAEnB,EAAuB,KAAM,EAAK,EAAuB,KAAM,GAAO,GAAK,GAC3E,EAAuB,KAAM,EAAK,EAAuB,KAAM,GAAO,GAAK,GAC3E,EAAuB,KAAM,EAAK,EAAuB,KAAM,GAAO,GAAK,GAC3E,EAAuB,KAAM,EAAK,EAAuB,KAAM,GAAO,GAAK,GAC3E,EAAuB,KAAM,EAAK,EAAuB,KAAM,GAAO,GAAK,GAC3E,EAAuB,KAAM,EAAK,EAAuB,KAAM,GAAO,GAAK,GAC3E,EAAuB,KAAM,EAAK,EAAuB,KAAM,GAAO,GAAK,GAC3E,EAAuB,KAAM,EAAK,EAAuB,KAAM,GAAO,GAAK,IAE/E,EAAO,UAAU,IAAM,UAAY,CAC/B,KAAK,WACL,GAAI,GAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,EAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,EAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,EAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,EAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,EAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,EAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,EAAK,IACp7C,MAAK,GAAuB,KAAM,IAC9B,IAAO,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,GAAK,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,GAAM,EAAI,IAAM,EAAU,EAAK,KAE9M,GAEX,EAAO,UAAU,SAAW,UAAY,CACpC,MAAO,MAAK,OAEhB,EAAO,UAAU,OAAS,UAAY,CAClC,KAAK,WACL,GAAI,GAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAK,EAAuB,KAAM,GAClC,EAAM,CACN,GAAM,GAAK,IACX,GAAM,GAAK,IACX,GAAM,EAAI,IACV,EAAK,IACL,GAAM,GAAK,IACX,GAAM,GAAK,IACX,GAAM,EAAI,IACV,EAAK,IACL,GAAM,GAAK,IACX,GAAM,GAAK,IACX,GAAM,EAAI,IACV,EAAK,IACL,GAAM,GAAK,IACX,GAAM,GAAK,IACX,GAAM,EAAI,IACV,EAAK,IACL,GAAM,GAAK,IACX,GAAM,GAAK,IACX,GAAM,EAAI,IACV,EAAK,IACL,GAAM,GAAK,IACX,GAAM,GAAK,IACX,GAAM,EAAI,IACV,EAAK,IACL,GAAM,GAAK,IACX,GAAM,GAAK,IACX,GAAM,EAAI,IACV,EAAK,KAET,MAAK,GAAuB,KAAM,IAC9B,EAAI,KAAK,GAAM,GAAK,IAAK,GAAM,GAAK,IAAK,GAAM,EAAI,IAAK,EAAK,KAE1D,GAEX,EAAO,UAAU,MAAQ,UAAY,CACjC,MAAO,MAAK,UAEhB,EAAO,UAAU,YAAc,UAAY,CACvC,KAAK,WACL,GAAI,GAAS,GAAI,aAAY,EAAuB,KAAM,GAAU,GAAK,IACrE,EAAW,GAAI,UAAS,GAC5B,SAAS,UAAU,EAAG,EAAuB,KAAM,IACnD,EAAS,UAAU,EAAG,EAAuB,KAAM,IACnD,EAAS,UAAU,EAAG,EAAuB,KAAM,IACnD,EAAS,UAAU,GAAI,EAAuB,KAAM,IACpD,EAAS,UAAU,GAAI,EAAuB,KAAM,IACpD,EAAS,UAAU,GAAI,EAAuB,KAAM,IACpD,EAAS,UAAU,GAAI,EAAuB,KAAM,IAC/C,EAAuB,KAAM,IAC9B,EAAS,UAAU,GAAI,EAAuB,KAAM,IAEjD,GAEJ,KAEX,EAAS,GAAI,SAAW,EAAU,GAAI,SAAW,EAAS,GAAI,SAAW,EAAa,GAAI,SAAW,EAAS,GAAI,SAAW,EAAM,GAAI,SAAW,EAAM,GAAI,SAAW,EAAM,GAAI,SAAW,EAAM,GAAI,SAAW,EAAM,GAAI,SAAW,EAAM,GAAI,SAAW,EAAM,GAAI,SAAW,EAAM,GAAI,SAAW,EAAU,GAAI,SAAW,EAAU,GAAI,SAAW,EAAS,GAAI,SAAW,EAAiB,GAAI,SAAW,EAAS,GAAI,SAC5Z,GAAI,IAA4B,SAAU,EAAQ,CAC9C,EAAU,EAAY,GACtB,WAAoB,EAAW,EAAQ,EAAe,CAClD,AAAI,IAAW,QAAU,GAAS,IAC9B,IAAkB,QAAU,GAAgB,IAChD,GAAI,GAAQ,EAAO,KAAK,KAAM,EAAQ,IAAkB,KACxD,EAAO,IAAI,EAAO,QAClB,EAAS,IAAI,EAAO,QACpB,EAAS,IAAI,EAAO,QACpB,EAAc,IAAI,EAAO,QACzB,GAAI,GACJ,GAAI,MAAO,IAAc,SAAU,CAI/B,OAHI,GAAQ,GACR,EAAW,EAAU,OACrB,EAAQ,EACH,EAAI,EAAG,EAAI,EAAU,EAAE,EAAG,CAC/B,GAAI,GAAO,EAAU,WAAW,GAChC,AAAI,EAAO,IACP,EAAM,KAAW,EAAA,AAEZ,EAAO,KACZ,GAAM,KAAW,IAAM,GAAQ,EAC/B,EAAM,KAAW,IAAM,EAAO,IAAA,AAEzB,EAAO,OAAS,GAAQ,MAC7B,GAAM,KAAW,IAAM,GAAQ,GAC/B,EAAM,KAAW,IAAM,GAAQ,EAAI,GACnC,EAAM,KAAW,IAAM,EAAO,IAG9B,GAAO,MAAU,IAAO,OAAS,GAAK,EAAU,WAAW,EAAE,GAAK,MAClE,EAAM,KAAW,IAAM,GAAQ,GAC/B,EAAM,KAAW,IAAM,GAAQ,GAAK,GACpC,EAAM,KAAW,IAAM,GAAQ,EAAI,GACnC,EAAM,KAAW,IAAM,EAAO,IAGtC,EAAM,MAGN,AAAI,aAAqB,aACrB,EAAM,GAAI,YAAW,GAGrB,EAAM,EAGd,AAAI,EAAI,OAAS,IACb,GAAM,GAAI,IAAO,EAAQ,IAAM,OAAO,GAAK,SAI/C,OAFI,IAAU,GACV,EAAU,GACL,EAAI,EAAG,EAAI,GAAI,EAAE,EAAG,CACzB,GAAI,IAAI,EAAI,IAAM,EAClB,GAAQ,GAAK,GAAK,GAClB,EAAQ,GAAK,GAAK,GAEtB,SAAM,OAAO,GACb,EAAuB,EAAO,EAAU,IACxC,EAAuB,EAAO,EAAQ,IACtC,EAAuB,EAAO,EAAU,GACxC,EAAuB,EAAO,EAAe,GACtC,EAEX,SAAW,UAAU,SAAW,UAAY,CAExC,GADA,EAAO,UAAU,SAAS,KAAK,MAC3B,EAAuB,KAAM,GAAS,CACtC,EAAuB,KAAM,EAAQ,IACrC,GAAI,GAAY,KAAK,QACrB,EAAO,UAAU,KAAK,KAAK,KAAM,EAAuB,KAAM,GAAW,EAAuB,KAAM,IACtG,KAAK,OAAO,EAAuB,KAAM,IACzC,KAAK,OAAO,GACZ,EAAO,UAAU,SAAS,KAAK,QAGhC,GACT,IACF,EAAS,GAAI,SAAW,EAAW,GAAI,SAAW,EAAW,GAAI,SAAW,EAAgB,GAAI,SAChG,YAAqB,EAAG,CACpB,GAAI,GAAS,GAAI,IACjB,SAAO,OAAO,GACP,SAAS,EAAO,MAAM,UAAU,EAAG,GAAI,IAElD,GAAI,IAAU,SAAU,EAAU,CAC9B,GAAI,GAAM,IACV,SAAS,QAAQ,SAAU,EAAO,CAC9B,AAAI,EAAQ,IACR,IAAO,GAEX,GAAO,EAAM,SAAS,MAEnB,GAEP,GAAU,SAAU,EAAG,EAAG,EAAG,CAC7B,GAAK,IACL,GAAI,GAAI,EAAI,GAAM,EAAK,GAAI,GAAK,EAAI,EAAI,EAAI,EACxC,EAAI,EAAI,EAAI,EAChB,MAAO,CACH,EAAI,EAAI,EACR,EACA,EAAI,EAAI,GACV,IAAI,SAAU,EAAO,CACnB,MAAI,GAAQ,GACR,IAEA,EAAQ,GACR,IAEJ,AAAI,EAAQ,EAAI,EACZ,EAAQ,EAAK,GAAI,GAAK,EAAI,EAAA,AAErB,EAAQ,GACb,EAAQ,EAAA,AAEH,EAAQ,EAAI,EACjB,EAAQ,EAAK,GAAI,GAAK,EAAK,GAAI,EAAI,GAGnC,EAAQ,EAEL,KAAK,MAAM,EAAQ,QAG9B,GAA2B,UAAY,CACvC,WAAmB,EAAS,CACxB,AAAI,IAAY,QAAU,GAAU,IACpC,GAAI,GAAK,CACL,EAAQ,UACR,EAAQ,YACV,IAAI,SAAU,EAAO,CACnB,SAAQ,IAAU,OAAY,EAAQ,CAClC,IACA,GACA,KAEG,MAAM,QAAQ,GAAS,EAAM,SAAW,CAC3C,KAEJ,EAAI,EAAG,GAAI,EAAI,EAAG,GACtB,KAAK,EAAI,EACT,KAAK,EAAI,EACL,MAAO,GAAQ,KAAQ,UACvB,GAAQ,IAAM,CACV,IAAK,EAAQ,IACb,IAAK,EAAQ,MAGjB,MAAO,GAAQ,KAAQ,UAAY,CAAC,MAAM,QAAQ,EAAQ,MAC1D,GAAQ,IAAM,CACV,EAAQ,MAGZ,MAAO,GAAQ,KAAQ,aACvB,GAAQ,IAAM,IAElB,KAAK,UAAY,EAAQ,IAAI,IAAI,SAAU,EAAO,CAC9C,MAAO,CACH,IAAK,MAAO,GAAM,KAAQ,YAAc,EAAI,EAAM,IAClD,IAAK,MAAO,GAAM,KAAQ,YAAc,IAAM,EAAM,OAG5D,KAAK,KAAO,GACR,MAAO,GAAQ,MAAS,YACxB,MAAK,KAAO,EAAQ,MAEpB,EAAQ,OAAS,QACjB,MAAK,KAAO,IAGpB,SAAU,UAAU,IAAM,SAAU,EAAK,CACrC,GAAI,GAAG,EAAI,EACP,EAAO,KAAK,KAAK,GACjB,EAAgB,IACpB,GAAI,KAAK,UAAU,OAAQ,CACvB,GAAI,GAAQ,KAAK,UAAU,EAAO,KAAK,UAAU,QACjD,EAAI,EAAO,KAAK,UAAU,OAAS,EAAiB,GAAM,IAAM,EAAM,KAAO,EAAgB,EAAM,QAGnG,GAAI,EAAO,IAEf,SAAO,KAAK,KAAK,EAAO,KACxB,EAAK,KAAK,EAAE,EAAO,KAAK,EAAE,QAC1B,EAAO,KAAK,KAAK,EAAO,KAAK,EAAE,QAC/B,EAAK,KAAK,EAAE,EAAO,KAAK,EAAE,QACnB,CACH,EACA,EACA,IAGR,EAAU,UAAU,IAAM,SAAU,EAAK,CACrC,GAAI,GAAM,KAAK,IAAI,GACnB,MAAO,IAAQ,MAAM,KAAM,IAE/B,EAAU,UAAU,IAAM,SAAU,EAAK,CACrC,GAAI,GAAM,KAAK,IAAI,GACnB,MAAO,IAAQ,IAEZ,KAEX,EAAQ,QAAa,MC5pBN,aAAoB,CACjC,UAAW,OAAO,QAAU,SAAU,EAAQ,CAC5C,OAAS,GAAI,EAAG,EAAI,UAAU,OAAQ,IAAK,CACzC,GAAI,GAAS,UAAU,GAEvB,OAAS,KAAO,GACd,AAAI,OAAO,UAAU,eAAe,KAAK,EAAQ,IAC/C,GAAO,GAAO,EAAO,IAK3B,MAAO,IAGF,GAAS,MAAM,KAAM,WCf2B,GAAI,IAAE,GAAE,IAAI,IAAE,IAAI,GAAE,IAAI,MAAM,GAAE,KAAK,OAAO,GAAE,QAAQ,UAAU,GAAI,IAAsC,SAAS,EAAE,CAAC,MAAO,QAAO,OAAO,IAA0B,YAAW,EAAE,EAAE,CAAC,GAAG,CAAC,EAAE,CAAe,MAAO,UAArB,aAA8B,QAAQ,KAAK,GAAG,GAAG,CAAC,KAAM,OAAM,SAAU,EAAV,IAAgB,YAAW,EAAE,CAAC,EAAE,iBAAiB,EAAE,YAAY,GAClX,aAAY,CAAC,GAAI,GAAE,GAAG,MAAM,IAAK,SAAQ,CAAC,MAAO,GAAE,QAAQ,KAAK,SAAS,EAAE,CAAC,SAAE,KAAK,GAAU,UAAU,CAAC,EAAE,EAAE,OAAO,SAAS,EAAE,CAAC,MAAO,KAAI,MAAM,KAAK,SAAS,EAAE,CAAC,EAAE,QAAQ,SAAS,EAAE,CAAC,MAAO,IAAG,EAAE,OAAO,aAAY,CAAC,MAAO,MAAK,SAAS,SAAS,IAAI,OAAO,EAAE,GAAG,YAAW,EAAE,CAAC,GAAI,GAAE,EAAE,SAAS,EAAW,IAAT,OAAW,IAAI,EAAE,GAAI,GAAE,EAAE,OAAO,SAAW,IAAT,OAAW,GAAG,EAAE,EAAE,EAAE,KAAK,EAAW,IAAT,OAAW,GAAG,EAAE,GAAS,IAAN,KAAU,IAAS,EAAE,OAAO,KAAf,IAAkB,EAAE,IAAI,GAAG,GAAS,IAAN,KAAU,IAAS,EAAE,OAAO,KAAf,IAAkB,EAAE,IAAI,GAAU,EAChd,YAAW,EAAE,CAAC,GAAI,GAAE,GAAG,GAAG,EAAE,CAAC,GAAI,GAAE,EAAE,QAAQ,KAAK,GAAG,GAAI,GAAE,KAAK,EAAE,OAAO,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,QAAQ,KAAK,GAAG,GAAI,GAAE,OAAO,EAAE,OAAO,GAAG,EAAE,EAAE,OAAO,EAAE,IAAI,GAAI,GAAE,SAAS,GAAG,MAAO,GACpL,YAA8B,EAAE,CAAC,YAAY,CAAC,GAAI,GAAE,EAAE,SAAS,EAAE,EAAE,OAAO,GAAG,MAAM,CAAC,EAAE,IAAI,GAAE,CAAC,SAAS,EAAE,SAAS,OAAO,EAAE,OAAO,KAAK,EAAE,KAAK,MAAM,EAAE,KAAK,KAAK,IAAI,EAAE,KAAK,aAAa,WAAW,EAAE,CAAC,MAAiB,OAAO,IAAlB,SAAoB,EAAE,GAAE,GAAG,WAAW,EAAE,EAAE,CAAU,WAAT,QAAa,GAAE,MAAa,GAAE,GAAS,CAAC,SAAS,EAAE,SAAS,KAAK,GAAG,OAAO,IAAe,MAAO,IAAlB,SAAoB,GAAE,GAAG,EAAE,CAAC,MAAM,EAAE,IAAI,QAAO,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,OAAO,EAAE,SAAS,IAAI,WAAW,EAAE,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,GAAG,GAAI,GAAE,GAAE,KAAK,EAAE,EAAE,EAC7e,GAAG,GAAG,CAAC,EAAE,QAAS,GAAE,KAAK,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,IAAI,IAAI,CAAC,GAAI,GAAE,CAAC,CAAC,IAAI,EAAE,MAAM,IAAI,EAAE,IAAI,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,CAAC,EAAE,UAAU,EAAE,GAAG,SAAS,EAAT,CAAY,EAAE,SAAS,OAAO,GAAG,EAAE,IAAI,WAAW,EAAE,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,GAAG,GAAI,GAAE,GAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,EAAE,QAAS,GAAE,KAAK,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,IAAI,IAAK,GAAE,CAAC,CAAC,IAAI,EAAE,MAAM,IAAI,EAAE,IAAI,IAAI,GAAG,EAAE,IAAI,EAAE,aAAa,EAAE,GAAG,GAAG,EAAE,IAAI,EAAE,IAAI,WAAW,EAAE,CAAC,EAAE,GAAG,GAAY,IAAT,QAAa,GAAE,IAAI,EAAE,EAAE,OAAO,GAAI,GAAW,IAAT,OAAW,SAAS,YAAY,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,iBAAiB,WACnf,UAAU,CAAC,GAAG,EAAE,EAAE,KAAK,GAAG,EAAE,SAAS,CAAC,GAAI,GAAE,GAAE,IAAI,EAAE,IAAI,EAAE,EAAE,GAAU,GAAP,EAAE,EAAE,GAAM,EAAE,OAAO,GAAS,GAAN,KAAQ,CAAC,GAAI,GAAE,EAAE,EAAE,GAAI,GAAE,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,UAAU,CAAC,EAAE,GAAG,KAAK,EAAE,QAAQ,AAAoC,IAAE,GAAG,0SACrM,GAAE,MAAM,GAAI,GAAE,GAAE,IAAI,EAAE,IAAI,GAAI,GAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,KAAI,EAAE,KAAU,UAAN,MAAU,GAAE,EAAE,EAAE,aAAa,GAAS,GAAG,EAAE,MAAM,CAAC,IAAI,IAAI,KAAW,IAAK,SAAQ,CAAC,MAAO,OAAO,WAAU,CAAC,MAAO,IAAG,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,KAAK,UAAU,CAAC,EAAE,KAAK,QAAQ,UAAU,CAAC,EAAE,IAAI,OAAO,SAAS,EAAE,CAAC,MAAO,GAAE,KAAK,IAAI,MAAM,SAAS,EAAE,CAAC,GAAI,GAAE,EAAE,KAAK,GAAO,SAAE,SAAN,GAAc,EAAE,iBAAiB,eAAe,IAAU,UAAU,CAAC,IAAI,EAAE,QAAQ,EAAE,oBAAoB,eAAe,OAC5c,YAA2B,EAAE,CAAC,YAAY,CAAC,GAAI,GAAE,GAAE,EAAE,SAAS,KAAK,OAAO,IAAI,EAAE,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,EAAE,KAAK,GAAI,GAAE,EAAE,OAAO,GAAG,MAAM,CAAC,EAAE,IAAI,GAAE,CAAC,SAAkB,IAAT,OAAW,IAAI,EAAE,OAAgB,IAAT,OAAW,GAAG,EAAE,KAAc,IAAT,OAAW,GAAG,EAAE,MAAM,EAAE,KAAK,KAAK,IAAI,EAAE,KAAK,aAAa,YAAY,CAAC,GAAG,EAAE,EAAE,KAAK,GAAG,EAAE,SAAS,CAAC,GAAI,GAAE,GAAE,IAAI,EAAE,IAAI,EAAE,EAAE,GAAU,GAAP,EAAE,EAAE,GAAM,EAAE,OAAO,GAAS,GAAN,KAAQ,CAAC,GAAI,GAAE,EAAE,EAAE,GAAI,GAAE,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,UAAU,CAAC,EAAE,GAAG,KAAK,EAAE,QAAQ,AAAoC,IAAE,GAAG,0SACxc,GAAE,IAAI,WAAW,EAAE,CAAC,GAAI,GAAE,SAAS,cAAc,QAAQ,EAAE,GAAG,UAAG,EAAE,aAAa,SAAU,GAAE,EAAE,SAAS,KAAK,EAAE,EAAE,QAAQ,KAAK,EAAO,IAAL,GAAO,EAAE,EAAE,MAAM,EAAE,IAAW,EAAE,IAAgB,OAAO,IAAlB,SAAoB,EAAE,GAAE,IAAI,WAAW,EAAE,EAAE,CAAU,WAAT,QAAa,GAAE,MAAa,GAAE,GAAS,CAAC,SAAS,EAAE,SAAS,KAAK,GAAG,OAAO,IAAe,MAAO,IAAlB,SAAoB,GAAE,GAAG,EAAE,CAAC,MAAM,EAAE,IAAI,QAAO,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,KAAK,CAAC,OAAO,EAAE,SAAS,IAAI,WAAW,EAAE,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,GAAG,GAAI,GAAE,GAAE,KAAK,EAAE,EAAE,EAAE,GAC7V,GAAxH,GAAQ,EAAE,SAAS,OAAO,KAAxB,IAA2B,6DAA6D,KAAK,UAAU,GAAG,KAAe,CAAC,EAAE,QAAS,GAAE,KAAK,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,IAAI,IAAI,CAAC,GAAI,GAAE,CAAC,CAAC,IAAI,EAAE,MAAM,IAAI,EAAE,IAAI,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,CAAC,EAAE,UAAU,EAAE,GAAG,SAAS,EAAT,CAAY,EAAE,SAAS,OAAO,GAAG,EAAE,IAAI,WAAW,EAAE,EAAE,CAAC,YAAY,CAAC,EAAE,EAAE,GAAG,GAAI,GAAE,GAAE,QAAQ,EAAE,EAAE,EAAE,GAAG,AAAoC,GAAQ,EAAE,SAAS,OAAO,KAAxB,IAA2B,gEAAgE,KAAK,UAAU,GACtf,KAAY,EAAE,QAAS,GAAE,KAAK,CAAC,OAAO,EAAE,SAAS,EAAE,MAAM,IAAI,IAAK,GAAE,CAAC,CAAC,IAAI,EAAE,MAAM,IAAI,EAAE,IAAI,IAAI,GAAG,EAAE,IAAI,EAAE,aAAa,EAAE,GAAG,GAAG,EAAE,IAAI,EAAE,IAAI,WAAW,EAAE,CAAC,EAAE,GAAG,GAAY,IAAT,QAAa,GAAE,IAAI,EAAE,EAAE,OAAO,GAAI,GAAW,IAAT,OAAW,SAAS,YAAY,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAE,iBAAiB,WAAW,GAAG,EAAE,iBAAiB,aAAa,UAAU,CAAC,GAAI,GAAE,IAAI,GAAG,GAAE,KAAK,GAAE,IAAI,MAAM,GAAI,GAAE,GAAE,IAAI,EAAE,IAAI,GAAI,GAAE,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,KAAI,EAAE,KAAU,UAAN,MAAU,GAAE,EAAE,EAAE,aAAa,GAAS,GAAG,EAAE,MAAM,CAAC,IAAI,IAAI,KAAW,IAAK,SAAQ,CAAC,MAAO,OAAO,WAAU,CAAC,MAAO,IAC1gB,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,KAAK,UAAU,CAAC,EAAE,KAAK,QAAQ,UAAU,CAAC,EAAE,IAAI,OAAO,SAAS,EAAE,CAAC,MAAO,GAAE,KAAK,IAAI,MAAM,SAAS,EAAE,CAAC,GAAI,GAAE,EAAE,KAAK,GAAO,SAAE,SAAN,GAAc,EAAE,iBAAiB,eAAe,IAAU,UAAU,CAAC,IAAI,EAAE,QAAQ,EAAE,oBAAoB,eAAe,29BCXlR,GAAA,GAAA,CAAA,0CAAA,EAAA,EAAA,CAAA,aACA,EAAO,QAAU,AAAA,GAAO,mBAAmB,GAAK,QAAQ,WAAY,AAAA,GAAK,IAAI,EAAE,WAAW,GAAG,SAAS,IAAI,oBCD1G,GAAA,GAAA,CAAA,6CAAA,EAAA,EAAA,CAAA,aACA,GAAI,GAAQ,eACR,EAAgB,GAAI,QAAO,EAAO,MAClC,EAAe,GAAI,QAAO,IAAM,EAAQ,KAAM,MAElD,WAA0B,EAAY,EAAO,CAC5C,GAAI,CAEH,MAAO,oBAAmB,EAAW,KAAK,WAClC,IAIT,GAAI,EAAW,SAAW,EACzB,MAAO,GAGR,EAAQ,GAAS,EAGjB,GAAI,GAAO,EAAW,MAAM,EAAG,GAC3B,EAAQ,EAAW,MAAM,GAE7B,MAAO,OAAM,UAAU,OAAO,KAAK,GAAI,EAAiB,GAAO,EAAiB,IAGjF,WAAgB,EAAO,CACtB,GAAI,CACH,MAAO,oBAAmB,SAClB,GAGR,OAFI,GAAS,EAAM,MAAM,GAEhB,EAAI,EAAG,EAAI,EAAO,OAAQ,IAClC,EAAQ,EAAiB,EAAQ,GAAG,KAAK,IAEzC,EAAS,EAAM,MAAM,GAGtB,MAAO,IAIT,WAAkC,EAAO,CAQxC,OANI,GAAa,CAChB,SAAU,eACV,SAAU,gBAGP,EAAQ,EAAa,KAAK,GACvB,GAAO,CACb,GAAI,CAEH,EAAW,EAAM,IAAM,mBAAmB,EAAM,UACxC,GACR,GAAI,GAAS,EAAO,EAAM,IAE1B,AAAI,IAAW,EAAM,IACpB,GAAW,EAAM,IAAM,GAIzB,EAAQ,EAAa,KAAK,GAI3B,EAAW,OAAS,SAIpB,OAFI,GAAU,OAAO,KAAK,GAEjB,EAAI,EAAG,EAAI,EAAQ,OAAQ,IAAK,CAExC,GAAI,GAAM,EAAQ,GAClB,EAAQ,EAAM,QAAQ,GAAI,QAAO,EAAK,KAAM,EAAW,IAGxD,MAAO,GAGR,EAAO,QAAU,SAAU,EAAY,CACtC,GAAI,MAAO,IAAe,SACzB,KAAM,IAAI,WAAU,sDAAwD,MAAO,GAAa,KAGjG,GAAI,CACH,SAAa,EAAW,QAAQ,MAAO,KAGhC,mBAAmB,SAClB,GAER,MAAO,GAAyB,QC3FlC,GAAA,GAAA,CAAA,uCAAA,EAAA,EAAA,CAAA,aAEA,EAAO,QAAU,CAAC,EAAQ,IAAc,CACvC,GAAI,CAAE,OAAO,IAAW,UAAY,MAAO,IAAc,UACxD,KAAM,IAAI,WAAU,iDAGrB,GAAI,IAAc,GACjB,MAAO,CAAC,GAGT,GAAM,GAAiB,EAAO,QAAQ,GAEtC,MAAI,KAAmB,GACf,CAAC,GAGF,CACN,EAAO,MAAM,EAAG,GAChB,EAAO,MAAM,EAAiB,EAAU,aCnB1C,GAAA,GAAA,CAAA,mCAAA,EAAA,EAAA,CAAA,aACA,EAAO,QAAU,SAAU,EAAK,EAAW,CAK1C,OAJI,GAAM,GACN,EAAO,OAAO,KAAK,GACnB,EAAQ,MAAM,QAAQ,GAEjB,EAAI,EAAG,EAAI,EAAK,OAAQ,IAAK,CACrC,GAAI,GAAM,EAAK,GACX,EAAM,EAAI,GAEd,AAAI,GAAQ,EAAU,QAAQ,KAAS,GAAK,EAAU,EAAK,EAAK,KAC/D,GAAI,GAAO,GAIb,MAAO,OCfR,GAAA,GAAA,CAAA,qCAAA,EAAA,CAAA,aACA,GAAM,GAAkB,KAClB,EAAkB,KAClB,EAAe,KACf,EAAe,KAEf,EAAoB,AAAA,GAAS,GAAU,KAEvC,EAA2B,OAAO,4BAExC,WAA+B,EAAS,CACvC,OAAQ,EAAQ,iBACV,QACJ,MAAO,AAAA,IAAO,CAAC,EAAQ,IAAU,CAChC,GAAM,GAAQ,EAAO,OAErB,MACC,KAAU,QACT,EAAQ,UAAY,IAAU,MAC9B,EAAQ,iBAAmB,IAAU,GAE/B,EAGJ,IAAU,KACN,CAAC,GAAG,EAAQ,CAAC,EAAO,EAAK,GAAU,IAAK,EAAO,KAAK,KAAK,KAG1D,CACN,GAAG,EACH,CAAC,EAAO,EAAK,GAAU,IAAK,EAAO,EAAO,GAAU,KAAM,EAAO,EAAO,IAAU,KAAK,UAIrF,UACJ,MAAO,AAAA,IAAO,CAAC,EAAQ,IAErB,IAAU,QACT,EAAQ,UAAY,IAAU,MAC9B,EAAQ,iBAAmB,IAAU,GAE/B,EAGJ,IAAU,KACN,CAAC,GAAG,EAAQ,CAAC,EAAO,EAAK,GAAU,MAAM,KAAK,KAG/C,CAAC,GAAG,EAAQ,CAAC,EAAO,EAAK,GAAU,MAAO,EAAO,EAAO,IAAU,KAAK,SAG3E,YACA,gBACA,oBAAqB,CACzB,GAAM,GAAc,EAAQ,cAAgB,oBAC3C,MACA,IAED,MAAO,AAAA,IAAO,CAAC,EAAQ,IAErB,IAAU,QACT,EAAQ,UAAY,IAAU,MAC9B,EAAQ,iBAAmB,IAAU,GAE/B,EAIR,GAAQ,IAAU,KAAO,GAAK,EAE1B,EAAO,SAAW,EACd,CAAC,CAAC,EAAO,EAAK,GAAU,EAAa,EAAO,EAAO,IAAU,KAAK,KAGnE,CAAC,CAAC,EAAQ,EAAO,EAAO,IAAU,KAAK,EAAQ,gCAKvD,MAAO,AAAA,IAAO,CAAC,EAAQ,IAErB,IAAU,QACT,EAAQ,UAAY,IAAU,MAC9B,EAAQ,iBAAmB,IAAU,GAE/B,EAGJ,IAAU,KACN,CAAC,GAAG,EAAQ,EAAO,EAAK,IAGzB,CAAC,GAAG,EAAQ,CAAC,EAAO,EAAK,GAAU,IAAK,EAAO,EAAO,IAAU,KAAK,MAKhF,WAA8B,EAAS,CACtC,GAAI,GAEJ,OAAQ,EAAQ,iBACV,QACJ,MAAO,CAAC,EAAK,EAAO,IAAgB,CAKnC,GAJA,EAAS,aAAa,KAAK,GAE3B,EAAM,EAAI,QAAQ,WAAY,IAE1B,CAAC,EAAQ,CACZ,EAAY,GAAO,EACnB,OAGD,AAAI,EAAY,KAAS,QACxB,GAAY,GAAO,IAGpB,EAAY,GAAK,EAAO,IAAM,OAG3B,UACJ,MAAO,CAAC,EAAK,EAAO,IAAgB,CAInC,GAHA,EAAS,UAAU,KAAK,GACxB,EAAM,EAAI,QAAQ,QAAS,IAEvB,CAAC,EAAQ,CACZ,EAAY,GAAO,EACnB,OAGD,GAAI,EAAY,KAAS,OAAW,CACnC,EAAY,GAAO,CAAC,GACpB,OAGD,EAAY,GAAO,GAAG,OAAO,EAAY,GAAM,QAG5C,YACA,YACJ,MAAO,CAAC,EAAK,EAAO,IAAgB,CACnC,GAAM,GAAU,MAAO,IAAU,UAAY,EAAM,SAAS,EAAQ,sBAC9D,EAAkB,MAAO,IAAU,UAAY,CAAC,GAAW,EAAO,EAAO,GAAS,SAAS,EAAQ,sBACzG,EAAQ,EAAiB,EAAO,EAAO,GAAW,EAClD,GAAM,GAAW,GAAW,EAAiB,EAAM,MAAM,EAAQ,sBAAsB,IAAI,AAAA,IAAQ,EAAO,GAAM,IAAY,IAAU,KAAO,EAAQ,EAAO,EAAO,GACnK,EAAY,GAAO,OAGhB,oBACJ,MAAO,CAAC,EAAK,EAAO,IAAgB,CACnC,GAAM,GAAU,UAAU,KAAK,GAG/B,GAFA,EAAM,EAAI,QAAQ,QAAS,IAEvB,CAAC,EAAS,CACb,EAAY,GAAO,GAAQ,EAAO,EAAO,GACzC,OAGD,GAAM,GAAa,IAAU,KAC5B,GACA,EAAM,MAAM,EAAQ,sBAAsB,IAAI,AAAA,GAAQ,EAAO,EAAM,IAEpE,GAAI,EAAY,KAAS,OAAW,CACnC,EAAY,GAAO,EACnB,OAGD,EAAY,GAAO,GAAG,OAAO,EAAY,GAAM,YAIhD,MAAO,CAAC,EAAK,EAAO,IAAgB,CACnC,GAAI,EAAY,KAAS,OAAW,CACnC,EAAY,GAAO,EACnB,OAGD,EAAY,GAAO,GAAG,OAAO,EAAY,GAAM,KAKnD,WAAsC,EAAO,CAC5C,GAAI,MAAO,IAAU,UAAY,EAAM,SAAW,EACjD,KAAM,IAAI,WAAU,wDAItB,WAAgB,EAAO,EAAS,CAC/B,MAAI,GAAQ,OACJ,EAAQ,OAAS,EAAgB,GAAS,mBAAmB,GAG9D,EAGR,WAAgB,EAAO,EAAS,CAC/B,MAAI,GAAQ,OACJ,EAAgB,GAGjB,EAGR,WAAoB,EAAO,CAC1B,MAAI,OAAM,QAAQ,GACV,EAAM,OAGV,MAAO,IAAU,SACb,EAAW,OAAO,KAAK,IAC5B,KAAK,CAAC,EAAG,IAAM,OAAO,GAAK,OAAO,IAClC,IAAI,AAAA,GAAO,EAAM,IAGb,EAGR,WAAoB,EAAO,CAC1B,GAAM,GAAY,EAAM,QAAQ,KAChC,MAAI,KAAc,IACjB,GAAQ,EAAM,MAAM,EAAG,IAGjB,EAGR,WAAiB,EAAK,CACrB,GAAI,GAAO,GACL,EAAY,EAAI,QAAQ,KAC9B,MAAI,KAAc,IACjB,GAAO,EAAI,MAAM,IAGX,EAGR,WAAiB,EAAO,CACvB,EAAQ,EAAW,GACnB,GAAM,GAAa,EAAM,QAAQ,KACjC,MAAI,KAAe,GACX,GAGD,EAAM,MAAM,EAAa,GAGjC,WAAoB,EAAO,EAAS,CACnC,MAAI,GAAQ,cAAgB,CAAC,OAAO,MAAM,OAAO,KAAY,MAAO,IAAU,UAAY,EAAM,SAAW,GAC1G,EAAQ,OAAO,GACL,EAAQ,eAAiB,IAAU,MAAS,GAAM,gBAAkB,QAAU,EAAM,gBAAkB,UAChH,GAAQ,EAAM,gBAAkB,QAG1B,EAGR,WAAe,EAAO,EAAS,CAC9B,EAAU,OAAO,OAAO,CACvB,OAAQ,GACR,KAAM,GACN,YAAa,OACb,qBAAsB,IACtB,aAAc,GACd,cAAe,IACb,GAEH,EAA6B,EAAQ,sBAErC,GAAM,GAAY,EAAqB,GAGjC,EAAM,OAAO,OAAO,MAQ1B,GANI,MAAO,IAAU,UAIrB,GAAQ,EAAM,OAAO,QAAQ,SAAU,IAEnC,CAAC,GACJ,MAAO,GAGR,OAAW,KAAS,GAAM,MAAM,KAAM,CACrC,GAAI,IAAU,GACb,SAGD,GAAI,CAAC,EAAK,GAAS,EAAa,EAAQ,OAAS,EAAM,QAAQ,MAAO,KAAO,EAAO,KAIpF,EAAQ,IAAU,OAAY,KAAO,CAAC,QAAS,YAAa,qBAAqB,SAAS,EAAQ,aAAe,EAAQ,EAAO,EAAO,GACvI,EAAU,EAAO,EAAK,GAAU,EAAO,GAGxC,OAAW,KAAO,QAAO,KAAK,GAAM,CACnC,GAAM,GAAQ,EAAI,GAClB,GAAI,MAAO,IAAU,UAAY,IAAU,KAC1C,OAAW,KAAK,QAAO,KAAK,GAC3B,EAAM,GAAK,EAAW,EAAM,GAAI,OAGjC,GAAI,GAAO,EAAW,EAAO,GAI/B,MAAI,GAAQ,OAAS,GACb,EAGA,GAAQ,OAAS,GAAO,OAAO,KAAK,GAAK,OAAS,OAAO,KAAK,GAAK,KAAK,EAAQ,OAAO,OAAO,CAAC,EAAQ,IAAQ,CACtH,GAAM,GAAQ,EAAI,GAClB,MAAI,SAAQ,IAAU,MAAO,IAAU,UAAY,CAAC,MAAM,QAAQ,GAEjE,EAAO,GAAO,EAAW,GAEzB,EAAO,GAAO,EAGR,GACL,OAAO,OAAO,OAGlB,EAAQ,QAAU,EAClB,EAAQ,MAAQ,EAEhB,EAAQ,UAAY,CAAC,EAAQ,IAAY,CACxC,GAAI,CAAC,EACJ,MAAO,GAGR,EAAU,OAAO,OAAO,CACvB,OAAQ,GACR,OAAQ,GACR,YAAa,OACb,qBAAsB,KACpB,GAEH,EAA6B,EAAQ,sBAErC,GAAM,GAAe,AAAA,GACnB,EAAQ,UAAY,EAAkB,EAAO,KAC7C,EAAQ,iBAAmB,EAAO,KAAS,GAGvC,EAAY,EAAsB,GAElC,EAAa,GAEnB,OAAW,KAAO,QAAO,KAAK,GAC7B,AAAK,EAAa,IACjB,GAAW,GAAO,EAAO,IAI3B,GAAM,GAAO,OAAO,KAAK,GAEzB,MAAI,GAAQ,OAAS,IACpB,EAAK,KAAK,EAAQ,MAGZ,EAAK,IAAI,AAAA,GAAO,CACtB,GAAM,GAAQ,EAAO,GAErB,MAAI,KAAU,OACN,GAGJ,IAAU,KACN,EAAO,EAAK,GAGhB,MAAM,QAAQ,GACb,EAAM,SAAW,GAAK,EAAQ,cAAgB,oBAC1C,EAAO,EAAK,GAAW,KAGxB,EACL,OAAO,EAAU,GAAM,IACvB,KAAK,KAGD,EAAO,EAAK,GAAW,IAAM,EAAO,EAAO,KAChD,OAAO,AAAA,GAAK,EAAE,OAAS,GAAG,KAAK,MAGnC,EAAQ,SAAW,CAAC,EAAK,IAAY,CACpC,EAAU,OAAO,OAAO,CACvB,OAAQ,IACN,GAEH,GAAM,CAAC,EAAM,GAAQ,EAAa,EAAK,KAEvC,MAAO,QAAO,OACb,CACC,IAAK,EAAK,MAAM,KAAK,IAAM,GAC3B,MAAO,EAAM,EAAQ,GAAM,IAE5B,GAAW,EAAQ,yBAA2B,EAAO,CAAC,mBAAoB,EAAO,EAAM,IAAY,KAIrG,EAAQ,aAAe,CAAC,EAAQ,IAAY,CAC3C,EAAU,OAAO,OAAO,CACvB,OAAQ,GACR,OAAQ,IACP,GAA2B,IAC1B,GAEH,GAAM,GAAM,EAAW,EAAO,KAAK,MAAM,KAAK,IAAM,GAC9C,EAAe,EAAQ,QAAQ,EAAO,KACtC,EAAqB,EAAQ,MAAM,EAAc,CAAC,KAAM,KAExD,EAAQ,OAAO,OAAO,EAAoB,EAAO,OACnD,EAAc,EAAQ,UAAU,EAAO,GAC3C,AAAI,GACH,GAAc,IAAI,KAGnB,GAAI,GAAO,EAAQ,EAAO,KAC1B,MAAI,GAAO,oBACV,GAAO,IAAI,EAAQ,GAA4B,EAAO,EAAO,mBAAoB,GAAW,EAAO,sBAG7F,GAAG,IAAM,IAAc,KAG/B,EAAQ,KAAO,CAAC,EAAO,EAAQ,IAAY,CAC1C,EAAU,OAAO,OAAO,CACvB,wBAAyB,IACxB,GAA2B,IAC1B,GAEH,GAAM,CAAC,MAAK,QAAO,sBAAsB,EAAQ,SAAS,EAAO,GACjE,MAAO,GAAQ,aAAa,CAC3B,MACA,MAAO,EAAa,EAAO,GAC3B,sBACE,IAGJ,EAAQ,QAAU,CAAC,EAAO,EAAQ,IAAY,CAC7C,GAAM,GAAkB,MAAM,QAAQ,GAAU,AAAA,GAAO,CAAC,EAAO,SAAS,GAAO,CAAC,EAAK,IAAU,CAAC,EAAO,EAAK,GAE5G,MAAO,GAAQ,KAAK,EAAO,EAAiB,OC7b7C,GAAwB,GAAA,MAEX,EAAY,CACvB,QAAS,EACT,MAAO,EACP,SAAU,GAML,aAAsB,CAC3B,GAAI,GAAS,GAEb,MAAO,CAIL,GAAG,EAAM,EAAQ,GAAI,CAEnB,GAAM,GAAQ,CACZ,UAAW,AAFE,GAAW,GAEN,UAClB,SAGF,SAAS,GAAW,CAAC,GAAG,EAAQ,IAEzB,UAAe,CACpB,EAAO,OAAO,EAAO,QAAQ,GAAQ,KAYzC,MAAM,EAAM,EAAU,GAAI,CACxB,GAAM,CAAC,EAAM,GAAS,EAAK,MAAM,KAC3B,CAAE,aAAc,EAEtB,MAAO,IAAW,EAAQ,EAAM,EAAO,OAGrC,SAAS,CACX,MAAO,GAAO,IAAI,AAAC,GAAM,KAWxB,YAAoB,EAAM,CAC/B,MAAO,GACJ,MAAM,KACN,IAAI,AAAC,GAAM,EAAE,QACb,OAAO,AAAC,GAAM,IAAM,IAkClB,YAAoB,EAAO,CAChC,GAAM,GAAQ,GAAW,GACnB,EAAY,GAElB,OAAS,GAAI,EAAG,EAAI,EAAM,OAAQ,IAAK,CACrC,GAAM,GAAO,EAAM,GAEnB,GAAI,IAAS,IAAK,CAChB,GAAI,IAAM,EAAM,OAAS,EACvB,KAAM,IAAI,OAAM,qDAAqD,KAEvE,EAAU,KAAK,CACb,KAAM,EAAU,SAChB,KAAM,IACN,MAAO,WAEA,GAAK,KAAO,IACrB,EAAU,KAAK,CACb,KAAM,EAAU,MAChB,KAAM,EAAK,MAAM,GACjB,MAAO,OAGT,EAAU,KAAK,CACb,KAAM,EAAU,QAChB,KAAM,EACN,MAAO,IAKb,MAAO,CAAE,aAWJ,YAAoB,EAAQ,EAAM,EAAO,EAAQ,CA3IxD,GAAA,GA4IE,GAAM,GAAQ,GAAW,GAEzB,EAAQ,OAAW,KAAS,GAAQ,CAClC,GAAM,CAAE,aAAc,EAGtB,GAAI,CAFgB,KAAA,EAAU,EAAU,OAAS,KAA7B,KAAA,OAAA,EAAiC,QAAS,EAAU,WAEpD,EAAU,SAAW,EAAM,OAC7C,WAGF,GAAM,GAAU,GAEhB,EAAW,OAAS,GAAI,EAAG,EAAI,EAAU,OAAQ,IAAK,CACpD,GAAM,GAAO,EAAM,GACb,EAAO,EAAU,GAEvB,GAAI,GAAQ,MAAQ,EAAK,OAAS,EAAU,SAC1C,WAGF,OAAQ,EAAK,UACN,GAAU,QACb,GAAI,EAAK,MAAM,gBAAkB,EAAK,cAAe,CACnD,EAAQ,KAAK,GACb,UAEA,gBAEC,GAAU,MACb,EAAQ,KAAK,GAAA,GAAA,GAAK,GAAL,CAAW,MAAO,KAC/B,UACG,GAAU,SACb,EAAQ,KAAK,GAAA,GAAA,GAAK,GAAL,CAAW,MAAO,EAAM,MAAM,GAAG,KAAK,QACnD,gBAEA,KAAM,IAAI,OAAM,0BAA0B,EAAK,SAIrD,GAAM,GAAS,OAAO,OAAO,MACzB,EAAW,KAEf,OAAW,KAAQ,GACjB,AAAI,EAAK,OAAS,EAAU,OAC1B,GAAO,EAAK,MAAQ,EAAK,OAGvB,EAAK,OAAS,EAAU,UAC1B,GAAW,EAAK,OAIpB,GAAM,GAAY,CAChB,KAAM,EAAQ,IAAI,AAAC,GAAM,EAAE,OAAO,KAAK,KACvC,MAAO,EAAU,IAAI,AAAC,GAAO,EAAE,OAAS,EAAU,MAAQ,IAAM,EAAE,KAAO,EAAE,MAAO,KAAK,KACvF,SACA,MAAO,EAAQ,GAAA,QAAY,MAAM,GAAS,OAAO,OAAO,MACxD,WACA,MAAO,EAAM,OAGf,GAAI,GAAU,MAAQ,EAAO,GAC3B,MAAO,IASN,YAAoB,EAAQ,CACjC,GAAM,GAAgB,GAChB,EAAa,GACb,EAAW,GAEjB,OAAW,KAAS,GAClB,AAAI,EAAM,UAAU,KAAK,AAAC,GAAM,EAAE,OAAS,EAAU,UACnD,EAAS,KAAK,GACL,EAAM,UAAU,KAAK,AAAC,GAAM,EAAE,OAAS,EAAU,OAC1D,EAAW,KAAK,GAEhB,EAAc,KAAK,GAIvB,GAAM,GAAa,CAAC,EAAG,IACjB,EAAE,UAAU,OAAS,EAAE,UAAU,OAC5B,GAEA,EAIX,SAAc,KAAK,GACnB,EAAW,KAAK,GAChB,EAAS,KAAK,GAEP,CAAC,GAAG,EAAe,GAAG,EAAY,GAAG,GC5OvC,GAAM,IAAa,AAAC,GAAU,MAAO,IAAU,WAEzC,EAAW,AAAC,GAAU,MAAO,IAAU,SAEvC,GAAW,AAAC,GAAU,MAAO,IAAU,SAMvC,GAAU,AAAC,GAAU,MAAM,QAAQ,GAEnC,GAAW,AAAC,GAAU,GAAS,MAAQ,MAAO,IAAU,UAAY,CAAC,GAAQ,GAE7E,GAAU,AAAC,GAAU,GAAS,EAAM,UAAY,GAEhD,GAAS,AAAC,GAAU,GAAS,EAAM,SAAW,GAE9C,GAAc,AAAC,GAAU,GAAS,EAAM,cAAgB,GAExD,GAAY,AAAC,GAAU,GAAS,EAAM,YAAc,GCtB1D,YAAiB,EAAO,CAC7B,MAAO,OAAO,IAAU,UAAY,EAAM,QAAA,YC2CxB,EAAA,CAAA,OAAA,GAAA,UAAA,OAA+B,EAAA,MAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA,EAAA,GAAA,UAAA,GAAA,GAAA,GACrC,GACN,GACA,EAKqB,KAElB,OAAA,8BACqB,EAC7B,GAAK,OAAS,IAAM,EAAK,IAAI,SAAA,EAAA,CAAA,MAAA,IAAS,EAAA,MAAM,KAAK,KAAO,IAAA,oDAAA,YCvCnC,EAAA,CAAA,MAAA,CAAA,CACd,GAAA,CAAA,CAAW,EAAM,GAAA,YAKC,EAAA,CAAA,MAAA,CAAA,CACtB,GAAA,UAawB,EAAA,CAAA,GAAA,CACxB,GAA0B,MAAV,IAAU,SAAU,MAAA,GAAO,GAC1C,GAAQ,OAAO,eAAe,GAAA,GAChC,IAAU,KAAV,MAAA,GACI,GAEF,GACL,OAAO,eAAe,KAAK,EAAO,gBAAkB,EAAM,YAAA,MAEvD,KAAS,QAGG,MAAR,IAAQ,YACf,SAAS,SAAS,KAAK,KAAU,IAxBnB,IACd,MAAM,QAAQ,IAAA,CAAA,CACZ,EAAM,KAAA,CAAA,CACN,EAAM,YAAY,KACpB,GAAM,IACN,GAAM,IA0DR,YAAqB,EAAU,EAAW,EAAA,CAAA,IAAA,QAAA,GAAA,IACrC,GAAY,KAD0C,EAEvD,GAAiB,OAAO,KAAO,IAAS,GAAK,QAAQ,SAAA,EAAA,CACjD,GAAiC,MAAR,IAAQ,UAAU,EAAK,EAAK,EAAI,GAAM,KAGrE,EAAI,QAAQ,SAAC,EAAY,EAAA,CAAA,MAAe,GAAK,EAAO,EAAO,KAAA,YAKjC,EAAA,CAAA,GAErB,GAAgC,EAAM,GAAA,MACrC,GACJ,EAAM,EAAQ,EACb,EAAM,EAAQ,EACb,EAAM,EACR,MAAM,QAAQ,GAAA,EAEd,GAAM,GAAA,EAEN,GAAM,GAAA,EAAA,EAAA,YAMU,EAAY,EAAA,CAAA,MACxB,IAAY,KADY,EAE5B,EAAM,IAAI,GACV,OAAO,UAAU,eAAe,KAAK,EAAO,GAAA,YAI5B,EAA2B,EAAA,CAAA,MAEvC,IAAY,KAF2B,EAED,EAAM,IAAI,GAAQ,EAAM,GAItE,YAAoB,EAAY,EAA6B,EAAA,CAAA,GACtD,GAAI,GAAY,GAClB,IADkB,EACE,EAAM,IAAI,EAAgB,GACzC,IADyC,EAEjD,GAAM,OAAO,GACb,EAAM,IAAI,IACJ,EAAM,GAAkB,EAAA,YAIb,EAAQ,EAAA,CAAA,MAEtB,KAAM,EACF,IAAM,GAAK,EAAI,GAAM,EAAI,EAEzB,GAAM,GAAK,GAAM,EAAA,YAKJ,EAAA,CAAA,MACd,KAAU,YAAkB,KAAA,YAId,EAAA,CAAA,MACd,KAAU,YAAkB,KAAA,YAGb,EAAA,CAAA,MACf,GAAM,GAAS,EAAM,EAAA,YAID,EAAA,CAAA,GACvB,MAAM,QAAQ,GAAO,MAAO,OAAM,UAAU,MAAM,KAAK,GAAA,GACrD,GAAc,GAA0B,GAAA,MACvC,GAAY,GAAA,OACf,GAAO,GAAQ,GACV,EAAI,EAAG,EAAI,EAAK,OAAQ,IAAK,CAAA,GAC/B,GAAW,EAAK,GAChB,EAAO,EAAY,GACrB,EAAK,WADgB,IAExB,GAAK,SAAA,GACL,EAAK,aAAA,IAKF,GAAK,KAAO,EAAK,MACpB,GAAY,GAAO,CAClB,aAAA,GACA,SAAA,GACA,WAAY,EAAK,WACjB,MAAO,EAAK,KAAA,MAGR,QAAO,OAAO,OAAO,eAAe,GAAO,GAAA,YAWzB,EAAU,EAAA,CAAA,MAAA,KAAA,QAAA,GAAA,IAC/B,GAAS,IAAQ,GAAQ,IAAA,CAAS,GAAY,IAC9C,IAAY,GAAO,GACtB,GAAI,IAAM,EAAI,IAAM,EAAI,MAAQ,EAAI,OAAS,IAE9C,OAAO,OAAO,GACV,GAAM,GAAK,EAAK,SAAC,EAAK,EAAA,CAAA,MAAU,IAAO,EAAA,KAAO,KAC3C,EAGR,aAAS,CACR,GAAI,GAAA,YAGoB,EAAA,CAAA,MACpB,IAAO,MAAuB,MAAR,IAAQ,UAE3B,OAAO,SAAS,GAAA,YCxKvB,EAAA,CAAA,GAEM,GAAS,GAAQ,GAAA,MAClB,IACJ,GAAI,GAAI,GAGF,EC3BR,aAAgB,CAAA,MAER,IAAA,YAmBP,EACA,EAAA,CAEI,GACH,IAAU,WACV,EAAM,EAAW,GACjB,EAAM,EAAkB,GACxB,EAAM,EAAiB,GAAA,YAIG,EAAA,CAC3B,GAAW,GACX,EAAM,EAAQ,QAAQ,IAEtB,EAAM,EAAU,KAAA,YAGU,EAAA,CACtB,IAAU,IACb,IAAe,EAAM,GAAA,YAII,EAAA,CAAA,MAClB,IArCD,CACN,EAAS,GACT,EAmCkC,GAlClC,EAkCgD,EA/BhD,EAAA,GACA,EAAoB,GAiCtB,YAAqB,EAAA,CAAA,GACd,GAAoB,EAAM,GAE/B,EAAM,IAFyB,GAG/B,EAAM,IADA,EAGN,EAAM,IACF,EAAM,EAAA,GAAW,YC9DO,EAAa,EAAA,CAC1C,EAAM,EAAqB,EAAM,EAAQ,OAAA,GACnC,GAAY,EAAM,EAAS,GAC3B,EAAa,IAAb,QAAqC,IAAW,EAAA,MACjD,GAAM,EAAO,GACjB,GAAU,OAAO,EAAiB,EAAO,EAAQ,GAC9C,EACC,GAAU,GAAa,GAC1B,IAAY,GACZ,GAAI,IAED,GAAY,IAEf,GAAS,GAAS,EAAO,GACpB,EAAM,GAAS,GAAY,EAAO,IAEpC,EAAM,GACT,GAAU,WAAW,EACpB,EAAU,GACV,EACA,EAAM,EACN,EAAM,IAKR,EAAS,GAAS,EAAO,EAAW,IAErC,GAAY,GACR,EAAM,GACT,EAAM,EAAgB,EAAM,EAAU,EAAM,GAEtC,IAAW,GAAU,EAAA,OAG7B,YAAkB,EAAuB,EAAY,EAAA,CAAA,GAEhD,GAAS,GAAQ,MAAO,GAAA,GAEtB,GAAoB,EAAM,GAAA,GAAA,CAE3B,EAAA,MACJ,IACC,EACA,SAAC,EAAK,EAAA,CAAA,MACL,IAAiB,EAAW,EAAO,EAAO,EAAK,EAAY,IAAA,IAGtD,EAAA,GAGJ,EAAM,IAAW,EAAW,MAAO,GAAA,GAAA,CAElC,EAAM,EAAA,MACV,IAAY,EAAW,EAAM,EAAA,IACtB,EAAM,EAAA,GAAA,CAGT,EAAM,EAAY,CACtB,EAAM,EAAA,GACN,EAAM,EAAO,IAAA,GACP,GAEL,EAAM,IAFD,GAEkC,EAAM,IAAvC,EACF,EAAM,EAAQ,GAAY,EAAM,GACjC,EAAM,EAKV,GACC,EAAM,IADP,EACiC,GAAI,KAAI,GAAU,EAClD,SAAC,EAAK,EAAA,CAAA,MACL,IAAiB,EAAW,EAAO,EAAQ,EAAK,EAAY,KAG9D,GAAY,EAAW,EAAA,IAEnB,GAAQ,EAAU,GACrB,GAAU,WAAW,EACpB,EACA,EACA,EAAU,EACV,EAAU,GAAA,MAIN,GAAM,EAGd,YACC,EACA,EACA,EACA,EACA,EACA,EAAA,CAAA,GAGI,GAAQ,GAAa,CAAA,GASlB,GAAM,GAAS,EAAW,EAP/B,GACA,GACA,EAAa,IADb,GACa,CACZ,GAAK,EAA8C,EAAY,GAC7D,EAAU,OAAO,GAAA,QACjB,GAGJ,GAAI,EAAc,EAAM,GAAA,CAGpB,GAAQ,GAEL,OADN,EAAU,EAAA,GAAiB,GAIzB,GAAY,IAAA,CAAgB,GAAS,GAAa,CAAA,GAAA,CAChD,EAAU,EAAO,GAAe,EAAU,EAAqB,EAAA,OAQpE,GAAS,EAAW,GAEf,GAAgB,EAAY,EAAO,GACvC,GAAY,EAAW,IAI1B,YAAqB,EAAmB,EAAY,EAAA,CAAA,IAAA,QAAA,GAAA,IAC/C,EAAM,EAAO,GAAe,EAAM,GACrC,GAAO,EAAO,GC6EhB,YAAc,EAAgB,EAAA,CAAA,GACvB,GAAQ,EAAM,GAAA,MACL,GAAQ,GAAO,GAAS,GACzB,GAcf,YACC,EACA,EAAA,CAAA,GAGM,IAAQ,GAAA,OACV,GAAQ,OAAO,eAAe,GAC3B,GAAO,CAAA,GACP,GAAO,OAAO,yBAAyB,EAAO,GAAA,GAChD,EAAM,MAAO,GACjB,EAAQ,OAAO,eAAe,IAAA,YAKJ,EAAA,CACtB,EAAM,GACV,GAAM,EAAA,GACF,EAAM,GACT,GAAY,EAAM,IAAA,YAKO,EAAA,CACtB,EAAM,GACV,GAAM,EAAQ,GAAY,EAAM,IC5DlC,YACC,EACA,EACA,EAAA,CAAA,GAGM,GAAiB,GAAM,GAC1B,GAAU,UAAU,EAAU,EAAO,GACrC,GAAM,GACN,GAAU,UAAU,EAAU,EAAO,GACrC,EAAM,EAAA,SDhLT,EACA,EAAA,CAAA,GAEM,GAAU,MAAM,QAAQ,GACxB,EAAoB,CACzB,EAAO,EAAA,EAAkC,EAEzC,EAAQ,EAAS,EAAO,EAAS,KAEjC,EAAA,GAEA,EAAA,GAEA,EAAW,GAEX,EAAS,EAET,EAAO,EAEP,EAAQ,KAER,EAAO,KAEP,EAAS,KACT,EAAA,IASG,EAAY,EACZ,EAA2C,GAC3C,GACH,GAAS,CAAC,GACV,EAAQ,IAAA,GAAA,GAGe,MAAM,UAAU,EAAQ,GAAzC,EAAA,EAAA,OAAQ,EAAA,EAAA,MAAA,MACf,GAAM,EAAS,EACf,EAAM,EAAU,EACT,GCsIa,EAAO,GACxB,GAAU,OAAO,EAAgB,EAAO,GAAA,MAE7B,GAAS,EAAO,EAAS,MACjC,EAAQ,KAAK,GACZ,EAAA,YCvNgB,EAAA,CAAA,MAClB,IAAQ,IAAQ,GAAI,GAAI,GAI9B,WAAqB,EAAA,CAAA,GAAA,CACf,GAAY,GAAQ,MAAO,GAAA,GAE5B,GADE,EAAgC,EAAM,GAEtC,EAAW,GAAY,GAAA,GACzB,EAAO,CAAA,GAAA,CAER,EAAM,GACN,GAAM,EAAQ,GAAA,CAAM,GAAU,OAAO,EAAY,IAElD,MAAO,GAAM,EAEd,EAAM,EAAA,GACN,EAAO,GAAW,EAAO,GACzB,EAAM,EAAA,OAEN,GAAO,GAAW,EAAO,GAAA,MAG1B,IAAK,EAAM,SAAC,EAAK,EAAA,CACZ,GAAS,GAAI,EAAM,EAAO,KAAS,GACvC,GAAI,EAAM,EAAK,EAAY,MAGrB,IAHqB,EAGO,GAAI,KAAI,GAAQ,GA3BhC,GA8BpB,YAAoB,EAAY,EAAA,CAAA,OAEvB,OAAA,GAAA,MAEC,IAAI,KAAI,OAAA,GAAA,MAGR,OAAM,KAAK,GAAA,MAEb,IAAY,GKkDZ,GAAA,ITnFJ,GUpBE,GACa,MAAX,SAAW,aAAsC,MAAhB,QAAO,MAAS,SAC5C,GAAwB,MAAR,MAAQ,YACxB,GAAwB,MAAR,MAAQ,YACxB,GACK,MAAV,QAAU,aACV,MAAM,YADN,QAEY,MAAZ,UAAY,YAKP,GAAmB,GAC7B,OAAO,IAAI,iBAAA,KAAA,IACR,iBAAA,GAAkB,IAUX,GAA2B,GACrC,OAAO,IAAI,mBACV,qBAES,EAA6B,GACvC,OAAO,IAAI,eACV,iBAGS,GACM,MAAV,SAAU,aAAe,OAAO,UAAc,aZJjD,GAAmB,GAAA,OAAO,UAAU,YA4B7B,GACO,MAAZ,UAAY,aAAe,QAAQ,QACvC,QAAQ,QACD,OAAO,wBADN,OAER,SAAA,EAAA,CAAA,MACA,QAAO,oBAAoB,GAAK,OAC/B,OAAO,sBAAsB,KAEH,OAAO,oBAEzB,GACZ,OAAO,2BACP,SAAmC,EAAA,CAAA,GAE5B,GAAW,GAAA,MACjB,IAAQ,GAAQ,QAAQ,SAAA,EAAA,CACvB,EAAI,GAAO,OAAO,yBAAyB,EAAQ,KAE7C,GCnEH,GA4BF,GGyDS,GAAwC,CACpD,IAAA,SAAI,EAAO,EAAA,CAAA,GACN,IAAS,EAAa,MAAO,GAAA,GAE3B,GAAS,GAAO,GAAA,GAAA,CACjB,GAAI,EAAQ,GAAA,MAuInB,UAA2B,EAAmB,EAAa,EAAA,CAAA,GAAA,GACpD,EAAO,GAAuB,EAAQ,GAAA,MACrC,GACJ,SAAW,GACV,EAAK,MAAA,GAGL,EAAK,OAHA,MAGA,IAAA,OAAA,OAAL,EAAU,KAAK,EAAM,GAAA,QA5IE,EAAO,EAAQ,GAAA,GAEnC,GAAQ,EAAO,GAAA,MACjB,GAAM,GAAA,CAAe,GAAY,GAC7B,EAIJ,IAAU,GAAK,EAAM,EAAO,GAC/B,IAAY,GACJ,EAAM,EAAO,GAAe,GACnC,EAAM,EAAO,EACb,EACA,IAGK,GAER,IAAA,SAAI,EAAO,EAAA,CAAA,MACH,KAAQ,IAAO,IAEvB,QAAA,SAAQ,EAAA,CAAA,MACA,SAAQ,QAAQ,GAAO,KAE/B,IAAA,SACC,EACA,EACA,EAAA,CAAA,GAEM,GAAO,GAAuB,GAAO,GAAQ,GAAA,GAC/C,GAAA,KAAA,OAAA,EAAM,IAAA,MAGT,GAAK,IAAI,KAAK,EAAM,EAAQ,GAAA,GACrB,GAAA,CAEH,EAAM,EAAW,CAAA,GAGf,GAAU,GAAK,GAAO,GAAQ,GAE9B,EAAiC,GAAA,KAAA,OAAA,EAAU,GAAA,GAC7C,GAAgB,EAAa,IAAU,EAAA,MAC1C,GAAM,EAAO,GAAQ,EACrB,EAAM,EAAU,GAAA,GAAQ,GACjB,GAEJ,GAAG,EAAO,IAAa,KAAb,QAAoC,GAAI,EAAM,EAAO,IAClE,MAAA,GACD,GAAY,GACZ,GAAY,GAAA,MAIZ,GAAM,EAAO,KAAU,GAEN,MAAV,IAAU,UAEhB,KAFM,QAEiB,IAAQ,GAAM,IAKvC,GAAM,EAAO,GAAQ,EACrB,EAAM,EAAU,GAAA,GAAQ,KAGzB,eAAA,SAAe,EAAO,EAAA,CAAA,MAEjB,IAAK,EAAM,EAAO,KAFD,QAEwB,IAAQ,GAAM,EAC1D,GAAM,EAAU,GAAA,GAChB,GAAY,GACZ,GAAY,IAAA,MAGL,GAAM,EAAU,GAGpB,EAAM,GAAA,MAAc,GAAM,EAAM,GAAA,IAKrC,yBAAA,SAAyB,EAAO,EAAA,CAAA,GACzB,GAAQ,GAAO,GACf,EAAO,QAAQ,yBAAyB,EAAO,GAAA,MAChD,IACE,CACN,SAAA,GACA,aAAc,EAAM,IAApB,GAAsD,IAAS,SAC/D,WAAY,EAAK,WACjB,MAAO,EAAM,KAGf,eAAA,UAAA,CACC,GAAI,KAEL,eAAA,SAAe,EAAA,CAAA,MACP,QAAO,eAAe,EAAM,IAEpC,eAAA,UAAA,CACC,GAAI,MAQA,GAA8C,GACpD,GAAK,GAAa,SAAC,EAAK,EAAA,CAEvB,GAAW,GAAO,UAAA,CAAA,MACjB,WAAU,GAAK,UAAU,GAAG,GACrB,EAAG,MAAM,KAAM,cAGxB,GAAW,eAAiB,SAAS,EAAO,EAAA,CAAA,MAEpC,IAAY,eAAgB,KAAK,KAAM,EAAM,GAAI,IAEzD,GAAW,IAAM,SAAS,EAAO,EAAM,EAAA,CAAA,MAE/B,IAAY,IAAK,KAAK,KAAM,EAAM,GAAI,EAAM,EAAO,EAAM,KAAA,GCnMpD,IAAb,UAAA,CAAA,WAKa,EAAA,CAAA,GAAA,GAAA,KAAA,KAAA,EAJW,GAAA,KAAA,EAAA,GAEA,KAAA,QA4BH,SAAC,EAAW,EAAc,EAAA,CAAA,GAEzB,MAAT,IAAS,YAAgC,MAAX,IAAW,WAAY,CAAA,GACzD,GAAc,EACpB,EAAS,EAAA,GAEH,GAAO,EAAA,MACN,UAEN,EAAA,CAAA,GAAA,GAAA,KAAA,IAAA,QAAA,GAAO,GAAA,OAAA,GAAA,UAAA,OACJ,EAAA,MAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA,EAAA,GAAA,UAAA,GAAA,MAEI,GAAK,QAAQ,EAAM,SAAC,EAAA,CAAA,GAAA,GAAA,MAAA,GAAmB,GAAO,KAAA,MAAA,EAAA,CAAK,EAAM,GAAA,OAAU,OAAA,GAQxE,GAAA,GAJkB,MAAX,IAAW,YAAY,GAAI,GAClC,IADkC,QACsB,MAAlB,IAAkB,YAC3D,GAAI,GAKD,GAAY,GAAO,CAAA,GAChB,GAAQ,GAAW,GACnB,EAAQ,GAAY,EAAM,EAAA,QAC5B,EAAA,GAAW,GAAA,CAEd,EAAS,EAAO,GAChB,EAAA,WAGI,EAAU,GAAY,GACrB,GAAW,GAAA,MAEM,OAAZ,UAAY,aAAe,YAAkB,SAChD,EAAO,KACb,SAAA,EAAA,CAAA,MACC,IAAkB,EAAO,GAClB,GAAc,EAAQ,IAE9B,SAAA,EAAA,CAAA,KACC,IAAY,GACN,IAIT,IAAkB,EAAO,GAClB,GAAc,EAAQ,IACvB,GAAA,CAAK,GAAwB,MAAT,IAAS,SAAU,MAC7C,GAAS,EAAO,MACD,GAAS,OACpB,KADoB,QACE,GAAS,GAC/B,EAAK,GAAa,GAAO,EAAA,IACtB,GACD,GAAI,GAAI,IAAA,KAAA,mBAG0B,SACzC,EACA,EAAA,CAAA,MAGoB,OAAT,IAAS,WACZ,SAAC,EAAA,CAAA,OAAA,GAAA,UAAA,OAAe,EAAA,MAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA,EAAA,GAAA,UAAA,GAAA,MACtB,GAAK,mBAAmB,EAAO,SAAC,EAAA,CAAA,MAAe,GAAA,MAAA,OAAA,CAAK,GAAA,OAAU,OAQzD,CAJW,EAAK,QAAQ,EAAM,EAAM,SAAC,EAAY,EAAA,CACvD,EAAU,EACV,EAAiB,IAEC,EAAU,GAAA,GALzB,GAAkB,GA7FY,MAAvB,IAAA,KAAA,OAAA,EAAQ,aAAe,WACjC,KAAK,cAAc,EAAQ,YACM,MAAvB,IAAA,KAAA,OAAA,EAAQ,aAAe,WACjC,KAAK,cAAc,EAAQ,YAAA,GAAA,GAAA,EAAA,UAAA,MAAA,GAkG7B,YAAA,SAAiC,EAAA,CAC3B,GAAY,IAAO,GAAI,GACxB,GAAQ,IAAO,GAAO,GAAQ,IAAA,GAC5B,GAAQ,GAAW,MACnB,EAAQ,GAAY,KAAM,EAAA,QAAM,MACtC,GAAM,GAAa,EAAA,GACnB,GAAW,GACJ,GAAA,EAGR,YAAA,SACC,EACA,EAAA,CAAA,GAEM,GAAoB,GAAU,EAAc,GAKnC,EAAS,EAAjB,EAAA,MACP,IAAkB,EAAO,GAClB,GAAA,OAAyB,IAAA,EAQjC,cAAA,SAAc,EAAA,CAAA,KACR,EAAc,GAAA,EASpB,cAAA,SAAc,EAAA,CACT,GAAA,CAAU,IACb,GAAI,IAAA,KAEA,EAAc,GAAA,EAGpB,aAAA,SAAkC,EAAS,EAAA,CAAA,GAGtC,GAAA,IACC,EAAI,EAAQ,OAAS,EAAG,GAAK,EAAG,IAAK,CAAA,GACnC,GAAQ,EAAQ,GAAA,GAClB,EAAM,KAAK,SAAW,GAAK,EAAM,KAAO,UAAW,CACtD,EAAO,EAAM,MAAA,OAMX,EAAA,IACH,GAAU,EAAQ,MAAM,EAAI,IAAA,GAGvB,GAAmB,GAAU,WAAW,EAAA,MAC1C,IAAQ,GAEJ,EAAiB,EAAM,GAGxB,KAAK,QAAQ,EAAM,SAAC,EAAA,CAAA,MAC1B,GAAiB,EAAO,MAAA,KM7LrB,EAAQ,GAAI,IAqBL,GAAoB,EAAM,QAO1B,GAA0C,EAAM,mBAAmB,KAC/E,GAQY,GAAgB,EAAM,cAAc,KAAK,GAQzC,GAAgB,EAAM,cAAc,KAAK,GAOzC,GAAe,EAAM,aAAa,KAAK,GAMvC,GAAc,EAAM,YAAY,KAAK,GAUrC,GAAc,EAAM,YAAY,KAAK,GAAA,GAAA,GE3E3C,YAAqB,EAAQ,EAAK,CACvC,GAAI,GAAU,KAAM,CAClB,GAAM,GAAS,GAAS,GACpB,EAAQ,EAEZ,KAAO,EAAO,OAAS,GAAG,CACxB,GAAM,GAAO,EAAO,QAEpB,GAAI,IAAS,IAAK,CAChB,GAAI,MAAM,QAAQ,GAChB,MAAO,GAAM,IAAK,AAAA,GAAM,GAAY,EAAG,EAAO,KAAK,OAEnD,EAAQ,WAGN,IAAS,KACX,EAAQ,EAAM,GAEd,EAAQ,OAKd,MAAO,IAMX,YAAkB,EAAK,CACrB,MAAO,QAAO,GACX,MAAM,YACN,OAAQ,AAAA,GAAS,EAAK,SAAW,IC/C/B,GAAM,IAAY,AAAA,GAAU,MAAO,IAAU,UAAY,CAAC,MAAM,QAAQ,GAClE,GAAc,AAAA,GAAU,YAAiB,UACzC,GAAY,AAAA,GAAU,MAAO,IAAU,SACvC,GAAW,AAAA,GAAU,MAAM,QAAQ,GAEzC,YAAmB,EAAK,EAAK,CAClC,GAAI,IAAQ,EACV,MAAO,GAGT,GAAI,GAAS,IAAQ,GAAS,GAAM,CAClC,GAAM,GAAU,OAAO,KAAK,GACtB,EAAU,OAAO,KAAK,GAE5B,GAAI,EAAQ,SAAW,EAAQ,OAC7B,MAAO,GAGT,OAAW,KAAO,GAChB,GAAI,CAAC,GAAU,EAAI,GAAM,EAAI,IAC3B,MAAO,GAIX,MAAO,GAGT,GAAI,GAAQ,IAAQ,GAAQ,GAAM,CAChC,GAAI,EAAI,SAAW,EAAI,OACrB,MAAO,GAGT,OAAW,KAAS,GAClB,GAAI,CAAC,GAAU,EAAI,GAAQ,EAAI,IAC7B,MAAO,GAIX,MAAO,GAGT,MAAO,KAAQ,EChCV,WAAmB,EAAc,CACtC,GAAI,GAAU,EACV,EAAW,GAEf,MAAO,CACL,IAAI,EAAK,CACP,MAAI,KAAQ,OACH,GAAY,EAAS,GAGvB,GAGT,IAAI,EAAO,CAQT,GAPI,GAAW,IAEb,GAAQ,GAAQ,EAAU,AAAA,GACjB,EAAM,KAIb,CAAC,GAAU,EAAS,GAAQ,CAC9B,EAAU,EAEV,OAAW,KAAY,GACrB,EAAS,KAKf,SAAS,EAAM,CACb,GAAI,GACA,EACA,EAAU,GAcd,GAZI,GAAS,EAAK,KAChB,GAAM,EAAK,SAGT,GAAW,EAAK,KAClB,GAAW,EAAK,SAGd,GAAS,EAAK,KAChB,GAAU,EAAK,SAGb,CAAC,GAAW,GACd,KAAM,IAAI,WAAU,8DAA8D,KAGpF,GAAI,EAAK,CAEP,GAAI,GAEA,EAAK,EACT,EAAY,AAAA,GAAU,CAGpB,GAFA,EAAQ,GAAY,EAAO,GAEvB,CAAC,GAAU,EAAO,GACpB,MAAA,GAAW,EACJ,EAAG,IAKhB,MAAI,GAAQ,WACV,EAAS,GAGX,EAAS,KAAK,GAEP,UAAmB,CACxB,EAAS,OAAO,EAAS,QAAQ,GAAW,KAIhD,OAAO,EAAM,CACX,GAAI,GACA,EAAa,AAAA,GAAM,EAUvB,GARI,GAAS,EAAK,KAChB,GAAM,EAAK,SAGT,GAAW,EAAK,KAClB,GAAY,EAAK,SAGf,EAAK,CACP,GAAI,GAAK,EACT,EAAa,AAAA,GACJ,EAAG,GAAY,EAAO,IAIjC,MAAO,IAAS,KAAM,IAGxB,UAAW,CACT,MAAO,QAAO,OAGZ,UAAU,CACZ,MAAO,KAWN,YAAkB,EAAQ,EAAW,CAC1C,MAAO,CACL,IAAI,EAAK,CACP,GAAI,GAAQ,EAAU,EAAO,OAE7B,MAAI,KAAQ,QACV,GAAQ,GAAY,EAAO,IAGtB,GAGT,SAAS,EAAM,CACb,GAAI,GACA,EACA,EAAU,GAcd,GAZI,GAAS,EAAK,KAChB,GAAM,EAAK,SAGT,GAAW,EAAK,KAClB,GAAW,EAAK,SAGd,GAAS,EAAK,KAChB,GAAU,EAAK,SAGb,CAAC,GAAW,GACd,KAAM,IAAI,WAAU,0CAA0C,KAGhE,GAAI,EAAK,CACP,GAAI,GAEA,EAAK,EACT,EAAY,AAAA,GAAU,CAGpB,GAFA,EAAQ,GAAY,EAAO,GAEvB,CAAC,GAAU,EAAO,GACpB,MAAA,GAAW,EACJ,EAAG,IAKhB,MAAO,GAAO,MAAO,AAAA,GAAU,CAC7B,EAAS,EAAU,KAClB,IAGL,OAAO,EAAM,CACX,GAAI,GACA,EAAa,AAAA,GAAM,EAUvB,GARI,GAAS,EAAK,KAChB,GAAM,EAAK,SAGT,GAAW,EAAK,KAClB,GAAY,EAAK,SAGf,EAAK,CACP,GAAI,GAAK,EACT,EAAa,AAAA,GACJ,EAAG,GAAY,EAAO,IAIjC,MAAO,IAAS,KAAM,IAGxB,UAAW,CACT,MAAO,GAAO,eAGZ,UAAU,CACZ,MAAO,KCvMN,eAAwB,EAAM,CACnC,GAAM,GAAQ,EAAK,MACb,EAAS,EAEf,GAAI,CAAC,GAAW,GACd,KAAM,IAAI,WAAU,4CAA4C,KAGlE,MAAO,CACL,IAAI,EAAK,CACP,GAAM,GAAQ,EAAM,GAAG,EAAO,IAAK,AAAA,GAAU,EAAM,QAEnD,MAAI,KAAQ,OACH,GAAY,EAAO,GAEnB,GAIX,SAAS,EAAM,CACb,GAAI,GACA,EACA,EAAU,GAcd,GAZI,GAAS,EAAK,KAChB,GAAM,EAAK,SAGT,GAAW,EAAK,KAClB,GAAW,EAAK,SAGd,GAAS,EAAK,KAChB,GAAU,EAAK,SAGb,CAAC,GAAW,GACd,KAAM,IAAI,WAAU,8DAA8D,KAGpF,GAAI,EAAK,CAEP,GAAI,GAEA,EAAK,EACT,EAAY,AAAA,GAAU,CAGpB,GAFA,EAAQ,GAAY,EAAO,GAEvB,CAAC,GAAU,EAAO,GACpB,MAAA,GAAW,EACJ,EAAG,IAKZ,EAAQ,WACV,EAAS,SAGX,GAAM,GAAW,GAEjB,OAAW,KAAS,GAClB,EAAS,KACP,EAAM,MAAM,IAAM,CAChB,EAAS,KAAK,UAKpB,MAAO,WAAmB,CACxB,OAAW,KAAW,GACpB,MAKN,OAAO,EAAM,CACX,GAAI,GACA,EAAa,AAAA,GAAM,EAUvB,GARI,GAAS,EAAK,KAChB,GAAM,EAAK,SAGT,GAAW,EAAK,KAClB,GAAY,EAAK,SAGf,EAAK,CACP,GAAI,GAAK,EACT,EAAa,AAAA,GACJ,EAAG,GAAY,EAAO,IAIjC,MAAO,IAAS,KAAM,IAGxB,UAAW,CACT,MAAO,QAAO,KAAK,WAGjB,UAAU,CACZ,MAAO,KC3Gb,GAAA,IAAO,GAAA,KAAY,CAAZ,aAAP,CACE,EAAA,KAAA,WACA,EAAA,KAAA,GAAY,OAER,SAAS,CACX,MAAO,MAGL,cAAc,CARpB,GAAA,GASI,MAAO,IAAA,KAAK,UAAL,KAAA,OAAA,EAAc,aAAc,KAGrC,eAAgB,CACd,MAAO,UAAS,eAAe,IAGjC,WAAW,KAAU,EAAM,CACzB,EAAA,KAAK,IAAU,KAAK,EAAM,MAAM,GAAG,IAGrC,QAAQ,EAAQ,EAAQ,KAAM,CAC5B,GAAM,GAAe,KAAK,YAI1B,AAAK,GACH,MAAK,QAAU,KAAK,gBACpB,KAAK,iBAGP,EAAO,aAAa,KAAK,QAAS,EAAQ,EAAM,YAAc,MAEzD,GACH,KAAK,YAIT,YAAa,CACX,AAAI,KAAK,aACP,MAAK,mBAEL,KAAK,QAAQ,WAAW,YAAY,KAAK,SAEzC,KAAK,eACL,KAAK,QAAU,MAGjB,OAAW,KAAW,GAAA,KAAK,IACzB,IAEF,EAAA,KAAK,GAAY,IAGnB,eAAgB,EAChB,WAAY,EACZ,kBAAmB,EACnB,cAAe,IAtDf,GAAA,GAAA,SCEF,GAAM,IAAU,CAEd,QAAS,CAAC,MAAO,WAAY,QAAS,QAAS,QAAS,QACxD,QAAS,CACP,WACA,kBACA,YACA,SACA,aACA,eACA,YACA,aAEF,OAAQ,CACN,UACA,aACA,cACA,YACA,cACA,cACA,aACA,eACA,eACA,gBACA,aACA,cACA,eACA,cACA,SACA,cACA,cACA,aACA,SACA,YACA,YACA,aACA,UACA,WACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,SACA,UACA,iBACA,uBACA,qBAvDJ,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GA2DO,GAAA,aAAuB,GAAM,CAUlC,YAAY,EAAK,EAAQ,GAAI,EAAW,GAAI,CAC1C,QA2CF,EAAA,KAAA,IAeA,EAAA,KAAA,IAsBA,EAAA,KAAA,IAgCA,EAAA,KAAA,IAsDA,EAAA,KAAA,IAhLA,EAAA,KAAA,OACA,EAAA,KAAA,SACA,EAAA,KAAA,YACA,EAAA,KAAA,WAAW,IAST,KAAK,IAAM,EACX,KAAK,MAAQ,EACb,KAAK,SAAW,KATd,YAAY,CACd,MAAO,GAWT,eAAgB,CACd,MAAO,UAAS,cAAc,KAAK,KAGrC,eAAgB,CACd,GAAI,GAAW,KAEf,OAAW,KAAS,MAAK,SACvB,EAAM,QAAQ,KAAK,QAAS,GAAA,KAAA,OAAA,EAAU,UACtC,EAAW,EAGb,EAAA,KAAK,GAAA,IAAL,KAAA,MACA,EAAA,KAAK,GAAA,IAAL,KAAA,MACA,EAAA,KAAK,GAAA,IAAL,KAAA,MACA,EAAA,KAAK,GAAA,IAAL,KAAA,MAGF,WAAY,CACV,AAAI,KAAK,MAAM,KACb,KAAK,MAAM,IAAI,IAAI,KAAK,SAI5B,cAAe,CACb,OAAW,KAAS,MAAK,SACvB,EAAM,aAIR,OAAW,KAAU,MAAK,SACxB,IAEF,KAAK,SAAW,KAGlB,GAAA,GAAA,SAAA,GAAa,UAAG,CACd,OAAW,KAAO,MAAK,MACrB,GAAI,CAAC,GAAQ,QAAQ,SAAS,IAAQ,GAAQ,OAAO,SAAS,GAAM,CAClE,GAAM,GAAY,EAAI,MAAM,GAAG,cACzB,EAAW,KAAK,MAAM,GAE5B,KAAK,QAAQ,iBAAiB,EAAW,GAEzC,KAAK,SAAS,KAAK,IAAM,CACvB,KAAK,QAAQ,oBAAoB,EAAW,OAMpD,GAAA,GAAA,SAAA,GAAa,UAAG,CACd,GAAI,KAAK,MAAM,MAAO,CACpB,GAAM,GAAS,GAAY,KAAK,MAAM,OAEtC,OAAW,KAAQ,GAAQ,CACzB,GAAM,GAAQ,EAAO,GAErB,AAAI,GAAQ,GACV,EAAA,KAAK,GAAA,IAAL,KAAA,KAAY,EAAO,AAAC,GAAU,CAC5B,AAAI,EACF,KAAK,QAAQ,UAAU,IAAI,GAE3B,KAAK,QAAQ,UAAU,OAAO,KAGzB,GACT,KAAK,QAAQ,UAAU,IAAI,MAMnC,GAAA,GAAA,SAAA,GAAY,UAAG,CACb,GAAM,CAAE,SAAU,KAAK,MAEvB,GAAI,EAAO,CACT,GAAI,GAAQ,GACV,KAAM,IAAI,WACR,0GAA0G,KAAA,GAEnG,EAAS,GAClB,KAAK,QAAQ,MAAQ,UACZ,GAAS,GAClB,OAAW,KAAQ,GAAO,CACxB,GAAM,GAAO,KAAK,MAAM,MAAM,GAE9B,GAAI,GAAQ,GACV,EAAA,KAAK,GAAA,IAAL,KAAA,KAAY,EAAM,AAAC,GAAU,CAC3B,KAAK,QAAQ,MAAM,GAAQ,YAEpB,EAAS,GAClB,KAAK,QAAQ,MAAM,GAAQ,UAClB,GAAS,GAClB,KAAK,QAAQ,MAAM,GAAQ,EAAO,SAElC,MAAM,IAAI,WAAU,uDAAuD,MAAS,UAIxF,MAAM,IAAI,WAAU,2DAA2D,OAKrF,GAAA,GAAA,SAAA,GAAW,UAAG,CACZ,OAAW,KAAQ,MAAK,MAAO,CAC7B,GAAM,GAAO,KAAK,MAAM,GAExB,AAAI,IAAS,SACX,CAAI,GAAQ,GACV,EAAA,KAAK,GAAA,IAAL,KAAA,KAAY,EAAM,AAAC,GAAU,CAC3B,KAAK,QAAQ,MAAQ,OAAO,KAAA,AAErB,GAAS,IAAS,EAAK,UAChC,GAAA,KAAK,GAAA,IAAL,KAAA,KAAY,EAAK,MAAO,AAAC,GAAU,CACjC,KAAK,QAAQ,MAAQ,OAAO,KAG9B,KAAK,QAAQ,iBAAiB,EAAK,MAAO,AAAC,GAAM,CAC/C,GAAM,GAAQ,GAAW,EAAK,MAAM,MAAO,EAAE,OAAO,OAEpD,EAAK,MAAM,IAAI,MAGjB,KAAK,QAAQ,MAAQ,OAAO,KAAK,MAAM,QAIvC,CAAC,GAAQ,QAAQ,SAAS,IAAS,CAAC,GAAQ,OAAO,SAAS,IAC9D,CAAI,GAAQ,QAAQ,SAAS,GAC3B,AAAI,GAAQ,GACV,EAAA,KAAK,GAAA,IAAL,KAAA,KAAY,EAAM,AAAC,GAAU,CAC3B,AAAI,EACF,KAAK,QAAQ,aAAa,EAAM,IAEhC,KAAK,QAAQ,gBAAgB,KAGxB,GACT,KAAK,QAAQ,aAAa,EAAM,IAGlC,AAAI,GAAQ,GACV,EAAA,KAAK,GAAA,IAAL,KAAA,KAAY,EAAM,AAAC,GAAU,CAC3B,AAAI,EACF,KAAK,QAAQ,aAAa,EAAM,EAAM,YAEtC,KAAK,QAAQ,gBAAgB,KAGxB,GACT,KAAK,QAAQ,aAAa,EAAM,OAAO,OAOjD,GAAA,GAAA,SAAA,GAAM,SAAC,EAAO,EAAU,CACtB,KAAK,SAAS,KACZ,EAAM,MAAM,AAAC,GAAU,CACrB,sBAAsB,IAAM,CAC1B,EAAS,QAKf,EAAS,EAAM,QAInB,YAAqB,EAAS,CAC5B,GAAI,GAAS,GAEb,GAAI,EAAS,GAAU,CAErB,GAAM,GAAQ,EAAQ,MAAM,KAC5B,OAAW,KAAQ,GACjB,EAAO,GAAQ,OAAA,AAER,IAAS,GAClB,EAAS,GAAA,GAAA,GACJ,GACA,GAEI,GAAQ,IACjB,MAAM,KAAK,GAAS,QAAQ,AAAC,GAAS,CACpC,EAAS,GAAA,GAAA,GACJ,GACA,GAAY,MAKrB,MAAO,GAMT,YAAoB,EAAQ,EAAQ,CAClC,GAAM,GAAO,MAAO,GAEpB,MAAI,KAAS,SACJ,OAAO,GAGZ,IAAS,SACJ,OAAO,GAGZ,IAAS,UACJ,QAAQ,GAGV,ECnSF,GAAA,IAAA,aAAwB,GAAM,CAGnC,YAAY,EAAU,CACpB,QAHF,EAAA,KAAA,YAKE,KAAK,SAAW,EAGlB,eAAgB,CACd,MAAO,UAAS,eAAe,IAGjC,WAAY,CACV,GAAI,GAAQ,KAAK,QAEjB,OAAW,KAAS,MAAK,SACvB,EAAM,QAAQ,KAAK,QAAQ,WAAY,GACvC,EAAQ,EAAM,QAIlB,cAAe,CACb,OAAW,KAAS,MAAK,SACvB,EAAM,eCvBL,GAAA,aAAoB,GAAM,CAC/B,YAAY,EAAO,CACjB,QAEA,AAAI,GAAQ,GACV,KAAK,MAAQ,EAEb,KAAK,MAAQ,EAIjB,eAAgB,CACd,MAAO,UAAS,eAAe,KAAK,OAGtC,eAAgB,CACd,AAAI,KAAK,OACP,MAAK,QAAU,KAAK,MAAM,MAAM,AAAC,GAAU,CACzC,KAAK,MAAQ,EACb,KAAK,QAAQ,YAAc,IAG7B,KAAK,MAAQ,KAAK,MAAM,MACxB,KAAK,QAAQ,YAAc,KAAK,OAIpC,cAAe,CACb,AAAI,KAAK,SACP,MAAK,UACL,KAAK,QAAU,QC1Bd,YAAoB,EAAS,CAClC,GAAI,GAAO,GACT,MAAO,IAAM,EAAA,GACJ,GAAQ,GACjB,MAAO,IAAM,IAAA,GACJ,EAAS,IAAY,GAAS,GACvC,MAAO,IAAM,GAAI,IAAM,GAAA,GACd,GAAQ,GACjB,MAAO,IAAW,EAAQ,OAAA,GACjB,GAAW,GACpB,MAAO,IAAW,KAElB,cAAQ,KAAK,GACP,GAAI,OAAM,qDAAqD,KCZlE,GAAA,IAAA,aAAqB,GAAM,CAMhC,YAAY,EAAQ,EAAY,CAC9B,QANF,EAAA,KAAA,UACA,EAAA,KAAA,cACA,EAAA,KAAA,iBACA,EAAA,KAAA,WAIE,KAAK,OAAS,GAAQ,GAAU,EAAS,EAAU,GACnD,KAAK,WAAa,EAGpB,OAAO,EAAO,CACZ,GAAI,CAAC,KAAK,YACR,OAGF,GAAI,GAAa,KAAK,WAAW,GAEjC,AAAI,GAAc,MAChB,GAAa,GAAW,MAG1B,sBAAsB,IAAM,CAC1B,AAAI,CAAC,KAAK,aAIN,MAAK,eACP,KAAK,cAAc,aAGjB,GACF,MAAK,cAAgB,EACrB,KAAK,cAAc,QAAQ,KAAK,QAAQ,WAAY,KAAK,aAK/D,WAAY,CACV,AAAK,KAAK,SACR,MAAK,QAAU,KAAK,OAAO,MAAM,KAAK,OAAO,KAAK,QAGpD,KAAK,OAAO,KAAK,OAAO,OAG1B,cAAe,CACb,AAAI,KAAK,eACP,KAAK,cAAc,aAGjB,KAAK,SACP,MAAK,UACL,KAAK,QAAU,UC5Dd,GAAA,aAAkB,GAAO,CAC9B,YAAY,EAAQ,EAAM,EAAY,KAAM,CAC1C,MAAM,EAAQ,AAAC,GACT,EACK,EAEA,KCNR,YAAmB,EAAK,EAAK,CAClC,GAAI,IAAQ,EACV,MAAO,GAGT,GAAI,GAAS,IAAQ,GAAS,GAAM,CAClC,GAAM,GAAU,OAAO,KAAK,GACtB,EAAU,OAAO,KAAK,GAE5B,GAAI,EAAQ,SAAW,EAAQ,OAC7B,MAAO,GAGT,OAAW,KAAO,GAChB,GAAI,CAAC,GAAU,EAAI,GAAM,EAAI,IAC3B,MAAO,GAIX,MAAO,GAGT,GAAI,GAAQ,IAAQ,GAAQ,GAAM,CAChC,GAAI,EAAI,SAAW,EAAI,OACrB,MAAO,GAGT,OAAW,KAAS,GAClB,GAAI,CAAC,GAAU,EAAI,GAAQ,EAAI,IAC7B,MAAO,GAIX,MAAO,GAGT,MAAO,KAAQ,EC3BV,GAAA,IAAA,aAAoB,GAAM,CAO/B,YAAY,EAAQ,EAAQ,EAAY,CACtC,QAPF,EAAA,KAAA,UACA,EAAA,KAAA,UACA,EAAA,KAAA,cACA,EAAA,KAAA,WACA,EAAA,KAAA,OAAO,IAIL,KAAK,OAAS,GAAQ,GAAU,EAAS,EAAU,GACnD,KAAK,OAAS,EACd,KAAK,WAAa,EAGpB,OAAO,EAAM,CACX,GAAI,CAAC,KAAK,YACR,OAGF,GAAM,GAAU,EAAK,IAAI,KAAK,QACxB,EAAQ,GACR,EAAU,GACV,EAAQ,GAEd,OAAS,GAAI,EAAG,EAAI,EAAQ,OAAQ,IAAK,CACvC,GAAM,GAAM,EAAQ,GACd,EAAU,KAAK,KAAK,KAAK,AAAC,GAAS,EAAK,MAAQ,GAEtD,AAAI,EACE,EAAQ,QAAU,GACpB,EAAM,KAAK,CACT,KAAM,EAAQ,MACd,GAAI,EACJ,QAIJ,EAAM,KAAK,CAAE,IAAG,QAIpB,OAAW,KAAQ,MAAK,KAGtB,AAAK,AAFgB,EAAQ,SAAS,EAAK,MAGzC,EAAQ,KAAK,CAAE,EAAG,EAAK,MAAO,IAAK,EAAK,MAK5C,GAAM,GAAW,GAEjB,OAAS,GAAI,EAAG,EAAI,EAAK,OAAQ,IAAK,CACpC,GAAM,GAAM,EAAQ,GACd,EAAQ,EAAK,GACb,EAAU,EAAM,KAAK,AAAC,GAAM,EAAE,MAAQ,GAExC,EAEJ,GAAI,EACF,EAAO,GAAW,KAAK,WAAW,UAC7B,CACL,GAAM,GAAO,KAAK,KAAK,KAAK,AAAC,GAAM,EAAE,MAAQ,GAE7C,AAAI,GAAU,EAAK,MAAO,GACxB,EAAO,EAAK,KAEZ,EAAO,KAAK,WAAW,GAI3B,EAAS,KAAK,CACZ,MAAO,EACP,MACA,QACA,SAKJ,sBAAsB,IAAM,CAE1B,OAAW,KAAS,GAAS,CAC3B,GAAM,GAAO,KAAK,KAAK,KAAK,AAAC,GAAM,EAAE,MAAQ,EAAM,KAEnD,GAAA,MAAA,EAAM,KAAK,aAGb,GAAI,CAAC,KAAK,YACR,OAGF,GAAM,GAAW,GAAI,kBAGjB,EAEJ,OAAW,KAAQ,GACjB,EAAK,KAAK,QAAQ,EAAU,GAExB,EAAK,KAAK,cACZ,GAAW,EAAK,KAAK,SACrB,EAAK,KAAK,SAAS,QAAQ,OAAS,EAAK,KAI7C,KAAK,QAAQ,WAAW,aAAa,EAAU,KAAK,QAAQ,aAE5D,KAAK,KAAO,IAIhB,WAAY,CACV,AAAI,KAAK,SACP,MAAK,UACL,KAAK,QAAU,QAGjB,KAAK,QAAU,KAAK,OAAO,MAAM,KAAK,OAAO,KAAK,OAElD,KAAK,OAAO,KAAK,OAAO,OAG1B,cAAe,CACb,OAAW,KAAQ,MAAK,KACtB,EAAK,KAAK,aAGZ,AAAI,KAAK,SACP,MAAK,UACL,KAAK,QAAU,UCzId,WAAuB,EAAQ,CACpC,MAAO,IACD,cAAc,CAChB,MAAO,IAGT,OAAO,CAAE,aAAY,QAAO,QAAO,QAAO,WAAU,UAAU,CAC5D,GAAI,GAAkB,GAClB,EAAc,GACd,EAAqB,GACrB,EAAiB,GACjB,EAAW,GACX,EAEE,EAAO,CACX,SACA,OAAQ,EAAU,IAClB,aACA,WACA,QACA,QAAQ,EAAM,CACZ,EAAU,GAEZ,cAAc,EAAU,CACtB,EAAgB,KAAK,IAEvB,UAAU,EAAU,CAClB,EAAY,KAAK,IAEnB,iBAAiB,EAAU,CACzB,EAAmB,KAAK,IAE1B,aAAa,EAAU,CACrB,EAAe,KAAK,IAEtB,WAAW,KAAW,EAAM,CAC1B,EAAS,KAAK,EAAO,MAAM,GAAG,MAIlC,EAAK,OAAO,IAAI,AAAC,GAAY,CAC3B,OAAW,KAAO,GAChB,EAAQ,GAAO,EAAM,KAIzB,GAAI,GAAU,EAAO,EAAO,GAE5B,GAAI,IAAY,MACV,IAAQ,IACV,GAAU,KAGR,CAAC,GAAO,IAAU,CACpB,QAAQ,IAAI,OAAO,IACnB,GAAI,GAAU,qDAAqD,IAEnE,QAAK,MAAM,MAAM,GACX,GAAI,WAAU,GAIxB,MAAO,IACD,SAAS,CACX,MAAO,OAEL,cAAc,CAChB,MAAO,IAGT,eAEM,SAAQ,EAAO,CACnB,MAAO,IAAI,SAAQ,AAAC,GAAY,CAC9B,GAAI,GAAW,GAAU,CAKvB,GAAM,GAAc,EAJP,IAAM,CACjB,MAKF,GAAI,EAAa,CAEf,GAAM,GAAW,AADF,GAAW,KAG1B,GAAI,GAAO,GACT,EAAM,OAEN,MAAM,IAAI,OAAM,sEAAsE,UAI1F,QAKN,QAAQ,EAAQ,EAAQ,KAAM,CAC5B,GAAM,GAAe,GAAW,KAAO,GAAQ,EAAQ,YAEvD,GAAI,CAAC,EACH,OAAW,KAAY,GACrB,IAQJ,GAFI,GAAW,MAAM,KAAK,QAAQ,QAAQ,EAAQ,GAE9C,CAAC,EACH,OAAW,KAAY,GACrB,KAKN,YAAa,CACX,GAAI,GAAA,KAAA,OAAA,EAAS,YAAa,CACxB,OAAW,KAAY,GACrB,IAGF,EAAQ,aAER,OAAW,KAAY,GACrB,IAGF,OAAW,KAAW,GACpB,IAEF,EAAW,QCxIvB,GAAA,IAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAYO,GAAA,aAAsB,GAAM,CA0BjC,YAAY,EAAY,EAAO,EAAS,EAAQ,CAC9C,QA8EF,EAAA,KAAA,IAmCA,EAAA,KAAA,IAvIA,EAAA,KAAA,GAAU,MACV,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QAEA,EAAA,KAAA,SAAS,EAAU,CACjB,MAAO,GACP,KAAM,GACN,OAAQ,GACR,MAAO,GACP,SAAU,KACV,MAAO,KAUP,KAAK,cAAgB,GAAW,GAEhC,EAAA,KAAK,GAAQ,EAAO,IAAI,aACxB,EAAA,KAAK,GAAS,EAAO,IAAI,QAAS,AAAC,GAAa,IAAW,GAAK,IAChE,KAAK,OAAO,IAAI,AAAC,GAAY,CAC3B,EAAQ,QAAU,IAEpB,EAAA,KAAK,GAAS,GAAU,CACtB,aACA,QACA,OAAQ,KAAK,UAEf,EAAA,KAAK,GAAS,EAAW,UAAU,YAAY,0BAxCtC,cAAc,CACvB,MAAO,MAoBL,cAAc,CAChB,MAAO,GAAA,KAAK,KAAW,EAAA,KAAK,IAAQ,YAqBtC,MAAM,EAAO,EAAW,CAEtB,GAAI,EAAS,GAAY,CACvB,GAAM,GAAW,EACjB,EAAY,EAAc,CAAC,EAAG,IAC5B,GAAK,cAAc,IAAM,CACvB,EAAK,WAAW,SAAS,GAAG,EAAU,CAAE,QAAS,OAG5C,OAQX,GAJI,GAAW,IACb,GAAY,EAAc,IAGxB,CAAC,GAAY,GACf,KAAM,IAAI,WAAU,4CAA4C,YAAY,KAG9E,SAAA,KAAK,IAAQ,GAAG,EAAO,CAAE,cAElB,KAGT,QAAQ,EAAQ,EAAQ,KAAM,CAC5B,GAAM,GAAe,KAAK,YAI1B,AAAK,GACH,EAAA,KAAK,GAAU,KAAK,iBAGtB,EAAA,KAAK,IAAQ,QAAQ,EAAQ,GAExB,GACH,MAAK,WAAW,EAAA,KAAK,IAAO,AAAC,GAAY,GAAW,EAAA,KAAK,GAAA,IAAL,KAAA,KAAiB,GAAU,CAAE,UAAW,KAE5F,KAAK,WACH,KAAK,OACL,QACA,AAAC,GAAY,CACX,AAAI,EAAA,KAAK,IAAQ,SACf,GAAA,KAAK,IAAQ,QAAQ,QAAQ,YAAc,IAG/C,CAAE,UAAW,KAGf,KAAK,aAIT,YAAa,CACX,AAAI,KAAK,aACP,EAAA,KAAK,IAAQ,eAhGjB,GAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SA8FA,GAAA,GAAA,SAAA,GAAW,SAAC,EAAM,CAChB,GAAM,GAAU,EAAA,KAAK,IAAQ,MAAM,GAEnC,GAAI,EAAS,CACX,GAAM,GAAe,EAAQ,QAAU,KAAK,OAAO,IAAI,SAEvD,KAAK,OAAO,IAAI,AAAC,GAAY,CAC3B,EAAQ,KAAO,EAAQ,KACvB,EAAQ,MAAQ,EAAQ,MACxB,EAAQ,MAAQ,EAAQ,MACxB,EAAQ,OAAS,EAAQ,OACzB,EAAQ,SAAW,EAAQ,WAGzB,GAAA,KAAK,KAAY,MAAQ,IAC3B,EAAA,KAAK,GAAA,IAAL,KAAA,KAAiB,EAAQ,MAAM,eAGjC,AAAI,GAAA,KAAK,KACP,GAAA,KAAK,IAAS,aACd,EAAA,KAAK,GAAW,OAGlB,KAAK,OAAO,IAAI,AAAC,GAAY,CAC3B,EAAQ,KAAO,KACf,EAAQ,MAAQ,KAChB,EAAQ,MAAQ,OAAO,OAAO,MAC9B,EAAQ,OAAS,OAAO,OAAO,MAC/B,EAAQ,SAAW,OAGrB,QAAQ,KAAK,gFAIjB,GAAA,GAAA,SAAA,GAAW,SAAC,EAAW,CACrB,GAAI,CAAC,KAAK,YACR,OAIF,GAAM,GAAO,AADH,EAAA,KAAK,IACA,KAET,EAAQ,AAAC,GAAY,CACzB,AAAI,EAAA,KAAK,MAAa,GAChB,GAAA,KAAK,KACP,EAAA,KAAK,IAAS,aAEhB,EAAA,KAAK,GAAW,GAChB,EAAA,KAAK,IAAS,QAAQ,EAAA,KAAK,IAAQ,WAInC,EAAQ,KAAK,MACjB,EAAK,QAAQ,GAAO,KAAK,IAAM,CAC7B,GAAM,GAAO,KAAK,MAAQ,EAC1B,EAAM,GACN,EAAA,KAAK,IAAO,IACV,UAAU,EAAA,KAAK,IAAO,yBAAyB,KAAK,OAAO,IAAI,4BAA4B,UCrK5F,YAAmB,CAAE,aAAY,QAAO,UAAU,CACvD,WAAW,KAAY,EAAM,CAC3B,GAAI,GAAe,GAEnB,AAAI,EAAK,IAAM,CAAC,GAAO,EAAK,KAAO,GAAS,EAAK,KAC/C,GAAe,EAAK,SAGtB,GAAI,GAAkB,EAClB,EAAc,KAElB,GAAI,EAAS,GACX,AAAI,IAAY,IAAM,IAAY,aAChC,EAAc,WAEd,EAAc,kBAEP,GAAY,GACrB,EAAc,gBAEd,MAAM,IAAI,WAAU,iDAAiD,KAMvE,cAAkB,EAAM,CACtB,GAAI,GAAQ,GAAA,GAAK,GACb,EAAW,EAAK,SAAW,EAAI,EAAkB,EAUrD,OARI,EAAK,IAAM,CAAC,GAAO,EAAK,KAAO,GAAS,EAAK,KAC/C,GAAQ,EAAS,SAGnB,EAAW,EACR,OAAO,AAAC,GAAM,GAAK,MAAQ,IAAM,IACjC,IAAI,AAAC,GAAU,GAAW,MAErB,OACD,YACH,MAAO,GAAQ,OAAO,CACpB,aACA,MAAO,EAAM,YAAY,eACzB,MAAO,EACP,QACA,WACA,eAEC,UACH,MAAO,IAAI,IAAS,EAAS,EAAO,OACjC,WACH,MAAO,IAAI,IAAU,IAI3B,cAAO,eAAe,EAAO,UAAW,CACtC,MAAO,GACP,SAAU,KAGL,EAGT,SAAE,GAAK,SAAU,EAAO,EAAM,EAAW,CACvC,MAAO,IAAI,IAAI,EAAO,EAAM,IAG9B,EAAE,KAAO,SAAU,EAAM,EAAS,EAAU,CAC1C,MAAO,IAAI,IAAM,EAAM,EAAS,IAGlC,EAAE,MAAQ,SAAU,EAAQ,EAAQ,CAClC,MAAO,IAAI,IAAO,EAAQ,IAG5B,EAAE,KAAO,SAAU,EAAO,CACxB,MAAO,IAAI,IAAM,IAGnB,EAAE,OAAS,SAAU,EAAU,MAAO,EAAa,GAAI,CACrD,GAAI,EAAO,IAAI,aAAe,KAC5B,KAAM,IAAI,OACR,kFAAkF,EAAO,IAAI,YAIjG,GAAM,GAAO,EAAE,EAAS,GAExB,MAAO,IAAI,IAAQ,EAAY,EAAO,EAAM,IAS9C,EAAE,KAAO,SAAU,EAAO,EAAQ,QAAS,CACzC,MAAO,CACL,UAAW,GACX,QACA,UAIJ,OAAO,OAAO,GAEP,ECrHT,GAAA,IAAsB,GAAA,MAEf,aAA+B,CACpC,GAAM,GAAO,GAAI,IAAA,QAAU,CACzB,UAAW,CAAC,GAAK,IACjB,WAAY,CAAC,GAAK,MAGpB,MAAO,CACL,QAAQ,EAAM,KAAU,EAAM,CAC5B,AAAI,IAAU,QACZ,QAAQ,MAAM,MAAM,KAAS,SAAS,EAAK,IAAI,sBAA0B,GAAG,GAAA,AACnE,IAAU,OACnB,QAAQ,KAAK,MAAM,KAAS,SAAS,EAAK,IAAI,sBAA0B,GAAG,GAE3E,QAAQ,IAAI,MAAM,KAAS,SAAS,EAAK,IAAI,sBAA0B,GAAG,KCZ3E,YAAmB,EAAU,GAAI,CACtC,GAAM,GAAU,EAAU,EAAQ,QAAU,aAExC,EAAQ,IAAM,GACd,EAAY,CAAC,MAGjB,SAAQ,MACN,AAAC,GAAY,CACX,EAAQ,GAAY,IAEtB,CAAE,UAAW,KAGR,CACL,UAEA,YAAY,EAAM,CAChB,GAAI,EAAK,SAAS,KAChB,KAAM,IAAI,OAAM,6CAA6C,KAG/D,MAAO,QAAO,OAAO,IACf,OAAO,CACT,MAAO,OAEL,MAAK,EAAO,CACd,GAAI,EAAM,SAAS,KACjB,KAAM,IAAI,OAAM,6CAA6C,KAE/D,EAAO,GAGT,OAAO,EAAM,CACX,GAAI,EAAQ,KAAO,EAAM,GACvB,OAAW,KAAY,GACrB,EAAS,QAAQ,EAAM,MAAO,GAAG,IAIvC,QAAQ,EAAM,CACZ,GAAI,EAAQ,MAAQ,EAAM,GACxB,OAAW,KAAY,GACrB,EAAS,QAAQ,EAAM,OAAQ,GAAG,IAIxC,SAAS,EAAM,CACb,GAAI,EAAQ,OAAS,EAAM,GACzB,OAAW,KAAY,GACrB,EAAS,QAAQ,EAAM,QAAS,GAAG,OAO7C,YAAY,EAAU,CACpB,EAAU,KAAK,KAKrB,YAAqB,EAAQ,CAC3B,GAAI,YAAkB,QACpB,MAAO,AAAC,IAAU,EAAO,KAAK,GAGhC,GAAM,GAAW,CACf,SAAU,GACV,SAAU,IAEN,EAAQ,EACX,MAAM,KACN,IAAI,AAAC,GAAM,EAAE,QACb,OAAO,AAAC,GAAM,IAAM,IAEvB,OAAW,KAAQ,GAAO,CACxB,GAAM,GAAU,EAAK,WAAW,KAAO,WAAa,WAEpD,AAAI,IAAS,IACX,EAAS,GAAS,KAAK,SAAU,EAAO,CACtC,MAAO,KAAA,AAEA,EAAK,SAAS,KACvB,EAAS,GAAS,KAAK,SAAU,EAAO,CACtC,MAAO,GAAM,WAAW,EAAK,MAAM,EAAG,EAAK,OAAS,MAGtD,EAAS,GAAS,KAAK,SAAU,EAAO,CACtC,MAAO,KAAU,EAAK,MAAM,EAAG,EAAK,OAAS,KAKnD,MAAO,AAAC,IAAU,GAAY,EAAU,GAG1C,YAAqB,EAAU,EAAM,CACnC,GAAM,CAAE,WAAU,YAAa,EAQ/B,MALI,IAAS,KAAK,AAAC,GAAO,EAAG,KAKzB,EAAS,OAAS,GAAK,CAAC,EAAS,KAAK,AAAC,GAAO,EAAG,KC3GhD,YAAqB,EAAQ,CAClC,MAAO,IACD,YAAY,CACd,MAAO,IAGT,OAAO,CAAE,aAAY,QAAO,UAAU,IAAM,CAC1C,GAAI,GAAkB,GAClB,EAAc,GACd,EAAW,GAiBT,EAAU,EAfH,CACX,QACA,UACA,aACA,cAAc,EAAU,CACtB,EAAgB,KAAK,IAEvB,UAAU,EAAU,CAClB,EAAY,KAAK,IAEnB,WAAW,KAAW,EAAM,CAC1B,EAAS,KAAK,EAAO,MAAM,GAAG,OAMlC,GAAI,CAAC,GAAS,GACZ,KAAM,IAAI,WAAU,wCAAwC,KAG9D,MAAO,CACL,UACA,eAAgB,CACd,OAAW,KAAY,GACrB,KAGJ,WAAY,CACV,OAAW,KAAY,GACrB,QCtCL,eAAqB,EAAO,CACjC,EAAQ,EAAM,OAAO,AAAC,GAAM,GAE5B,GAAI,GAAS,EAAM,QAEnB,GAAI,EACF,OAAW,KAAQ,GACjB,AAAI,EAAO,EAAO,OAAS,KAAO,KAChC,CAAI,EAAK,KAAO,IACd,GAAU,IAAM,EAEhB,GAAU,GAMlB,MAAO,IAAA,KAAA,EAAU,GCvBnB,GAAM,IAAmB,8CACnB,GAAe,YAWN,YAAoB,EAAM,EAAU,EAAU,OAAQ,CACnE,WAAkB,EAAM,CACtB,GAAI,GAAC,GAAQ,IAAS,GAItB,MAAI,GAAK,YAAc,KAAO,EAAK,OAAS,OACnC,EAAS,EAAK,YAGhB,EAGT,WAAiB,EAAG,CAClB,GAAK,EAAE,QAAU,EAAE,SAAW,GAAM,EAAE,SAAW,EAAE,SAAW,EAAE,QAAU,EAAE,UAAY,EAAE,iBACxF,OAGF,GAAM,GAAS,EAAS,EAAE,QAE1B,AAAI,CAAC,GAKH,EAAQ,SAAS,WAAa,EAAO,UACrC,EAAQ,SAAS,WAAa,EAAO,UACrC,EAAQ,SAAS,OAAS,EAAO,MACjC,EAAO,aAAa,uBACpB,EAAO,aAAa,aACnB,EAAO,aAAa,YAAc,UAAY,GAAiB,KAAK,EAAO,aAAa,SACzF,GAAa,KAAK,EAAO,aAAa,UAKxC,GAAE,iBACF,EAAS,IAGX,SAAK,iBAAiB,QAAS,GAExB,UAAkB,CACvB,EAAK,oBAAoB,QAAS,ICpDtC,GAAM,IAAc,GAAY,AAAC,GAAS,CACxC,EAAK,MAAM,KAAO,aAElB,GAAM,GAAc,GAChB,EAAQ,EAAK,QAAQ,OAAS,OAAO,MAAM,KAAK,QAChD,EAAY,EAEhB,WAAiB,EAAQ,EAAK,CAC5B,MAAO,IAAI,IAAY,CACrB,GAAI,EAAE,EACN,SACA,MACA,QACA,WAAY,EACZ,MAAO,EAAK,QAIhB,MAAO,CACL,UAEA,OAAO,EAAY,CACjB,SAAY,KAAK,GAAG,GAEb,MAGT,IAAI,EAAK,CACP,MAAO,GAAQ,MAAO,IAGxB,IAAI,EAAK,CACP,MAAO,GAAQ,MAAO,IAGxB,MAAM,EAAK,CACT,MAAO,GAAQ,QAAS,IAG1B,KAAK,EAAK,CACR,MAAO,GAAQ,OAAQ,IAGzB,OAAO,EAAK,CACV,MAAO,GAAQ,SAAU,IAG3B,KAAK,EAAK,CACR,MAAO,GAAQ,OAAQ,OAKtB,GAAQ,GAxDf,GAAA,GAAA,GAAA,GAAA,EAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GA0DO,GAAA,KAAkB,CAevB,YAAY,CAAE,KAAI,QAAO,SAAQ,MAAK,aAAY,SAAS,CAuLrD,EAAA,KAAA,IArMN,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,EAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QACA,EAAA,KAAA,GAAA,QAEA,EAAA,KAAA,GAAmB,IAGjB,GAAM,CAAC,EAAM,GAAS,EAAI,MAAM,KAEhC,EAAA,KAAK,GAAM,GACX,EAAA,KAAK,GAAS,GACd,EAAA,KAAK,GAAO,GACZ,EAAA,KAAK,GAAc,GACnB,EAAA,KAAK,GAAS,GACd,EAAA,KAAK,GAAS,GAAI,iBAAgB,GAAS,KAC3C,EAAA,KAAK,EAAO,CACV,SACA,QAAS,GAAI,SACb,KAAM,SAER,EAAA,KAAK,GAAQ,AAAC,GAAW,GAAU,KAAO,EAAS,QAMjD,aAAa,CACf,MAAO,CAAC,gBAAgB,KAAK,EAAA,KAAK,KAMpC,IAAI,EAAO,CACT,GAAI,IAAU,OACZ,MAAO,GAAA,KAAK,IAAA,GACH,EAAS,GAClB,EAAA,KAAK,GAAO,OAEZ,MAAM,IAAI,WAAU,gCAAgC,KA0BxD,OAAO,EAAQ,EAAO,CACpB,GAAI,EAAS,GAAS,CAEpB,GAAI,IAAU,OACZ,MAAO,GAAA,KAAK,GAAK,QAAQ,IAAI,GAQ/B,GALI,EAAO,gBAAkB,gBAC3B,EAAA,KAAK,GAAmB,IAItB,IAAU,KACZ,SAAA,KAAK,GAAK,QAAQ,OAAO,GAClB,KAIT,GAAI,EAAS,GACX,SAAA,KAAK,GAAK,QAAQ,IAAI,EAAQ,GACvB,aAEA,GAAS,IAAW,GAAS,KAAM,CAE5C,OAAW,KAAO,GAChB,KAAK,OAAO,EAAK,EAAO,IAE1B,MAAO,MAGT,KAAM,IAAI,OAAM,yEAAyE,SAAc,KAMzG,QAAQ,EAAQ,EAAO,CACrB,YAAK,OAAO,EAAQ,GACb,KAGT,MAAM,EAAO,EAAO,CAClB,GAAI,EAAS,GAAQ,CAEnB,GAAI,IAAU,OACZ,MAAO,GAAA,KAAK,IAAO,IAAI,GAIzB,GAAI,IAAU,KACZ,SAAA,KAAK,IAAO,OAAO,GACZ,KAIT,GAAI,EAAS,GACX,SAAA,KAAK,IAAO,IAAI,OAAQ,GACjB,aAEA,GAAS,IAAU,GAAS,KAAM,CAE3C,OAAW,KAAO,GAChB,KAAK,MAAM,EAAK,EAAM,IAExB,MAAO,MAGT,KAAM,IAAI,OAAM,4EAA4E,SAAa,KAG3G,KAAK,EAAO,CACV,MAAI,IAAS,GACP,GAAA,KAAK,KACP,KAAK,OAAO,eAAgB,oBAE9B,EAAA,KAAK,GAAK,KAAO,KAAK,UAAU,IAAA,AACvB,YAAiB,UACtB,GAAA,KAAK,KACP,KAAK,OAAO,eAAgB,qCAE9B,EAAA,KAAK,GAAK,KAAO,GAEjB,EAAA,KAAK,GAAK,KAAO,EAGZ,KAQT,GAAG,EAAI,CACL,EAAA,KAAK,GAAQ,GAMf,QAAQ,EAAM,CACZ,MAAK,GAAA,KAAK,KACR,EAAA,KAAK,GAAW,EAAA,KAAK,GAAA,IAAL,KAAA,OAGX,EAAA,KAAK,IAAS,KAAK,GAAG,GAG/B,SAAS,EAAM,CACb,MAAK,GAAA,KAAK,KACR,EAAA,KAAK,GAAW,EAAA,KAAK,GAAA,IAAL,KAAA,OAGX,EAAA,KAAK,IAAS,MAAM,GAAG,GAGhC,WAAW,EAAM,CACf,MAAK,GAAA,KAAK,KACR,EAAA,KAAK,GAAW,EAAA,KAAK,GAAA,IAAL,KAAA,OAGX,EAAA,KAAK,IAAS,QAAQ,GAAG,KAlMlC,GAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SACA,EAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SACA,GAAA,GAAA,SAEA,GAAA,GAAA,SAyLM,GAAA,GAAA,SAAA,GAAK,gBAAG,CACZ,GAAM,GAAM,CACV,OAAQ,IACR,WAAY,KACZ,QAAS,GACT,KAAM,QAGF,EAAU,SAAY,CAC1B,EAAA,KAAK,IAAO,IAAI,YAAY,EAAA,KAAK,QAAQ,EAAA,KAAK,GAAK,OAAO,iBAAiB,EAAA,KAAK,OAChF,GAAM,GAAQ,KAAK,MAEb,EAAQ,EAAA,KAAK,IAAO,WACpB,EAAM,EAAM,OAAS,EAAI,EAAA,KAAK,IAAO,IAAM,EAAQ,EAAA,KAAK,IAExD,EAAU,KAAM,GAAA,KAAK,IAAL,KAAA,KAAY,EAAK,EAAA,KAAK,IAE5C,EAAI,OAAS,EAAQ,OACrB,EAAI,WAAa,EAAQ,WACzB,EAAQ,QAAQ,QAAQ,CAAC,EAAO,IAAQ,CACtC,EAAI,QAAQ,GAAO,IAGrB,GAAM,GAAc,EAAI,QAAQ,gBAEhC,AAAI,GAAW,EAAA,KAAK,KAClB,EAAI,KAAO,KAAM,GAAA,KAAK,IAAL,KAAA,KAAY,GAAA,AACpB,EAAY,SAAS,oBAC9B,EAAI,KAAO,KAAM,GAAQ,OAAA,AAChB,EAAY,SAAS,qCAC9B,EAAI,KAAO,KAAM,GAAQ,WAEzB,EAAI,KAAO,KAAM,GAAQ,OAG3B,EAAA,KAAK,IAAO,IACV,aAAa,EAAA,KAAK,QAAQ,EAAA,KAAK,GAAK,OAAO,iBAAiB,EAAA,KAAK,MACjE,KAAK,KAAK,MAAM,KAAK,MAAQ,QAC7B,IAIE,EAAQ,CAAC,EAAQ,IAAM,CAC3B,GAAM,GAAU,EAAA,KAAK,IAAY,GAC3B,EAAO,EAAA,KAAK,IAAY,EAAQ,GAAK,EAAM,EAAQ,GAAK,EAE9D,MAAO,UAAY,EAAQ,KAAM,IAanC,GAVA,AAAI,EAAA,KAAK,IAAY,OAAS,EAC5B,KAAM,OAEN,KAAM,KAOJ,EAAA,KAAK,IAAL,KAAA,KAAW,EAAI,SAAW,GAAO,CACnC,GAAM,GAAM,GAAI,IACd,GAAG,EAAI,UAAU,EAAI,+BAA+B,EAAA,KAAK,GAAK,OAAO,iBAAiB,EAAA,KAAK,QAE7F,QAAI,OAAS,EAAA,KAAK,GAAK,OACvB,EAAI,IAAM,EAAA,KAAK,IACf,EAAI,OAAS,EAAI,OACjB,EAAI,WAAa,EAAI,WACrB,EAAI,QAAU,EAAI,QAClB,EAAI,KAAO,EAAI,KAET,EAGR,MAAO,IAIX,GAAA,IAAA,aAAwB,MAAM,CAA9B,aA7UA,CA6UA,MAAA,GAAA,WACE,EAAA,KAAA,UACA,EAAA,KAAA,OACA,EAAA,KAAA,UACA,EAAA,KAAA,cACA,EAAA,KAAA,WACA,EAAA,KAAA,UC5UI,GAAc,GAAY,AAAC,GAAS,CACxC,EAAK,MAAM,KAAO,aAElB,GAAM,GAAS,EAAU,UAAA,KAAA,OAAA,SAAU,OAC7B,EAAU,EAAK,QAAQ,QAE7B,SAAK,UAAU,IAAM,CACnB,AAAI,UACF,EAAK,WAAW,EAAQ,AAAC,GAAY,CACnC,SAAS,MAAQ,MAKhB,CACL,SAEA,OAAQ,EAAU,CAChB,KAAM,GACN,MAAO,GACP,OAAQ,GACR,MAAO,GACP,SAAU,OAGZ,KAAK,EAAQ,EAAG,CACd,EAAQ,GAAG,CAAC,IAGd,QAAQ,EAAQ,EAAG,CACjB,EAAQ,GAAG,IASb,GAAG,EAAI,EAAU,GAAI,CACnB,GAAI,EAAS,GACX,AAAI,EAAQ,QACV,EAAQ,QAAQ,GAEhB,EAAQ,KAAK,OAGf,MAAM,IAAI,WAAU,gCAAgC,SAMrD,GAAQ,GC/CR,YAAiB,EAAU,GAAI,CACpC,GAAM,GAAS,KACT,EAAQ,GAAU,EAAQ,OAC1B,EAAW,EAAM,YAAY,YAC7B,EAAW,GAEb,EAAkB,GAClB,EAAQ,SAAY,GACpB,EACA,EACA,EAEA,EAEJ,AAAI,EAAQ,QACV,EAAU,EAAQ,QAAA,AACT,EAAQ,KACjB,EAAU,KAEV,EAAU,KAOZ,GAAM,GAAU,CAOd,MAAM,EAAM,EAAW,CAKrB,GAJI,GAAW,IACb,GAAY,EAAc,IAGxB,CAAC,GAAY,GACf,KAAM,IAAI,WAAU,4CAA4C,SAAY,KAG9E,SAAO,GAAG,EAAM,CAAE,cAEX,GAWT,QAAQ,EAAM,EAAS,EAAS,CAK9B,GAJI,GAAW,IACb,GAAU,GAAY,IAGpB,CAAC,GAAU,GACb,KAAM,IAAI,WAAU,4BAA4B,KAGlD,MAAK,GAAS,IACZ,GAAS,GAAQ,CACf,SAAU,EACV,SAAU,KACV,QAAA,IAKJ,EAAS,GAAM,SAAW,EAEtB,IAAY,QACd,GAAS,GAAM,QAAU,GAGpB,GAWT,MAAM,EAAI,CACR,SAAQ,SAAY,EAAG,GAEhB,GAQT,QAAQ,EAAS,CAKf,GAJI,EAAS,IACX,GAAU,SAAS,cAAc,IAG/B,cAAmB,OACrB,KAAM,IAAI,WAAU,kCAAkC,KAGxD,EAAS,EAET,OAAW,KAAQ,GAAU,CAC3B,GAAM,GAAU,EAAS,GAGzB,EAAQ,SAAW,EAAQ,SAAS,OAAO,CACzC,aACA,MAAO,EAAM,YAAY,WAAW,KACpC,QAAS,EAAQ,UAKrB,EAAkB,GAElB,EAAQ,GAAU,CAChB,aACA,QACA,OAAQ,EAAW,SAAS,SAK9B,OAAW,KAAQ,GACjB,EAAS,GAAM,SAAS,gBAG1B,IAAQ,KAAK,IAAM,CACjB,EAAQ,OAAO,GACf,EAAe,GAEf,OAAW,KAAQ,GACjB,EAAS,GAAM,SAAS,YAG1B,GAAW,EAAQ,AAAC,GAAW,CAC7B,GAAI,GAAO,EAAO,aAAa,QAE/B,AAAK,mBAAmB,KAAK,IAC3B,GAAO,GAAS,EAAQ,SAAS,SAAU,IAG7C,EAAS,IAAI,sBAAwB,GAErC,EAAQ,KAAK,SAkBrB,WAAoB,EAAM,CACxB,GAAI,CAAC,EAEH,KAAM,IAAI,OAAM,uDAAuD,KAGzE,GAAI,EAAS,GACX,MAAO,GAAS,GAAM,SAAS,QAGjC,KAAM,IAAI,OAAM,+CAA+C,KAMjE,WAAwB,CAAE,YAAY,CACpC,GAAM,GAAU,EAAO,MAAM,EAAS,SAAW,EAAS,QAE1D,GAAI,EAAS,CACX,GAAM,CAAE,UAAW,EAAW,SACxB,EAAe,EAAQ,QAAU,EAAO,IAAI,SAYlD,GARA,EAAO,IAAI,AAAC,GAAY,CACtB,EAAQ,KAAO,EAAQ,KACvB,EAAQ,MAAQ,EAAQ,MACxB,EAAQ,OAAS,EAAQ,OACzB,EAAQ,MAAQ,EAAQ,MACxB,EAAQ,SAAW,EAAQ,WAGzB,EAAc,CAChB,GAAM,GAAO,EAAQ,MAAM,UAAU,OAAO,CAC1C,aACA,QACA,MAAO,EAAM,YAAY,eACzB,MAAO,GACP,SAAU,GACV,WAGI,EAAQ,AAAC,GAAY,CACzB,AAAI,GACF,EAAQ,aAEV,EAAU,EACV,EAAQ,QAAQ,GAGhB,GAAM,GAAM,EAAQ,YAAc,EAAQ,QAAQ,QAAU,EAAQ,QACpE,AAAI,GACF,GAAI,QAAQ,SAAW,EAAO,IAAI,WAIlC,EAAQ,KAAK,MACjB,EAAK,QAAQ,GAAO,KAAK,IAAM,CAC7B,GAAM,GAAO,KAAK,MAAQ,EAE1B,EAAM,GACN,EAAS,IAAI,4BAA4B,EAAQ,yBAAyB,cAI9E,GAAS,KAAK,+EAQlB,SAAQ,QAAQ,SAAU,IAAM,GAChC,EAAQ,QAAQ,QAAS,IACzB,EAAQ,QAAQ,QAAS,GAAa,CAAE,YAEjC,ECnQT,GAAM,IAAiB,GAAY,AAAC,GAAS,CAC3C,GAAM,GAAW,EAAU,GAE3B,SAAK,UAAU,IAAM,CACnB,YAAY,IAAM,CAChB,EAAS,IAAI,AAAC,GAAY,EAAU,IACnC,OAGE,CACL,WAEA,OAAQ,CACN,EAAS,IAAI,OAKZ,GAAQ,GCrBf,GAAM,IAAe,GAAY,AAAC,GAAS,CACzC,GAAM,GAAY,EAAU,CAAE,EAAG,EAAG,EAAG,IAEvC,SAAK,UAAU,IAAM,CACnB,EAAK,MAAM,IAAI,kCAEf,OAAO,iBAAiB,YAAa,AAAC,GAAM,CAC1C,EAAU,IAAI,CACZ,EAAG,EAAE,QACL,EAAG,EAAE,cAKJ,CACL,eAIG,GAAQ,GClBA,WAAsB,EAAM,CACzC,EAAK,cAAc,IAAM,CACvB,EAAK,MAAM,IAAI,8BAGjB,EAAK,UAAU,IAAM,CACnB,EAAK,MAAM,IAAI,0BAGjB,EAAK,iBAAiB,IAAM,CAC1B,EAAK,MAAM,IAAI,iCAGjB,EAAK,aAAa,IAAM,CACtB,EAAK,MAAM,IAAI,6BCXnB,GAAM,IAAgB,EAAc,CAAC,EAAG,IAAS,CAC/C,EAAK,MAAM,KAAO,gBAElB,EAAa,GAEb,GAAM,GAAU,EAAU,IACpB,EAAU,EAAQ,IAAI,AAAC,GAAa,EAAU,KAAO,OAE3D,MACE,GAAC,MAAD,CAAK,MAAM,WACT,EAAC,KAAD,KAAI,uBACkB,EAAC,OAAD,KAAM,iBAE5B,EAAC,MAAD,CACE,MAAO,CAAE,OAAQ,GACjB,QAAS,IAAM,CACb,EAAQ,IAAI,AAAC,GAAY,CAAC,KAG3B,EAAE,KAAK,GAAS,4BAOlB,GAAQ,GC1Bf,GAAM,IAAiB,EAAc,CAAC,EAAG,IAAS,CAChD,EAAK,MAAM,KAAO,iBAElB,EAAa,GAEb,GAAM,GAAU,EAAK,WAAW,WAC1B,EAAS,EAAQ,SAAS,IAAI,AAAC,GAAM,mBAAmB,KAE9D,MACE,GAAC,MAAD,CAAK,MAAM,WACT,EAAC,KAAD,KAAI,8BACJ,EAAC,MAAD,KACE,EAAC,IAAD,KAAI,EAAE,KAAK,IACX,EAAC,SAAD,CAAQ,QAAS,EAAQ,OAAO,SAChC,EAAC,GAAD,UAMD,GAAQ,GAKT,GAAmB,EAAc,CAAC,EAAG,IAAS,CAClD,GAAM,CAAE,YAAa,EAAK,WAAW,WAErC,MAAO,GAAC,KAAD,KAAK,EAAE,KAAK,MC/BrB,GAAM,IAAqB,EAAc,CAAC,EAAG,IAAS,CACpD,EAAK,MAAM,KAAO,qBAElB,EAAa,GAEb,GAAM,GAAQ,EAAU,IAClB,EAAS,EAAM,IAAI,AAAC,GAAQ,EAAK,YAAc,aAErD,MACE,GAAC,MAAD,CAAK,MAAM,WACT,EAAC,KAAD,KAAI,8BACyB,EAAC,OAAD,KAAM,WAEnC,EAAC,MAAD,KACE,EAAC,SAAD,CACE,QAAS,IAAM,CACb,EAAM,IAAI,AAAC,GAAY,CAAC,KAGzB,EAAE,KAAK,IAET,EAAE,GAAG,EAAO,EAAC,OAAD,KAAM,qBAMpB,GAAQ,GC3Bf,GAAM,IAAqB,EAAc,CAAC,EAAG,IAAS,CACpD,EAAK,MAAM,KAAO,qBAElB,EAAa,GAEb,GAAM,GAAc,CAAC,QAAS,SAAU,SAAU,iBAE5C,EAAgB,EAAU,GAC1B,EAAc,EAAU,IAExB,EAAY,IACT,EACJ,MACA,IAAI,AAAC,GAAM,GACX,OAGC,EAAQ,IAAM,CAClB,EAAc,IAAI,IAGpB,MACE,GAAC,MAAD,CAAK,MAAM,WACT,EAAC,KAAD,KAAI,sBACiB,EAAC,OAAD,KAAM,aAG3B,EAAC,MAAD,KACE,EAAC,SAAD,CACE,QAAS,IAAM,CACb,EAAc,IAAI,OAErB,eAID,EAAC,SAAD,CACE,QAAS,IAAM,CACb,EAAc,IAAI,IAAY,aAEjC,eAID,EAAC,MAAD,CAAK,MAAM,eACT,EAAC,QAAD,CACE,KAAK,OACL,MAAO,EACP,QAAS,AAAC,GAAM,CACd,EAAY,IAAI,EAAE,OAAO,UAG7B,EAAC,SAAD,CACE,SAAU,EAAY,IAAI,AAAC,GAAY,EAAQ,QAAU,IACzD,QAAS,IAAM,CAEb,EAAc,IAAI,AAAC,GAAY,CAC7B,EAAQ,KAAK,EAAY,SAE3B,EAAY,IAAI,MAEnB,YAGD,EAAC,SAAD,CAAQ,QAAS,GAAO,eAGzB,EAAE,KACD,EACA,AAAC,GAAS,EACV,AAAC,GACC,EAAC,KAAD,CACE,QAAS,IAAM,CACb,MAAM,KAGP,QASR,GAAQ,GCrFf,GAAM,IAAoB,EAAc,CAAC,EAAG,IAAS,CACnD,EAAK,MAAM,KAAO,oBAElB,EAAa,GAEb,GAAM,GAAQ,EAAU,WAClB,EAAQ,EAAU,IAExB,MACE,GAAC,MAAD,CAAK,MAAM,WACT,EAAC,KAAD,KAAI,6BACwB,EAAC,OAAD,KAAM,aAElC,EAAC,MAAD,KACE,EAAC,QAAD,CAAO,MAAO,EAAE,KAAK,KACrB,EAAC,QAAD,CAAO,MAAO,EAAE,KAAK,GAAQ,KAAK,WAAW,IAC7C,EAAC,IAAD,CACE,MAAO,CACL,SAAU,EAAM,IAAI,AAAC,GAAM,EAAI,QAGhC,EAAE,KAAK,QAOX,GAAQ,GC5Bf,GAAM,IAAc,EAAc,CAAC,EAAG,IAAS,CAC7C,EAAK,MAAM,KAAO,cAElB,EAAa,GAEb,GAAM,GAAa,EAAU,IACvB,EAAY,EAAU,IACtB,EAAO,EAAU,IAEjB,EAAU,GAAY,EAAY,EAAW,EAAM,CAAC,EAAO,EAAM,IAAQ,CAC7E,GAAI,GAAS,GAEb,MAAI,GAAM,QAAU,IAClB,EAAO,KAAK,8BAGV,EAAK,QAAU,IACjB,EAAO,KAAK,6BAGV,EAAM,IACR,EAAO,KAAK,2DAGP,IAEH,EAAa,EAAQ,IAAI,AAAC,GAAY,EAAQ,OAAS,GAE7D,WAAkB,EAAG,CACnB,EAAE,iBACF,MAAM,kCAGR,MACE,GAAC,MAAD,CAAK,MAAM,WACT,EAAC,KAAD,KAAI,wBACJ,EAAC,OAAD,CAAM,SAAU,GACd,EAAC,QAAD,CAAO,KAAK,OAAO,MAAO,EAAE,KAAK,GAAa,YAAY,eAC1D,EAAC,QAAD,CAAO,KAAK,OAAO,MAAO,EAAE,KAAK,GAAY,YAAY,cACzD,EAAC,QAAD,CAAO,KAAK,SAAS,MAAO,EAAE,KAAK,GAAO,YAAY,QACtD,EAAC,SAAD,CAAQ,SAAU,GAAY,UAC7B,EAAE,GAAG,EAAY,IAChB,EAAE,KACA,EACA,AAAC,GAAY,EACb,AAAC,GAAY,EAAC,MAAD,CAAK,MAAM,aAAa,SAQ1C,GAAQ,GCrDf,GAAM,IAAuB,EAAc,CAAC,EAAG,IAAS,CACtD,EAAK,MAAM,KAAO,uBAElB,EAAa,GAEb,GAAM,CAAE,aAAc,EAAK,WAAW,SAChC,EAAY,UAEZ,EAAa,EAAU,IACvB,EAAmB,EAAU,GAC7B,EAAa,EAAU,IAAI,AAAC,GAAQ,aAAa,EAAI,QAAQ,EAAI,QACjE,EAAkB,EAAiB,IAAI,AAAC,GAAQ,EAAI,gBAAkB,GAEtE,EAAa,IAAM,CACvB,EAAiB,IAAI,IAGjB,EAAiB,IAAM,CAC3B,GAAM,GAAM,CAAC,KAAK,SAAW,IAAK,KAAK,SAAW,IAAK,KAAK,SAAW,KACpE,IAAI,KAAK,OACT,IAAI,AAAC,GAAM,EAAE,SAAS,KACtB,KAAK,IAER,EAAiB,IAAI,IAAM,IAG7B,MACE,GAAC,MAAD,CAAK,MAAM,WACT,EAAC,KAAD,KAAI,iCACJ,EAAC,MAAD,KACG,EAAE,GACD,EACA,EAAC,MAAD,CACE,MAAM,WACN,MAAO,CACL,UAAW,EACX,gBAAiB,MAKvB,EAAC,SAAD,CAAQ,QAAS,EAAgB,SAAU,EAAW,IAAI,AAAC,GAAQ,CAAC,IAAM,yBAIzE,EAAE,GACD,EACA,EAAC,SAAD,CAAQ,QAAS,EAAY,SAAU,EAAW,IAAI,AAAC,GAAQ,CAAC,IAAM,wBAKxE,EAAC,SAAD,CAAQ,QAAS,IAAM,EAAW,IAAI,AAAC,GAAQ,CAAC,IAC7C,EAAE,KAAK,EAAW,IAAI,AAAC,GAAS,EAAM,oBAAsB,0BAOhE,GAAQ,GC5Df,GAAM,IAAqB,EAAc,CAAC,EAAG,IAAS,CACpD,EAAK,MAAM,KAAO,qBAElB,EAAa,GAEb,GAAM,GAAW,EAAU,IACrB,EAAS,IAET,EAAS,EAAS,IAAI,AAAC,GAAS,EAAM,iBAAmB,WAEzD,EAAU,IACd,GAAS,IAAI,IAEN,EACJ,WAAW,SACX,IAAI,2CACJ,KAAK,AAAC,GAAQ,CACb,EAAO,IAAI,EAAI,KAAK,WAErB,QAAQ,IAAM,CACb,EAAS,IAAI,OAInB,SAAK,UAAU,IAAM,CACnB,MAIA,EAAC,MAAD,CAAK,MAAM,WACT,EAAC,KAAD,KAAI,sBACiB,EAAC,OAAD,KAAM,SAAY,YAEvC,EAAC,MAAD,KACE,EAAC,MAAD,CACE,IAAK,EACL,MAAO,CACL,OAAQ,QACR,OAAQ,sBAGZ,EAAC,SAAD,CAAQ,QAAS,GAAS,cACzB,EAAE,KAAK,OAMT,GAAQ,GCjCf,GAAM,IAAM,GAAQ,CAClB,KAAM,GACN,MAAO,CACL,OAAQ,IACR,IAAK,GACL,KAAM,GACN,MAAO,MAIX,GAAI,QAAQ,UAAW,IACvB,GAAI,QAAQ,QAAS,IAIrB,GAAI,MAAM,IAAK,CAAC,EAAG,IACjB,GAAK,MAAM,KAAO,YAClB,EAAK,MAAM,IAAI,MAEf,EAAa,GAEb,EAAK,QAAQ,AAAC,GAGV,EAAC,MAAD,KACE,EAAC,KAAD,KAAI,WACJ,EAAC,IAAD,KAAG,iDACH,EAAC,IAAD,KAAG,iDAC6C,EAAC,OAAD,KAAM,UAAa,yLAInE,EAAC,SAAD,CAAQ,QAAS,IAAM,IAAQ,MAAM,4DAA2D,cAOtG,EAAK,UAAU,IAAM,CACnB,GAAM,GAAO,EAAK,WAAW,SACvB,EAAQ,EAAK,WAAW,SAG9B,EAAK,WAAW,EAAM,UAAW,AAAC,GAAQ,CACxC,EAAK,OAAO,IAAI,KAAK,KAAK,MAAM,EAAI,QAAQ,KAAK,MAAM,EAAI,UAK7D,EAAC,MAAD,CAAK,MAAM,QACT,EAAC,MAAD,CAAK,MAAM,OACT,EAAC,KAAD,KACE,EAAC,KAAD,KACE,EAAC,IAAD,CAAG,KAAK,aAAY,aAEtB,EAAC,KAAD,KACE,EAAC,IAAD,CAAG,KAAK,eAAc,eAExB,EAAC,KAAD,KACE,EAAC,IAAD,CAAG,KAAK,eAAc,eAExB,EAAC,KAAD,KACE,EAAC,IAAD,CAAG,KAAK,mBAAkB,yBAK/B,EAAE,SACA,MAAM,WAAY,AAAC,GAClB,EAAC,MAAD,KACE,EAAC,GAAD,MACA,EAAC,GAAD,MACA,EAAC,GAAD,MACA,EAAC,GAAD,MACA,EAAC,GAAD,MACA,EAAC,GAAD,MACA,EAAC,GAAD,MACA,EAAC,GAAD,QAGH,MAAM,WAAY,AAAC,GAClB,EAAC,MAAD,KACE,EAAC,KAAD,KAAI,kBACH,EAAE,SACA,MAAM,MAAO,AAAC,GAAM,EAAC,KAAD,KAAI,cACxB,MAAM,MAAO,AAAC,GAAM,EAAC,KAAD,KAAI,cACxB,MAAM,IAAK,oBAO1B,GAAI,QAAQ",
  "names": []
}
