(()=>{var Vr=Object.create,Jt=Object.defineProperty,Jr=Object.getOwnPropertyDescriptor,Je=Object.getOwnPropertyNames,Xe=Object.getOwnPropertySymbols,Xr=Object.getPrototypeOf,Ye=Object.prototype.hasOwnProperty,Yr=Object.prototype.propertyIsEnumerable,be=(t,e,r)=>e in t?Jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Rt=(t,e)=>{for(var r in e||(e={}))Ye.call(e,r)&&be(t,r,e[r]);if(Xe)for(var r of Xe(e))Yr.call(e,r)&&be(t,r,e[r]);return t},Zr=t=>Jt(t,"__esModule",{value:!0}),Qr=(t,e)=>function(){return e||(0,t[Je(t)[0]])((e={exports:{}}).exports,e),e.exports},$r=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Je(e))!Ye.call(t,i)&&(r||i!=="default")&&Jt(t,i,{get:()=>e[i],enumerable:!(n=Jr(e,i))||n.enumerable});return t},tn=(t,e)=>$r(Zr(Jt(t!=null?Vr(Xr(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),U=(t,e,r)=>(be(t,typeof e!="symbol"?e+"":e,r),r),_e=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},P=(t,e,r)=>(_e(t,e,"read from private field"),r?r.call(t):e.get(t)),I=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},z=(t,e,r,n)=>(_e(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),J=(t,e,r)=>(_e(t,e,"access private method"),r),en=Qr({"node_modules/color-hash/dist/color-hash.js"(t){"use strict";var e=t&&t.__extends||function(){var R=function(h,y){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,j){O.__proto__=j}||function(O,j){for(var d in j)Object.prototype.hasOwnProperty.call(j,d)&&(O[d]=j[d])},R(h,y)};return function(h,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");R(h,y);function O(){this.constructor=h}h.prototype=y===null?Object.create(y):(O.prototype=y.prototype,new O)}}(),r=t&&t.__classPrivateFieldSet||function(R,h,y){if(!h.has(R))throw new TypeError("attempted to set private field on non-instance");return h.set(R,y),y},n=t&&t.__classPrivateFieldGet||function(R,h){if(!h.has(R))throw new TypeError("attempted to get private field on non-instance");return h.get(R)},i,o,s,p,c,l,f,_,A,E,S,g,w,b,a,u,m,v,k,W,M,K;t.__esModule=!0,t.default=void 0;var ve=function(R){var h=131,y=137,O=0;R+="x";for(var j=Math.floor(9007199254740991/y),d=0;d<R.length;d++)O>j&&(O=Math.floor(O/y)),O=O*h+R.charCodeAt(d);return O},C="0123456789abcdef".split(""),zr=[-2147483648,8388608,32768,128],et=[24,16,8,0],Kt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],V=[],ye=function(){function R(h,y){h===void 0&&(h=!1),y===void 0&&(y=!1),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),p.set(this,void 0),c.set(this,void 0),l.set(this,void 0),f.set(this,void 0),_.set(this,void 0),A.set(this,void 0),E.set(this,void 0),S.set(this,void 0),g.set(this,void 0),w.set(this,void 0),b.set(this,void 0),a.set(this,void 0),u.set(this,void 0),m.set(this,0),v.set(this,void 0),this.init(h,y)}return R.prototype.init=function(h,y){y?(V[0]=V[16]=V[1]=V[2]=V[3]=V[4]=V[5]=V[6]=V[7]=V[8]=V[9]=V[10]=V[11]=V[12]=V[13]=V[14]=V[15]=0,r(this,o,V)):r(this,o,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),h?(r(this,l,3238371032),r(this,f,914150663),r(this,_,812702999),r(this,A,4144912697),r(this,E,4290775857),r(this,S,1750603025),r(this,g,1694076839),r(this,w,3204075428)):(r(this,l,1779033703),r(this,f,3144134277),r(this,_,1013904242),r(this,A,2773480762),r(this,E,1359893119),r(this,S,2600822924),r(this,g,528734635),r(this,w,1541459225)),r(this,i,r(this,v,r(this,s,r(this,a,0)))),r(this,p,r(this,b,!1)),r(this,c,!0),r(this,u,h)},R.prototype.update=function(h){if(n(this,p))return this;var y;h instanceof ArrayBuffer?y=new Uint8Array(h):y=h;for(var O=0,j=y.length,d=n(this,o);O<j;){var x=void 0;if(n(this,b)&&(r(this,b,!1),d[0]=n(this,i),d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0),typeof y!="string")for(x=n(this,v);O<j&&x<64;++O)d[x>>2]|=y[O]<<et[x++&3];else for(x=n(this,v);O<j&&x<64;++O){var F=y.charCodeAt(O);F<128?d[x>>2]|=F<<et[x++&3]:F<2048?(d[x>>2]|=(192|F>>6)<<et[x++&3],d[x>>2]|=(128|F&63)<<et[x++&3]):F<55296||F>=57344?(d[x>>2]|=(224|F>>12)<<et[x++&3],d[x>>2]|=(128|F>>6&63)<<et[x++&3],d[x>>2]|=(128|F&63)<<et[x++&3]):(F=65536+((F&1023)<<10|y.charCodeAt(++O)&1023),d[x>>2]|=(240|F>>18)<<et[x++&3],d[x>>2]|=(128|F>>12&63)<<et[x++&3],d[x>>2]|=(128|F>>6&63)<<et[x++&3],d[x>>2]|=(128|F&63)<<et[x++&3])}r(this,m,x),r(this,s,n(this,s)+(x-n(this,v))),x>=64?(r(this,i,d[16]),r(this,v,x-64),this.hash(),r(this,b,!0)):r(this,v,x)}return n(this,s)>4294967295&&(r(this,a,n(this,a)+(n(this,s)/4294967296<<0)),r(this,s,n(this,s)%4294967296)),this},R.prototype.finalize=function(){if(!n(this,p)){r(this,p,!0);var h=n(this,o),y=n(this,m);h[16]=n(this,i),h[y>>2]|=zr[y&3],r(this,i,h[16]),y>=56&&(n(this,b)||this.hash(),h[0]=n(this,i),h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0),h[14]=n(this,a)<<3|n(this,s)>>>29,h[15]=n(this,s)<<3,this.hash()}},R.prototype.hash=function(){for(var h=n(this,l),y=n(this,f),O=n(this,_),j=n(this,A),d=n(this,E),x=n(this,S),F=n(this,g),D=n(this,w),L=n(this,o),B,q,rt,T,nt,mt,Mt,ge,we,Vt,yt=16;yt<64;++yt)T=L[yt-15],B=(T>>>7|T<<25)^(T>>>18|T<<14)^T>>>3,T=L[yt-2],q=(T>>>17|T<<15)^(T>>>19|T<<13)^T>>>10,L[yt]=L[yt-16]+B+L[yt-7]+q<<0;Vt=y&O;for(var ut=0;ut<64;ut+=4)n(this,c)?(n(this,u)?(Mt=300032,T=L[0]-1413257819,D=T-150054599<<0,j=T+24177077<<0):(Mt=704751109,T=L[0]-210244248,D=T-1521486534<<0,j=T+143694565<<0),r(this,c,!1)):(B=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),q=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),Mt=h&y,rt=Mt^h&O^Vt,mt=d&x^~d&F,T=D+q+mt+Kt[ut]+L[ut],nt=B+rt,D=j+T<<0,j=T+nt<<0),B=(j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10),q=(D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7),ge=j&h,rt=ge^j&y^Mt,mt=D&d^~D&x,T=F+q+mt+Kt[ut+1]+L[ut+1],nt=B+rt,F=O+T<<0,O=T+nt<<0,B=(O>>>2|O<<30)^(O>>>13|O<<19)^(O>>>22|O<<10),q=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),we=O&j,rt=we^O&h^ge,mt=F&D^~F&d,T=x+q+mt+Kt[ut+2]+L[ut+2],nt=B+rt,x=y+T<<0,y=T+nt<<0,B=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),q=(x>>>6|x<<26)^(x>>>11|x<<21)^(x>>>25|x<<7),Vt=y&O,rt=Vt^y&j^we,mt=x&F^~x&D,T=d+q+mt+Kt[ut+3]+L[ut+3],nt=B+rt,d=h+T<<0,h=T+nt<<0;r(this,l,n(this,l)+h<<0),r(this,f,n(this,f)+y<<0),r(this,_,n(this,_)+O<<0),r(this,A,n(this,A)+j<<0),r(this,E,n(this,E)+d<<0),r(this,S,n(this,S)+x<<0),r(this,g,n(this,g)+F<<0),r(this,w,n(this,w)+D<<0)},R.prototype.hex=function(){this.finalize();var h=n(this,l),y=n(this,f),O=n(this,_),j=n(this,A),d=n(this,E),x=n(this,S),F=n(this,g),D=n(this,w),L=C[h>>28&15]+C[h>>24&15]+C[h>>20&15]+C[h>>16&15]+C[h>>12&15]+C[h>>8&15]+C[h>>4&15]+C[h&15]+C[y>>28&15]+C[y>>24&15]+C[y>>20&15]+C[y>>16&15]+C[y>>12&15]+C[y>>8&15]+C[y>>4&15]+C[y&15]+C[O>>28&15]+C[O>>24&15]+C[O>>20&15]+C[O>>16&15]+C[O>>12&15]+C[O>>8&15]+C[O>>4&15]+C[O&15]+C[j>>28&15]+C[j>>24&15]+C[j>>20&15]+C[j>>16&15]+C[j>>12&15]+C[j>>8&15]+C[j>>4&15]+C[j&15]+C[d>>28&15]+C[d>>24&15]+C[d>>20&15]+C[d>>16&15]+C[d>>12&15]+C[d>>8&15]+C[d>>4&15]+C[d&15]+C[x>>28&15]+C[x>>24&15]+C[x>>20&15]+C[x>>16&15]+C[x>>12&15]+C[x>>8&15]+C[x>>4&15]+C[x&15]+C[F>>28&15]+C[F>>24&15]+C[F>>20&15]+C[F>>16&15]+C[F>>12&15]+C[F>>8&15]+C[F>>4&15]+C[F&15];return n(this,u)||(L+=C[D>>28&15]+C[D>>24&15]+C[D>>20&15]+C[D>>16&15]+C[D>>12&15]+C[D>>8&15]+C[D>>4&15]+C[D&15]),L},R.prototype.toString=function(){return this.hex()},R.prototype.digest=function(){this.finalize();var h=n(this,l),y=n(this,f),O=n(this,_),j=n(this,A),d=n(this,E),x=n(this,S),F=n(this,g),D=n(this,w),L=[h>>24&255,h>>16&255,h>>8&255,h&255,y>>24&255,y>>16&255,y>>8&255,y&255,O>>24&255,O>>16&255,O>>8&255,O&255,j>>24&255,j>>16&255,j>>8&255,j&255,d>>24&255,d>>16&255,d>>8&255,d&255,x>>24&255,x>>16&255,x>>8&255,x&255,F>>24&255,F>>16&255,F>>8&255,F&255];return n(this,u)||L.push(D>>24&255,D>>16&255,D>>8&255,D&255),L},R.prototype.array=function(){return this.digest()},R.prototype.arrayBuffer=function(){this.finalize();var h=new ArrayBuffer(n(this,u)?28:32),y=new DataView(h);return y.setUint32(0,n(this,l)),y.setUint32(4,n(this,f)),y.setUint32(8,n(this,_)),y.setUint32(12,n(this,A)),y.setUint32(16,n(this,E)),y.setUint32(20,n(this,S)),y.setUint32(24,n(this,g)),n(this,u)||y.setUint32(28,n(this,w)),h},R}();i=new WeakMap,o=new WeakMap,s=new WeakMap,p=new WeakMap,c=new WeakMap,l=new WeakMap,f=new WeakMap,_=new WeakMap,A=new WeakMap,E=new WeakMap,S=new WeakMap,g=new WeakMap,w=new WeakMap,b=new WeakMap,a=new WeakMap,u=new WeakMap,m=new WeakMap,v=new WeakMap;var vi=function(R){e(h,R);function h(y,O,j){O===void 0&&(O=!1),j===void 0&&(j=!1);var d=R.call(this,O,j)||this;k.set(d,void 0),W.set(d,void 0),M.set(d,void 0),K.set(d,void 0);var x;if(typeof y=="string"){for(var F=[],D=y.length,L=0,B=0;B<D;++B){var q=y.charCodeAt(B);q<128?F[L++]=q:q<2048?(F[L++]=192|q>>6,F[L++]=128|q&63):q<55296||q>=57344?(F[L++]=224|q>>12,F[L++]=128|q>>6&63,F[L++]=128|q&63):(q=65536+((q&1023)<<10|y.charCodeAt(++B)&1023),F[L++]=240|q>>18,F[L++]=128|q>>12&63,F[L++]=128|q>>6&63,F[L++]=128|q&63)}x=F}else y instanceof ArrayBuffer?x=new Uint8Array(y):x=y;x.length>64&&(x=new ye(O,!0).update(x).array());for(var rt=[],T=[],B=0;B<64;++B){var nt=x[B]||0;rt[B]=92^nt,T[B]=54^nt}return d.update(T),r(d,M,rt),r(d,k,!0),r(d,W,O),r(d,K,j),d}return h.prototype.finalize=function(){if(R.prototype.finalize.call(this),n(this,k)){r(this,k,!1);var y=this.array();R.prototype.init.call(this,n(this,W),n(this,K)),this.update(n(this,M)),this.update(y),R.prototype.finalize.call(this)}},h}(ye);k=new WeakMap,W=new WeakMap,M=new WeakMap,K=new WeakMap;function Br(R){var h=new ye;return h.update(R),parseInt(h.hex().substring(0,8),16)}var Hr=function(R){var h="#";return R.forEach(function(y){y<16&&(h+=0),h+=y.toString(16)}),h},Gr=function(R,h,y){R/=360;var O=y<.5?y*(1+h):y+h-y*h,j=2*y-O;return[R+1/3,R,R-1/3].map(function(d){return d<0&&d++,d>1&&d--,d<1/6?d=j+(O-j)*6*d:d<.5?d=O:d<2/3?d=j+(O-j)*6*(2/3-d):d=j,Math.round(d*255)})},Kr=function(){function R(h){h===void 0&&(h={});var y=[h.lightness,h.saturation].map(function(d){return d=d!==void 0?d:[.35,.5,.65],Array.isArray(d)?d.concat():[d]}),O=y[0],j=y[1];this.L=O,this.S=j,typeof h.hue=="number"&&(h.hue={min:h.hue,max:h.hue}),typeof h.hue=="object"&&!Array.isArray(h.hue)&&(h.hue=[h.hue]),typeof h.hue=="undefined"&&(h.hue=[]),this.hueRanges=h.hue.map(function(d){return{min:typeof d.min=="undefined"?0:d.min,max:typeof d.max=="undefined"?360:d.max}}),this.hash=Br,typeof h.hash=="function"&&(this.hash=h.hash),h.hash==="bkdr"&&(this.hash=ve)}return R.prototype.hsl=function(h){var y,O,j,d=this.hash(h),x=727;if(this.hueRanges.length){var F=this.hueRanges[d%this.hueRanges.length];y=d/this.hueRanges.length%x*(F.max-F.min)/x+F.min}else y=d%359;return d=Math.ceil(d/360),O=this.S[d%this.S.length],d=Math.ceil(d/this.S.length),j=this.L[d%this.L.length],[y,O,j]},R.prototype.rgb=function(h){var y=this.hsl(h);return Gr.apply(this,y)},R.prototype.hex=function(h){var y=this.rgb(h);return Hr(y)},R}();t.default=Kr}});function St(){return St=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},St.apply(this,arguments)}var lt,ke=lt||(lt={});ke.Pop="POP";ke.Push="PUSH";ke.Replace="REPLACE";var Xt=function(t){return Object.freeze(t)};function Yt(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw Error(e)}catch(r){}}}function Zt(t){t.preventDefault(),t.returnValue=""}function Qt(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter(function(r){return r!==e})}},call:function(e){t.forEach(function(r){return r&&r(e)})}}}function Ze(){return Math.random().toString(36).substr(2,8)}function $t(t){var e=t.pathname;e=e===void 0?"/":e;var r=t.search;return r=r===void 0?"":r,t=t.hash,t=t===void 0?"":t,r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function xe(t){var e={};if(t){var r=t.indexOf("#");0<=r&&(e.hash=t.substr(r),t=t.substr(0,r)),r=t.indexOf("?"),0<=r&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rn(t){function e(){var w=c.location,b=l.state||{};return[b.idx,Xt({pathname:w.pathname,search:w.search,hash:w.hash,state:b.usr||null,key:b.key||"default"})]}function r(w){return typeof w=="string"?w:$t(w)}function n(w,b){return b===void 0&&(b=null),Xt(St({pathname:E.pathname,hash:"",search:""},typeof w=="string"?xe(w):w,{state:b,key:Ze()}))}function i(w){_=w,w=e(),A=w[0],E=w[1],S.call({action:_,location:E})}function o(w,b){function a(){o(w,b)}var u=lt.Push,m=n(w,b);if(!g.length||(g.call({action:u,location:m,retry:a}),!1)){var v=[{usr:m.state,key:m.key,idx:A+1},r(m)];m=v[0],v=v[1];try{l.pushState(m,"",v)}catch(k){c.location.assign(v)}i(u)}}function s(w,b){function a(){s(w,b)}var u=lt.Replace,m=n(w,b);g.length&&(g.call({action:u,location:m,retry:a}),1)||(m=[{usr:m.state,key:m.key,idx:A},r(m)],l.replaceState(m[0],"",m[1]),i(u))}function p(w){l.go(w)}t===void 0&&(t={}),t=t.window;var c=t===void 0?document.defaultView:t,l=c.history,f=null;c.addEventListener("popstate",function(){if(f)g.call(f),f=null;else{var w=lt.Pop,b=e(),a=b[0];if(b=b[1],g.length)if(a!=null){var u=A-a;u&&(f={action:w,location:b,retry:function(){p(-1*u)}},p(u))}else Yt(!1,"You are trying to block a POP navigation to a location that was not created by the history library. The block will fail silently in production, but in general you should do all navigation with the history library (instead of using window.history.pushState directly) to avoid this situation.");else i(w)}});var _=lt.Pop;t=e();var A=t[0],E=t[1],S=Qt(),g=Qt();return A==null&&(A=0,l.replaceState(St({},l.state,{idx:A}),"")),{get action(){return _},get location(){return E},createHref:r,push:o,replace:s,go:p,back:function(){p(-1)},forward:function(){p(1)},listen:function(w){return S.push(w)},block:function(w){var b=g.push(w);return g.length===1&&c.addEventListener("beforeunload",Zt),function(){b(),g.length||c.removeEventListener("beforeunload",Zt)}}}}function nn(t){function e(){var b=xe(l.location.hash.substr(1)),a=b.pathname,u=b.search;b=b.hash;var m=f.state||{};return[m.idx,Xt({pathname:a===void 0?"/":a,search:u===void 0?"":u,hash:b===void 0?"":b,state:m.usr||null,key:m.key||"default"})]}function r(){if(_)w.call(_),_=null;else{var b=lt.Pop,a=e(),u=a[0];if(a=a[1],w.length)if(u!=null){var m=E-u;m&&(_={action:b,location:a,retry:function(){c(-1*m)}},c(m))}else Yt(!1,"You are trying to block a POP navigation to a location that was not created by the history library. The block will fail silently in production, but in general you should do all navigation with the history library (instead of using window.history.pushState directly) to avoid this situation.");else o(b)}}function n(b){var a=document.querySelector("base"),u="";return a&&a.getAttribute("href")&&(a=l.location.href,u=a.indexOf("#"),u=u===-1?a:a.slice(0,u)),u+"#"+(typeof b=="string"?b:$t(b))}function i(b,a){return a===void 0&&(a=null),Xt(St({pathname:S.pathname,hash:"",search:""},typeof b=="string"?xe(b):b,{state:a,key:Ze()}))}function o(b){A=b,b=e(),E=b[0],S=b[1],g.call({action:A,location:S})}function s(b,a){function u(){s(b,a)}var m=lt.Push,v=i(b,a);if(Yt(v.pathname.charAt(0)==="/","Relative pathnames are not supported in hash history.push("+JSON.stringify(b)+")"),!w.length||(w.call({action:m,location:v,retry:u}),!1)){var k=[{usr:v.state,key:v.key,idx:E+1},n(v)];v=k[0],k=k[1];try{f.pushState(v,"",k)}catch(W){l.location.assign(k)}o(m)}}function p(b,a){function u(){p(b,a)}var m=lt.Replace,v=i(b,a);Yt(v.pathname.charAt(0)==="/","Relative pathnames are not supported in hash history.replace("+JSON.stringify(b)+")"),w.length&&(w.call({action:m,location:v,retry:u}),1)||(v=[{usr:v.state,key:v.key,idx:E},n(v)],f.replaceState(v[0],"",v[1]),o(m))}function c(b){f.go(b)}t===void 0&&(t={}),t=t.window;var l=t===void 0?document.defaultView:t,f=l.history,_=null;l.addEventListener("popstate",r),l.addEventListener("hashchange",function(){var b=e()[1];$t(b)!==$t(S)&&r()});var A=lt.Pop;t=e();var E=t[0],S=t[1],g=Qt(),w=Qt();return E==null&&(E=0,f.replaceState(St({},f.state,{idx:E}),"")),{get action(){return A},get location(){return S},createHref:n,push:s,replace:p,go:c,back:function(){c(-1)},forward:function(){c(1)},listen:function(b){return g.push(b)},block:function(b){var a=w.push(b);return w.length===1&&l.addEventListener("beforeunload",Zt),function(){a(),w.length||l.removeEventListener("beforeunload",Zt)}}}}var on=Object.create,te=Object.defineProperty,an=Object.defineProperties,sn=Object.getOwnPropertyDescriptor,cn=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertyNames,$e=Object.getOwnPropertySymbols,un=Object.getPrototypeOf,tr=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,er=(t,e,r)=>e in t?te(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rr=(t,e)=>{for(var r in e||(e={}))tr.call(e,r)&&er(t,r,e[r]);if($e)for(var r of $e(e))ln.call(e,r)&&er(t,r,e[r]);return t},nr=(t,e)=>an(t,cn(e)),hn=t=>te(t,"__esModule",{value:!0}),Tt=(t,e)=>function(){return e||(0,t[Qe(t)[0]])((e={exports:{}}).exports,e),e.exports},fn=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Qe(e))!tr.call(t,i)&&(r||i!=="default")&&te(t,i,{get:()=>e[i],enumerable:!(n=sn(e,i))||n.enumerable});return t},dn=(t,e)=>fn(hn(te(t!=null?on(un(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),pn=Tt({"node_modules/strict-uri-encode/index.js"(t,e){"use strict";e.exports=r=>encodeURIComponent(r).replace(/[!'()*]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`)}}),mn=Tt({"node_modules/decode-uri-component/index.js"(t,e){"use strict";var r="%[a-f0-9]{2}",n=new RegExp(r,"gi"),i=new RegExp("("+r+")+","gi");function o(c,l){try{return decodeURIComponent(c.join(""))}catch(A){}if(c.length===1)return c;l=l||1;var f=c.slice(0,l),_=c.slice(l);return Array.prototype.concat.call([],o(f),o(_))}function s(c){try{return decodeURIComponent(c)}catch(_){for(var l=c.match(n),f=1;f<l.length;f++)c=o(l,f).join(""),l=c.match(n);return c}}function p(c){for(var l={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},f=i.exec(c);f;){try{l[f[0]]=decodeURIComponent(f[0])}catch(g){var _=s(f[0]);_!==f[0]&&(l[f[0]]=_)}f=i.exec(c)}l["%C2"]="\uFFFD";for(var A=Object.keys(l),E=0;E<A.length;E++){var S=A[E];c=c.replace(new RegExp(S,"g"),l[S])}return c}e.exports=function(c){if(typeof c!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof c+"`");try{return c=c.replace(/\+/g," "),decodeURIComponent(c)}catch(l){return p(c)}}}}),vn=Tt({"node_modules/split-on-first/index.js"(t,e){"use strict";e.exports=(r,n)=>{if(!(typeof r=="string"&&typeof n=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(n==="")return[r];let i=r.indexOf(n);return i===-1?[r]:[r.slice(0,i),r.slice(i+n.length)]}}}),yn=Tt({"node_modules/filter-obj/index.js"(t,e){"use strict";e.exports=function(r,n){for(var i={},o=Object.keys(r),s=Array.isArray(n),p=0;p<o.length;p++){var c=o[p],l=r[c];(s?n.indexOf(c)!==-1:n(c,l,r))&&(i[c]=l)}return i}}}),gn=Tt({"node_modules/query-string/index.js"(t){"use strict";var e=pn(),r=mn(),n=vn(),i=yn(),o=a=>a==null,s=Symbol("encodeFragmentIdentifier");function p(a){switch(a.arrayFormat){case"index":return u=>(m,v)=>{let k=m.length;return v===void 0||a.skipNull&&v===null||a.skipEmptyString&&v===""?m:v===null?[...m,[f(u,a),"[",k,"]"].join("")]:[...m,[f(u,a),"[",f(k,a),"]=",f(v,a)].join("")]};case"bracket":return u=>(m,v)=>v===void 0||a.skipNull&&v===null||a.skipEmptyString&&v===""?m:v===null?[...m,[f(u,a),"[]"].join("")]:[...m,[f(u,a),"[]=",f(v,a)].join("")];case"comma":case"separator":case"bracket-separator":{let u=a.arrayFormat==="bracket-separator"?"[]=":"=";return m=>(v,k)=>k===void 0||a.skipNull&&k===null||a.skipEmptyString&&k===""?v:(k=k===null?"":k,v.length===0?[[f(m,a),u,f(k,a)].join("")]:[[v,f(k,a)].join(a.arrayFormatSeparator)])}default:return u=>(m,v)=>v===void 0||a.skipNull&&v===null||a.skipEmptyString&&v===""?m:v===null?[...m,f(u,a)]:[...m,[f(u,a),"=",f(v,a)].join("")]}}function c(a){let u;switch(a.arrayFormat){case"index":return(m,v,k)=>{if(u=/\[(\d*)\]$/.exec(m),m=m.replace(/\[\d*\]$/,""),!u){k[m]=v;return}k[m]===void 0&&(k[m]={}),k[m][u[1]]=v};case"bracket":return(m,v,k)=>{if(u=/(\[\])$/.exec(m),m=m.replace(/\[\]$/,""),!u){k[m]=v;return}if(k[m]===void 0){k[m]=[v];return}k[m]=[].concat(k[m],v)};case"comma":case"separator":return(m,v,k)=>{let W=typeof v=="string"&&v.includes(a.arrayFormatSeparator),M=typeof v=="string"&&!W&&_(v,a).includes(a.arrayFormatSeparator);v=M?_(v,a):v;let K=W||M?v.split(a.arrayFormatSeparator).map(ve=>_(ve,a)):v===null?v:_(v,a);k[m]=K};case"bracket-separator":return(m,v,k)=>{let W=/(\[\])$/.test(m);if(m=m.replace(/\[\]$/,""),!W){k[m]=v&&_(v,a);return}let M=v===null?[]:v.split(a.arrayFormatSeparator).map(K=>_(K,a));if(k[m]===void 0){k[m]=M;return}k[m]=[].concat(k[m],M)};default:return(m,v,k)=>{if(k[m]===void 0){k[m]=v;return}k[m]=[].concat(k[m],v)}}}function l(a){if(typeof a!="string"||a.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function f(a,u){return u.encode?u.strict?e(a):encodeURIComponent(a):a}function _(a,u){return u.decode?r(a):a}function A(a){return Array.isArray(a)?a.sort():typeof a=="object"?A(Object.keys(a)).sort((u,m)=>Number(u)-Number(m)).map(u=>a[u]):a}function E(a){let u=a.indexOf("#");return u!==-1&&(a=a.slice(0,u)),a}function S(a){let u="",m=a.indexOf("#");return m!==-1&&(u=a.slice(m)),u}function g(a){a=E(a);let u=a.indexOf("?");return u===-1?"":a.slice(u+1)}function w(a,u){return u.parseNumbers&&!Number.isNaN(Number(a))&&typeof a=="string"&&a.trim()!==""?a=Number(a):u.parseBooleans&&a!==null&&(a.toLowerCase()==="true"||a.toLowerCase()==="false")&&(a=a.toLowerCase()==="true"),a}function b(a,u){u=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},u),l(u.arrayFormatSeparator);let m=c(u),v=Object.create(null);if(typeof a!="string"||(a=a.trim().replace(/^[?#&]/,""),!a))return v;for(let k of a.split("&")){if(k==="")continue;let[W,M]=n(u.decode?k.replace(/\+/g," "):k,"=");M=M===void 0?null:["comma","separator","bracket-separator"].includes(u.arrayFormat)?M:_(M,u),m(_(W,u),M,v)}for(let k of Object.keys(v)){let W=v[k];if(typeof W=="object"&&W!==null)for(let M of Object.keys(W))W[M]=w(W[M],u);else v[k]=w(W,u)}return u.sort===!1?v:(u.sort===!0?Object.keys(v).sort():Object.keys(v).sort(u.sort)).reduce((k,W)=>{let M=v[W];return Boolean(M)&&typeof M=="object"&&!Array.isArray(M)?k[W]=A(M):k[W]=M,k},Object.create(null))}t.extract=g,t.parse=b,t.stringify=(a,u)=>{if(!a)return"";u=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},u),l(u.arrayFormatSeparator);let m=M=>u.skipNull&&o(a[M])||u.skipEmptyString&&a[M]==="",v=p(u),k={};for(let M of Object.keys(a))m(M)||(k[M]=a[M]);let W=Object.keys(k);return u.sort!==!1&&W.sort(u.sort),W.map(M=>{let K=a[M];return K===void 0?"":K===null?f(M,u):Array.isArray(K)?K.length===0&&u.arrayFormat==="bracket-separator"?f(M,u)+"[]":K.reduce(v(M),[]).join("&"):f(M,u)+"="+f(K,u)}).filter(M=>M.length>0).join("&")},t.parseUrl=(a,u)=>{u=Object.assign({decode:!0},u);let[m,v]=n(a,"#");return Object.assign({url:m.split("?")[0]||"",query:b(g(a),u)},u&&u.parseFragmentIdentifier&&v?{fragmentIdentifier:_(v,u)}:{})},t.stringifyUrl=(a,u)=>{u=Object.assign({encode:!0,strict:!0,[s]:!0},u);let m=E(a.url).split("?")[0]||"",v=t.extract(a.url),k=t.parse(v,{sort:!1}),W=Object.assign(k,a.query),M=t.stringify(W,u);M&&(M=`?${M}`);let K=S(a.url);return a.fragmentIdentifier&&(K=`#${u[s]?f(a.fragmentIdentifier,u):a.fragmentIdentifier}`),`${m}${M}${K}`},t.pick=(a,u,m)=>{m=Object.assign({parseFragmentIdentifier:!0,[s]:!1},m);let{url:v,query:k,fragmentIdentifier:W}=t.parseUrl(a,m);return t.stringifyUrl({url:v,query:i(k,u),fragmentIdentifier:W},m)},t.exclude=(a,u,m)=>{let v=Array.isArray(u)?k=>!u.includes(k):(k,W)=>!u(k,W);return t.pick(a,v,m)}}}),wn=dn(gn()),Y={Literal:1,Param:2,Wildcard:3};function ir(){let t=[];return{on(e,r={}){let i={fragments:bn(e).fragments,props:r};return t=kn([...t,i]),function(){t.splice(t.indexOf(i),1)}},match(e,r={}){let[n,i]=e.split("?"),{willMatch:o}=r;return _n(t,n,i,o)},get routes(){return t.map(e=>e)}}}function or(t){return t.split("/").map(e=>e.trim()).filter(e=>e!=="")}function bn(t){let e=or(t),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i==="*"){if(n!==e.length-1)throw new Error(`Wildcard must be at the end of a route. Received: ${t}`);r.push({type:Y.Wildcard,name:"*",value:null})}else i[0]===":"?r.push({type:Y.Param,name:i.slice(1),value:null}):r.push({type:Y.Literal,name:i,value:i})}return{fragments:r}}function _n(t,e,r,n){var i;let o=or(e);t:for(let s of t){let{fragments:p}=s;if(!(((i=p[p.length-1])==null?void 0:i.type)===Y.Wildcard)&&p.length!==o.length)continue t;let l=[];e:for(let E=0;E<p.length;E++){let S=o[E],g=p[E];if(S==null&&g.type!==Y.Wildcard)continue t;switch(g.type){case Y.Literal:if(g.value.toLowerCase()===S.toLowerCase()){l.push(g);break}else continue t;case Y.Param:l.push(nr(rr({},g),{value:S}));break;case Y.Wildcard:l.push(nr(rr({},g),{value:o.slice(E).join("/")}));break e;default:throw new Error(`Unknown fragment type: ${g.type}`)}}let f=Object.create(null),_=null;for(let E of l)E.type===Y.Param&&(f[E.name]=E.value),E.type===Y.Wildcard&&(_=E.value);let A={path:l.map(E=>E.value).join("/"),route:p.map(E=>E.type===Y.Param?":"+E.name:E.name).join("/"),params:f,query:r?wn.default.parse(r):Object.create(null),wildcard:_,props:s.props};if(n==null||n(A))return A}}function kn(t){let e=[],r=[],n=[];for(let o of t)o.fragments.some(s=>s.type===Y.Wildcard)?n.push(o):o.fragments.some(s=>s.type===Y.Param)?r.push(o):e.push(o);let i=(o,s)=>o.fragments.length>s.fragments.length?-1:1;return e.sort(i),r.sort(i),n.sort(i),[...e,...r,...n]}var Et=t=>typeof t=="function",Z=t=>typeof t=="string",ar=t=>typeof t=="number",ee=t=>Array.isArray(t),it=t=>t!=null&&typeof t=="object"&&!ee(t),sr=t=>t&&t.isDolla===!0,Wt=t=>t&&t.isNode===!0,Se=t=>t&&t.isComponent===!0,xn=t=>t&&t.isService===!0;function ht(t){return typeof t=="object"&&t.isState}function ot(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(!1)var i,o;throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ot(t){return!!t&&!!t[Q]}function gt(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var r=Object.getPrototypeOf(e);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===jn}(t)||Array.isArray(t)||!!t[yr]||!!t.constructor[yr]||Oe(t)||Ce(t))}function Dt(t,e,r){r===void 0&&(r=!1),Ct(t)===0?(r?Object.keys:Ie)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function Ct(t){var e=t[Q];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Oe(t)?2:Ce(t)?3:0}function Ee(t,e){return Ct(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Sn(t,e){return Ct(t)===2?t.get(e):t[e]}function cr(t,e,r){var n=Ct(t);n===2?t.set(e,r):n===3?(t.delete(e),t.add(r)):t[e]=r}function En(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Oe(t){return An&&t instanceof Map}function Ce(t){return Fn&&t instanceof Set}function wt(t){return t.o||t.t}function Pe(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Mn(t);delete e[Q];for(var r=Ie(e),n=0;n<r.length;n++){var i=r[n],o=e[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Ae(t,e){return e===void 0&&(e=!1),Fe(t)||Ot(t)||!gt(t)||(Ct(t)>1&&(t.set=t.add=t.clear=t.delete=On),Object.freeze(t),e&&Dt(t,function(r,n){return Ae(n,!0)},!0)),t}function On(){ot(2)}function Fe(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function pt(t){var e=Rn[t];return e||ot(18,t),e}function ur(){return Nt}function je(t,e){e&&(pt("Patches"),t.u=[],t.s=[],t.v=e)}function re(t){Me(t),t.p.forEach(Cn),t.p=null}function Me(t){t===Nt&&(Nt=t.l)}function lr(t){return Nt={p:[],l:Nt,h:t,m:!0,_:0}}function Cn(t){var e=t[Q];e.i===0||e.i===1?e.j():e.O=!0}function Re(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.g||pt("ES5").S(e,t,n),n?(r[Q].P&&(re(e),ot(4)),gt(t)&&(t=ne(e,t),e.l||ie(e,t)),e.u&&pt("Patches").M(r[Q],t,e.u,e.s)):t=ne(e,r,[]),re(e),e.u&&e.v(e.u,e.s),t!==vr?t:void 0}function ne(t,e,r){if(Fe(e))return e;var n=e[Q];if(!n)return Dt(e,function(o,s){return hr(t,n,e,o,s,r)},!0),e;if(n.A!==t)return e;if(!n.P)return ie(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=Pe(n.k):n.o;Dt(n.i===3?new Set(i):i,function(o,s){return hr(t,n,i,o,s,r)}),ie(t,i,!1),r&&t.u&&pt("Patches").R(n,r,t.u,t.s)}return n.o}function hr(t,e,r,n,i,o){if(Ot(i)){var s=ne(t,i,o&&e&&e.i!==3&&!Ee(e.D,n)?o.concat(n):void 0);if(cr(r,n,s),!Ot(s))return;t.m=!1}if(gt(i)&&!Fe(i)){if(!t.h.F&&t._<1)return;ne(t,i),e&&e.A.l||ie(t,i)}}function ie(t,e,r){r===void 0&&(r=!1),t.h.F&&t.m&&Ae(e,r)}function Te(t,e){var r=t[Q];return(r?wt(r):t)[e]}function fr(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function We(t){t.P||(t.P=!0,t.l&&We(t.l))}function De(t){t.o||(t.o=Pe(t.t))}function Ne(t,e,r){var n=Oe(e)?pt("MapSet").N(e,r):Ce(e)?pt("MapSet").T(e,r):t.g?function(i,o){var s=Array.isArray(i),p={i:s?1:0,A:o?o.A:ur(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},c=p,l=oe;s&&(c=[p],l=ae);var f=Proxy.revocable(c,l),_=f.revoke,A=f.proxy;return p.k=A,p.j=_,A}(e,r):pt("ES5").J(e,r);return(r?r.A:ur()).p.push(n),n}function Pn(t){return Ot(t)||ot(22,t),function e(r){if(!gt(r))return r;var n,i=r[Q],o=Ct(r);if(i){if(!i.P&&(i.i<4||!pt("ES5").K(i)))return i.t;i.I=!0,n=dr(r,o),i.I=!1}else n=dr(r,o);return Dt(n,function(s,p){i&&Sn(i.t,s)===p||cr(n,s,e(p))}),o===3?new Set(n):n}(t)}function dr(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Pe(t)}var pr,Nt,Le=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",An=typeof Map!="undefined",Fn=typeof Set!="undefined",mr=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",vr=Le?Symbol.for("immer-nothing"):((pr={})["immer-nothing"]=!0,pr),yr=Le?Symbol.for("immer-draftable"):"__$immer_draftable",Q=Le?Symbol.for("immer-state"):"__$immer_state",wi=typeof Symbol!="undefined"&&Symbol.iterator||"@@iterator",jn=""+Object.prototype.constructor,Ie=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Mn=Object.getOwnPropertyDescriptors||function(t){var e={};return Ie(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},Rn={},oe={get:function(t,e){if(e===Q)return t;var r=wt(t);if(!Ee(r,e))return function(i,o,s){var p,c=fr(o,s);return c?"value"in c?c.value:(p=c.get)===null||p===void 0?void 0:p.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!gt(n)?n:n===Te(t.t,e)?(De(t),t.o[e]=Ne(t.A.h,n,t)):n},has:function(t,e){return e in wt(t)},ownKeys:function(t){return Reflect.ownKeys(wt(t))},set:function(t,e,r){var n=fr(wt(t),e);if(n==null?void 0:n.set)return n.set.call(t.k,r),!0;if(!t.P){var i=Te(wt(t),e),o=i==null?void 0:i[Q];if(o&&o.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(En(r,i)&&(r!==void 0||Ee(t.t,e)))return!0;De(t),We(t)}return t.o[e]===r&&typeof r!="number"&&(r!==void 0||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return Te(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,De(t),We(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=wt(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){ot(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ot(12)}},ae={};Dt(oe,function(t,e){ae[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ae.deleteProperty=function(t,e){return oe.deleteProperty.call(this,t[0],e)},ae.set=function(t,e,r){return oe.set.call(this,t[0],e,r,t[0])};var Tn=function(){function t(r){var n=this;this.g=mr,this.F=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var p=o;o=i;var c=n;return function(E){var S=this;E===void 0&&(E=p);for(var g=arguments.length,w=Array(g>1?g-1:0),b=1;b<g;b++)w[b-1]=arguments[b];return c.produce(E,function(a){var u;return(u=o).call.apply(u,[S,a].concat(w))})}}var l;if(typeof o!="function"&&ot(6),s!==void 0&&typeof s!="function"&&ot(7),gt(i)){var f=lr(n),_=Ne(n,i,void 0),A=!0;try{l=o(_),A=!1}finally{A?re(f):Me(f)}return typeof Promise!="undefined"&&l instanceof Promise?l.then(function(E){return je(f,s),Re(E,f)},function(E){throw re(f),E}):(je(f,s),Re(l,f))}if(!i||typeof i!="object")return(l=o(i))===vr?void 0:(l===void 0&&(l=i),n.F&&Ae(l,!0),l);ot(21,i)},this.produceWithPatches=function(i,o){return typeof i=="function"?function(c){for(var l=arguments.length,f=Array(l>1?l-1:0),_=1;_<l;_++)f[_-1]=arguments[_];return n.produceWithPatches(c,function(A){return i.apply(void 0,[A].concat(f))})}:[n.produce(i,o,function(c,l){s=c,p=l}),s,p];var s,p},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){gt(r)||ot(8),Ot(r)&&(r=Pn(r));var n=lr(this),i=Ne(this,r,void 0);return i[Q].C=!0,Me(n),i},e.finishDraft=function(r,n){var i=r&&r[Q],o=i.A;return je(o,n),Re(void 0,o)},e.setAutoFreeze=function(r){this.F=r},e.setUseProxies=function(r){r&&!mr&&ot(20),this.g=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var s=pt("Patches").$;return Ot(r)?s(r,n):this.produce(r,function(p){return s(p,n)})},t}(),$=new Tn,Wn=$.produce,bi=$.produceWithPatches.bind($),_i=$.setAutoFreeze.bind($),ki=$.setUseProxies.bind($),xi=$.applyPatches.bind($),Si=$.createDraft.bind($),Ei=$.finishDraft.bind($),Dn=Wn;function ft(t,e){if(t!=null){let r=Nn(e),n=t;for(;r.length>0;){let i=r.shift();if(i==="*"){if(Array.isArray(n))return n.map(o=>ft(o,r.join(".")));n=void 0}else n!=null?n=n[i]:n=void 0}return n}}function Nn(t){return String(t).split(/[\.\[\]]/).filter(e=>e.trim()!=="")}var Lt=t=>typeof t=="object"&&!Array.isArray(t),at=t=>t instanceof Function,Pt=t=>typeof t=="string",gr=t=>Array.isArray(t);function At(t,e){if(t===e)return!0;if(Lt(t)&&Lt(e)){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i in t)if(!At(t[i],e[i]))return!1;return!0}if(gr(t)&&gr(e)){if(t.length!==e.length)return!1;for(let r in t)if(!At(t[r],e[r]))return!1;return!0}return t===e}function N(t){let e=t,r=[];return{get(n){return n!==void 0?ft(e,n):e},set(n){if(at(n)&&(n=Dn(e,i=>n(i))),!At(e,n)){e=n;for(let i of r)i(e)}},watch(...n){let i,o,s={};if(Pt(n[0])&&(i=n.shift()),at(n[0])&&(o=n.shift()),Lt(n[0])&&(s=n.shift()),!at(o))throw new TypeError(`Expected a watcher function but none was passed. Received: ${n}`);if(i){let p,c=o;o=l=>{if(l=ft(l,i),!At(l,p))return p=l,c(l)}}return s.immediate&&o(e),r.push(o),function(){r.splice(r.indexOf(o),1)}},map(...n){let i,o=s=>s;if(Pt(n[0])&&(i=n.shift()),at(n[0])&&(o=n.shift()),i){let s=o;o=p=>s(ft(p,i))}return qe(this,o)},toString(){return String(e)},get isState(){return!0}}}function qe(t,e){return{get(r){let n=e(t.get());return r!==void 0&&(n=ft(n,r)),n},watch(...r){let n,i,o={};if(Pt(r[0])&&(n=r.shift()),at(r[0])&&(i=r.shift()),Lt(r[0])&&(o=r.shift()),!at(i))throw new TypeError(`Expected a watcher function. Received: ${i}`);if(n){let s,p=i;i=c=>{if(c=ft(c,n),!At(c,s))return s=c,p(c)}}return t.watch(s=>{i(e(s))},o)},map(...r){let n,i=o=>o;if(Pt(r[0])&&(n=r.shift()),at(r[0])&&(i=r.shift()),n){let o=i;i=s=>o(ft(s,n))}return qe(this,i)},toString(){return t.toString()},get isState(){return!0}}}function wr(...t){let e=t.pop(),r=t;if(!at(e))throw new TypeError(`Last argument should be a function. Got: ${e}`);return{get(n){let i=e(...r.map(o=>o.get()));return n!==void 0?ft(i,n):i},watch(...n){let i,o,s={};if(Pt(n[0])&&(i=n.shift()),at(n[0])&&(o=n.shift()),Lt(n[0])&&(s=n.shift()),!at(o))throw new TypeError(`Expected a watcher function but none was passed. Received: ${n}`);if(i){let c,l=o;o=f=>{if(f=ft(f,i),!At(f,c))return c=f,l(f)}}s.immediate&&o(current);let p=[];for(let c of r)p.push(c.watch(()=>{o(this.get())}));return function(){for(let c of p)c()}},map(...n){let i,o=s=>s;if(Pt(n[0])&&(i=n.shift()),at(n[0])&&(o=n.shift()),i){let s=o;o=p=>s(ft(p,i))}return qe(this,o)},toString(){return String(this.get())},get isState(){return!0}}}var It,Ft=class{constructor(){U(this,"element"),I(this,It,[])}get isNode(){return!0}get isConnected(){var t;return((t=this.element)==null?void 0:t.parentNode)!=null}createElement(){return document.createTextNode("")}watchState(t,...e){P(this,It).push(t.watch(...e))}connect(t,e=null){let r=this.isConnected;r||(this.element=this.createElement(),this.beforeConnect()),t.insertBefore(this.element,e?e.nextSibling:null),r||this.connected()}disconnect(){this.isConnected&&(this.beforeDisconnect(),this.element.parentNode.removeChild(this.element),this.disconnected(),this.element=null);for(let t of P(this,It))t();z(this,It,[])}beforeConnect(){}connected(){}beforeDisconnect(){}disconnected(){}};It=new WeakMap;var qt={private:["ref","children","class","value","style","data"],boolean:["disabled","contenteditable","draggable","hidden","spellcheck","autocomplete","autofocus","translate"],events:["onclick","ondblclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onmouseenter","onmouseleave","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ondragstart","ondrag","ondragenter","ondragleave","ondragover","ondrop","ondragend","onkeydown","onkeypress","onkeyup","onunload","onabort","onerror","onresize","onscroll","onselect","onchange","onsubmit","onreset","onfocus","onblur","oninput","onanimationend","onanimationiteration","onanimationstart"]},Ue,br,ze,_r,Be,kr,He,xr,vt,bt,Ln=class extends Ft{constructor(t,e={},r=[]){super();I(this,Ue),I(this,ze),I(this,Be),I(this,He),I(this,vt),U(this,"tag"),U(this,"attrs"),U(this,"children"),U(this,"watchers",[]),this.tag=t,this.attrs=e,this.children=r}get isElement(){return!0}createElement(){return document.createElement(this.tag)}beforeConnect(){let t=null;for(let e of this.children)e.connect(this.element,t==null?void 0:t.$element),t=e;J(this,He,xr).call(this),J(this,Be,kr).call(this),J(this,ze,_r).call(this),J(this,Ue,br).call(this)}connected(){this.attrs.ref&&this.attrs.ref.set(this.element)}disconnected(){for(let t of this.children)t.disconnect();for(let t of this.watchers)t();this.watchers=[]}};Ue=new WeakSet;br=function(){for(let t in this.attrs)if(!qt.private.includes(t)&&qt.events.includes(t)){let e=t.slice(2).toLowerCase(),r=this.attrs[t];this.element.addEventListener(e,r),this.watchers.push(()=>{this.element.removeEventListener(e,r)})}};ze=new WeakSet;_r=function(){if(this.attrs.class){let t=Sr(this.attrs.class);for(let e in t){let r=t[e];ht(r)?J(this,vt,bt).call(this,r,n=>{n?this.element.classList.add(e):this.element.classList.remove(e)}):r&&this.element.classList.add(e)}}};Be=new WeakSet;kr=function(){let{style:t}=this.attrs;if(t){if(ht(t))throw new TypeError(`Style attributes only supports states as properties in a style object. Got a state as the style value: ${t}`);if(Z(t))this.element.style=t;else if(it(t))for(let e in t){let r=this.attrs.style[e];if(ht(r))J(this,vt,bt).call(this,r,n=>{this.element.style[e]=n});else if(Z(r))this.element.style[e]=r;else if(ar(r))this.element.style[e]=r+"px";else throw new TypeError(`Style value should be a string or number. Received (${e}: ${r})`)}else throw new TypeError(`Expected style attribute to be a string or object. Got: ${t}`)}};He=new WeakSet;xr=function(){for(let t in this.attrs){let e=this.attrs[t];t==="value"&&(ht(e)?J(this,vt,bt).call(this,e,r=>{this.element.value=String(r)}):it(e)&&e.isBinding?(J(this,vt,bt).call(this,e.state,r=>{this.element.value=String(r)}),this.element.addEventListener(e.event,r=>{let n=In(e.state.get(),r.target.value);e.state.set(n)})):this.element.value=String(this.attrs.value)),!qt.private.includes(t)&&!qt.events.includes(t)&&(qt.boolean.includes(t)?ht(e)?J(this,vt,bt).call(this,e,r=>{r?this.element.setAttribute(t,""):this.element.removeAttribute(t)}):e&&this.element.setAttribute(t,""):ht(e)?J(this,vt,bt).call(this,e,r=>{r?this.element.setAttribute(t,r.toString()):this.element.removeAttribute(t)}):e&&this.element.setAttribute(t,String(e)))}};vt=new WeakSet;bt=function(t,e){this.watchers.push(t.watch(r=>{requestAnimationFrame(()=>{e(r)})})),e(t.get())};function Sr(t){let e={};if(Z(t)){let r=t.split(" ");for(let n of r)e[n]=!0}else it(t)?e=Rt(Rt({},e),t):ee(t)&&Array.from(t).forEach(r=>{e=Rt(Rt({},e),Sr(r))});return e}function In(t,e){let r=typeof t;return r==="string"?String(e):r==="number"?Number(e):r==="boolean"?Boolean(e):e}var qn=class extends Ft{constructor(t){super();U(this,"children"),this.children=t}createElement(){return document.createTextNode("")}connected(){let t=this.element;for(let e of this.children)e.connect(this.element.parentNode,t),t=e.element}disconnected(){for(let t of this.children)t.disconnect()}},Er=class extends Ft{constructor(t){super();ht(t)?this.state=t:this.value=t}createElement(){return document.createTextNode(this.value)}beforeConnect(){this.state&&(this.unwatch=this.state.watch(t=>{this.value=t,this.element.textContent=t}),this.value=this.state.get(),this.element.textContent=this.value)}disconnected(){this.unwatch&&(this.unwatch(),this.unwatch=null)}};function _t(t){if(Wt(t))return()=>t;if(sr(t))return()=>t();if(Z(t)||ar(t))return()=>new Er(t);if(ht(t))return _t(t.get());if(Et(t))return _t(t());throw console.warn(t),new Error(`Expected a string, function or element. Received: ${t}`)}var Or=class extends Ft{constructor(t,e){super();U(this,"source"),U(this,"createItem"),U(this,"connectedItem"),U(this,"unwatch"),this.source=ht(t)?t:N(t),this.createItem=e}update(t){if(!this.isConnected)return;let e=this.createItem(t);e!=null&&(e=_t(e)()),requestAnimationFrame(()=>{!this.isConnected||(this.connectedItem&&this.connectedItem.disconnect(),e&&(this.connectedItem=e,this.connectedItem.connect(this.element.parentNode,this.element)))})}connected(){this.unwatch||(this.unwatch=this.source.watch(this.update.bind(this))),this.update(this.source.get())}disconnected(){this.connectedItem&&this.connectedItem.disconnect(),this.unwatch&&(this.unwatch(),this.unwatch=void 0)}},Un=class extends Or{constructor(t,e,r=null){super(t,n=>n?e:r)}};function Ge(t,e){if(t===e)return!0;if(it(t)&&it(e)){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i in t)if(!Ge(t[i],e[i]))return!1;return!0}if(ee(t)&&ee(e)){if(t.length!==e.length)return!1;for(let r in t)if(!Ge(t[r],e[r]))return!1;return!0}return t===e}var zn=class extends Ft{constructor(t,e,r){super();U(this,"source"),U(this,"getKey"),U(this,"createItem"),U(this,"unwatch"),U(this,"list",[]),this.source=ht(t)?t:N(t),this.getKey=e,this.createItem=r}update(t){if(!this.isConnected)return;let e=t.map(this.getKey),r=[],n=[],i=[];for(let s=0;s<e.length;s++){let p=e[s],c=this.list.find(l=>l.key===p);c?c.index!==s&&i.push({from:c.index,to:s,key:p}):r.push({i:s,key:p})}for(let s of this.list)e.includes(s.key)||n.push({i:s.index,key:s.key});let o=[];for(let s=0;s<t.length;s++){let p=e[s],c=t[s],l=r.some(_=>_.key===p),f;if(l)f=_t(this.createItem(c))();else{let _=this.list.find(A=>A.key===p);Ge(_.value,c)?f=_.node:f=this.createItem(c)}o.push({index:s,key:p,value:c,node:f})}requestAnimationFrame(()=>{for(let c of n){let l=this.list.find(f=>f.key===c.key);l==null||l.node.disconnect()}if(!this.isConnected)return;let s=new DocumentFragment,p;for(let c of o)c.node.connect(s,p),c.node.$isConnected&&(p=c.node.$element,c.node.$element.dataset.mapKey=c.key);this.element.parentNode.insertBefore(s,this.element.nextSibling),this.list=o})}connected(){this.unwatch&&(this.unwatch(),this.unwatch=void 0),this.unwatch=this.source.watch(this.update.bind(this)),this.update(this.source.get())}disconnected(){for(let t of this.list)t.node.disconnect();this.unwatch&&(this.unwatch(),this.unwatch=void 0)}};function H(t){return{get isComponent(){return!0},create({getService:e,debug:r,dolla:n,attrs:i,children:o,$route:s}){let p=[],c=[],l=[],f=[],_=[],A,E={$route:s,$attrs:N({}),getService:e,children:o,debug:r,preload(g){A=g},beforeConnect(g){p.push(g)},connected(g){c.push(g)},beforeDisconnect(g){l.push(g)},disconnected(g){f.push(g)},watchState(g,...w){_.push(g.watch(...w))}};E.$attrs.set(g=>{for(let w in i)g[w]=i[w]});let S=t(n,E);if(S!==null&&(sr(S)&&(S=S()),!Wt(S))){console.log(String(t));let g=`Component must return an $(element) or null. Got: ${S}`;throw E.debug.error(g),new TypeError(g)}return{get isNode(){return!0},get isComponent(){return!0},element:S,async preload(g){return new Promise(w=>{if(Et(A)){let a=A(()=>{w()});if(a){let m=_t(a)();if(Wt(m))g(m);else throw new Error(`Expected preload function to return a node or undefined. Received: ${m}`)}}else w()})},connect(g,w=null){let b=S==null?!1:S.isConnected;if(!b)for(let a of p)a();if(S!=null&&this.element.connect(g,w),!b)for(let a of c)a()},disconnect(){if(S==null?void 0:S.isConnected){for(let g of l)g();S.disconnect();for(let g of f)g();for(let g of _)g();_=[]}}}}}}var se,dt,st,ce,ue,le,he,Ke,Cr,Ve,Pr,Bn=class extends Ft{constructor(t,e,r,n){super();I(this,Ke),I(this,Ve),I(this,se,ir()),I(this,dt,void 0),I(this,st,void 0),I(this,ce,void 0),I(this,ue,void 0),I(this,le,void 0),I(this,he,void 0),U(this,"$route",N({route:"",path:"",params:{},query:{},wildcard:null,depth:1})),this.createElement=_t(r),z(this,ue,n.map("wildcard")),z(this,he,n.map("depth",i=>(i||0)+1)),this.$route.set(i=>{i.$parent=n}),z(this,ce,Ar({getService:t,debug:e,$route:this.$route})),z(this,le,t("@debug").makeChannel("woof:outlet"))}static get isComponent(){return!0}get isConnected(){return P(this,dt)&&P(this,dt).isConnected}route(t,e){if(Z(e)){let r=e;e=H((n,i)=>(i.beforeConnect(()=>{i.getService("@page").go(r,{replace:!0})}),null))}if(Et(e)&&(e=H(e)),!Se(e))throw new TypeError(`Route needs a path and a component. Got: ${path} and ${e}`);return P(this,se).on(t,{component:e}),this}connect(t,e=null){let r=this.isConnected;r||z(this,dt,this.createElement()),P(this,dt).connect(t,e),r||(this.watchState(P(this,ue),n=>n&&J(this,Ke,Cr).call(this,n),{immediate:!0}),this.watchState(this.$route,"route",n=>{P(this,dt).element&&(P(this,dt).element.dataset.outletRoute=n)},{immediate:!0}),this.connected())}disconnect(){this.isConnected&&P(this,dt).disconnect()}};se=new WeakMap;dt=new WeakMap;st=new WeakMap;ce=new WeakMap;ue=new WeakMap;le=new WeakMap;he=new WeakMap;Ke=new WeakSet;Cr=function(t){let e=P(this,se).match(t);if(e){let r=e.route!==this.$route.get("route");this.$route.set(n=>{n.path=e.path,n.route=e.route,n.query=e.query,n.params=e.params,n.wildcard=e.wildcard}),(P(this,st)==null||r)&&J(this,Ve,Pr).call(this,e.props.component)}else P(this,st)&&(P(this,st).disconnect(),z(this,st,null)),this.$route.set(r=>{r.path=null,r.route=null,r.query=Object.create(null),r.params=Object.create(null),r.wildcard=null}),console.warn('No route was matched. Consider adding a wildcard ("*") route to catch this.')};Ve=new WeakSet;Pr=function(t){if(!this.isConnected)return;let r=P(this,ce)(t)(),n=o=>{P(this,st)!==o&&(P(this,st)&&P(this,st).disconnect(),z(this,st,o),P(this,st).connect(P(this,dt).element))},i=Date.now();r.preload(n).then(()=>{let o=Date.now()-i;n(r),P(this,le).log(`[depth ${P(this,he).get()}] mounted route '${this.$route.get("route")}' - preloaded in ${o}ms`)})};function Ar({getService:t,debug:e,$route:r}){function n(i,...o){let s={};o[0]&&!Wt(o[0])&&it(o[0])&&(s=o.shift());let p=o,c=null;if(Z(i))i===""||i===":fragment:"?c="fragment":c="element";else if(Se(i))c="component";else throw new TypeError(`Expected a tag name or a Component. Received: ${i}`);function l(...f){let _=Rt({},s),A=f.length===0?p:f;switch(f[0]&&!Wt(f[0])&&it(f[0])&&(_=A.shift()),A=A.filter(E=>E!=null&&E!==!1).map(E=>_t(E)()),c){case"component":return i.create({getService:t,debug:e.makeChannel("component:~"),dolla:n,attrs:_,children:A,$route:r});case"element":return new Ln(i,_,A);case"fragment":return new qn(A)}}return Object.defineProperty(l,"isDolla",{value:!0,writable:!1}),l}return n.if=function(i,o,s){return new Un(i,o,s)},n.each=function(i,o,s){return new zn(i,o,s)},n.watch=function(i,o){return new Or(i,o)},n.text=function(i){return new Er(i)},n.outlet=function(i="div",o={}){if(r.get("wildcard")==null)throw new Error(`$.outlet() can only be used on routes that end with a wildcard. Current route: ${r.get("route")}`);let s=n(i,o);return new Bn(t,e,s,r)},n.bind=function(i,o="input"){return{isBinding:!0,event:o,state:i}},Object.freeze(n),n}var Hn=tn(en());function Gn(){let t=new Hn.default({lightness:[.6,.7],saturation:[.6,.7]});return{receive(e,r,...n){r==="error"?console.error(`%c[${e}]`,`color:${t.hex(e)};font-weight:bold`,...n):r==="warn"?console.warn(`%c[${e}]`,`color:${t.hex(e)};font-weight:bold`,...n):console.log(`%c[${e}]`,`color:${t.hex(e)};font-weight:bold`,...n)}}}function Kn(t={}){let e=N(t.filter||"*,-woof:*"),r=()=>!0,n=[Gn()];return e.watch(i=>{r=Vn(i)},{immediate:!0}),{$filter:e,makeChannel(i){if(i.includes(","))throw new Error(`Channel names cannot contain commas. Got: ${i}`);return Object.freeze({get name(){return i},set name(o){if(o.includes(","))throw new Error(`Channel names cannot contain commas. Got: ${o}`);i=o},log(...o){if(t.log&&r(i))for(let s of n)s.receive(i,"log",...o)},warn(...o){if(t.warn&&r(i))for(let s of n)s.receive(i,"warn",...o)},error(...o){if(t.error&&r(i))for(let s of n)s.receive(i,"error",...o)}})},addReceiver(i){n.push(i)}}}function Vn(t){if(t instanceof RegExp)return n=>t.test(n);let e={positive:[],negative:[]},r=t.split(",").map(n=>n.trim()).filter(n=>n!=="");for(let n of r){let i=n.startsWith("-")?"negative":"positive";n==="*"?e[i].push(function(o){return!0}):n.endsWith("*")?e[i].push(function(o){return o.startsWith(n.slice(1,n.length-1))}):e[i].push(function(o){return o===n.slice(1,n.length-1)})}return n=>Jn(e,n)}function Jn(t,e){let{positive:r,negative:n}=t;return!(n.some(i=>i(e))||r.length>0&&!r.some(i=>i(e)))}function kt(t){return{get isService(){return!0},create({getService:e,debug:r,options:n={}}){let i=[],o=[],s=[],c=t({debug:r,options:n,getService:e,beforeConnect(l){i.push(l)},connected(l){o.push(l)},watchState(l,...f){s.push(l.watch(...f))}});if(!it(c))throw new TypeError(`Services must return an object. Got: ${c}`);return{exports:c,beforeConnect(){for(let l of i)l()},connected(){for(let l of o)l()}}}}}function Xn(...t){t=t.filter(r=>r);let e=t.shift();if(e)for(let r of t)e[e.length-1]!=="/"&&(r[0]!=="/"?e+="/"+r:e+=r);return e!=null?e:""}var Yn=/(noopener|noreferrer) (noopener|noreferrer)/,Zn=/^[\w-_]+:/;function Qn(t,e,r=window){function n(o){if(!(!o||o===t))return o.localName!=="a"||o.href===void 0?n(o.parentNode):o}function i(o){if(o.button&&o.button!==0||o.ctrlKey||o.metaKey||o.altKey||o.shiftKey||o.defaultPrevented)return;let s=n(o.target);!s||r.location.protocol!==s.protocol||r.location.hostname!==s.hostname||r.location.port!==s.port||s.hasAttribute("data-router-ignore")||s.hasAttribute("download")||s.getAttribute("target")==="_blank"&&Yn.test(s.getAttribute("rel"))||Zn.test(s.getAttribute("href"))||(o.preventDefault(),e(s))}return t.addEventListener("click",i),function(){t.removeEventListener("click",i)}}var $n=kt(t=>{t.debug.name="woof:@http";let e=[],r=t.options.fetch||window.fetch.bind(window),n=0;function i(o,s){return new ei({id:++n,method:o,url:s,fetch:r,middleware:e,debug:t.debug})}return{request:i,use(...o){return e.push(...o),this},get(o){return i("get",o)},put(o){return i("put",o)},patch(o){return i("patch",o)},post(o){return i("post",o)},delete(o){return i("delete",o)},head(o){return i("head",o)}}}),ti=$n,Ut,zt,tt,xt,X,jt,fe,de,Fr,ct,Bt,Ht,Gt,pe,ei=class{constructor({id:t,debug:e,method:r,url:n,middleware:i,fetch:o}){I(this,Gt),I(this,Ut,void 0),I(this,zt,void 0),I(this,tt,void 0),I(this,xt,void 0),I(this,X,void 0),I(this,jt,void 0),I(this,fe,void 0),I(this,de,void 0),I(this,Fr,void 0),I(this,ct,void 0),I(this,Bt,void 0),I(this,Ht,!0);let[s,p]=n.split("?");z(this,Ut,t),z(this,zt,e),z(this,tt,s),z(this,jt,i),z(this,fe,o),z(this,xt,new URLSearchParams(p||"")),z(this,X,{method:r,headers:new Headers,body:void 0}),z(this,Bt,c=>c>=200&&c<300)}get isRelative(){return!/^https?\:\/\//.test(P(this,tt))}url(t){if(t===void 0)return P(this,tt);if(Z(t))z(this,tt,t);else throw new TypeError(`Expected a string. Received: ${t}`)}header(t,e){if(Z(t)){if(e===void 0)return P(this,X).headers.get(t);if(t.toLowerCase()==="content-type"&&z(this,Ht,!1),e===null)return P(this,X).headers.delete(e),this;if(Z(e))return P(this,X).headers.set(t,e),this}else if(it(t)&&e==null){for(let r in t)this.header(r,t[r]);return this}throw new Error(`Expected a key and value, an object, or a header name only. Received: ${t} and ${e}`)}headers(t,e){return this.header(t,e),this}query(t,e){if(Z(t)){if(e===void 0)return P(this,xt).get(t);if(e===null)return P(this,xt).delete(e),this;if(Z(e))return P(this,xt).set(header,e),this}else if(it(t)&&e==null){for(let r in t)this.query(r,t[r]);return this}throw new Error(`Expected a key and value, an object, or a parameter name only. Received: ${t} and ${e}`)}body(t){return it(t)?(P(this,Ht)&&this.header("content-type","application/json"),P(this,X).body=JSON.stringify(t)):t instanceof FormData?(P(this,Ht)&&this.header("content-type","application/x-www-form-urlencoded"),P(this,X).body=t):P(this,X).body=t,this}ok(t){z(this,Bt,t)}then(...t){return P(this,ct)||z(this,ct,J(this,Gt,pe).call(this)),P(this,ct).then(...t)}catch(...t){return P(this,ct)||z(this,ct,J(this,Gt,pe).call(this)),P(this,ct).catch(...t)}finally(...t){return P(this,ct)||z(this,ct,J(this,Gt,pe).call(this)),P(this,ct).finally(...t)}};Ut=new WeakMap;zt=new WeakMap;tt=new WeakMap;xt=new WeakMap;X=new WeakMap;jt=new WeakMap;fe=new WeakMap;de=new WeakMap;Fr=new WeakMap;ct=new WeakMap;Bt=new WeakMap;Ht=new WeakMap;Gt=new WeakSet;pe=async function(){let t={status:200,statusText:"OK",headers:{},body:void 0},e=async()=>{P(this,zt).log(`[request:${P(this,Ut)}] ${P(this,X).method.toUpperCase()} ${P(this,tt)}`);let n=Date.now(),i=P(this,xt).toString(),o=i.length>0?P(this,tt)+"?"+i:P(this,tt),s=await P(this,fe).call(this,o,P(this,X));t.status=s.status,t.statusText=s.statusText,s.headers.forEach((c,l)=>{t.headers[l]=c});let p=t.headers["content-type"];Et(P(this,de))?t.body=await P(this,de).call(this,s):p.includes("application/json")?t.body=await s.json():p.includes("application/x-www-form-urlencoded")?t.body=await s.formData():t.body=await s.text(),P(this,zt).log(`[response:${P(this,Ut)}] ${P(this,X).method.toUpperCase()} ${P(this,tt)}`,`(+${Math.round(Date.now()-n)}ms)`,t)},r=(n=0)=>{let i=P(this,jt)[n],o=P(this,jt)[n+1]?r(n+1):e;return async()=>i(this,o)};if(P(this,jt).length>0?await r()():await e(),P(this,Bt).call(this,t.status)==!1){let n=new ri(`${t.status} ${t.statusText}: Request failed (${P(this,X).method.toUpperCase()} ${P(this,tt)})`);throw n.method=P(this,X).method,n.url=P(this,tt),n.status=t.status,n.statusText=t.statusText,n.headers=t.headers,n.body=t.body,n}return t};var ri=class extends Error{constructor(){super(...arguments);U(this,"method"),U(this,"url"),U(this,"status"),U(this,"statusText"),U(this,"headers"),U(this,"body")}},ni=kt(t=>{t.debug.name="woof:@page";let e=N(document==null?void 0:document.title),r=t.options.history;return t.connected(()=>{document&&t.watchState(e,n=>{document.title=n})}),{$title:e,$route:N({path:"",query:{},params:{},route:"",wildcard:null}),back(n=1){r.go(-n)},forward(n=1){r.go(n)},go(n,i={}){if(Z(n))i.replace?r.replace(n):r.push(n);else throw new TypeError(`Expected a string. Received: ${n}`)}}}),ii=ni;function jr(t={}){let e=ir(),r=Kn(t.debug),n=r.makeChannel("woof:app"),i={},o=!1,s=async()=>!0,p,c,l,f;t.history?p=t.history:t.hash?p=nn():p=rn();let _={route(S,g){if(Et(g)&&(g=H(g)),!Se(g))throw new TypeError(`Route needs a path and a component. Got: ${S} and ${g}`);return e.on(S,{component:g}),_},service(S,g,w){if(Et(g)&&(g=kt(g)),!xn(g))throw new TypeError(`Expected a service. Got: ${g}`);return i[S]||(i[S]={template:g,instance:null,options:w}),i[S].template=g,w!==void 0&&(i[S].options=w),_},setup(S){return s=async()=>S(A),_},connect(S){if(Z(S)&&(S=document.querySelector(S)),!(S instanceof Node))throw new TypeError(`Expected a DOM node. Received: ${S}`);c=S;for(let g in i){let w=i[g];w.instance=w.template.create({getService:A,debug:r.makeChannel(`service:${g}`),options:w.options})}o=!0,f=Ar({getService:A,debug:r,$route:A("@page").$route});for(let g in i)i[g].instance.beforeConnect();s().then(()=>{p.listen(E),E(p);for(let g in i)i[g].instance.connected();Qn(c,g=>{let w=g.getAttribute("href");/^https?:\/\/|^\//.test(w)||(w=Xn(p.location.pathname,w)),n.log("caught link click: "+w),p.push(w)})})}};function A(S){if(!o)throw new Error(`A service was requested before it was created. Got: ${S}`);if(i[S])return i[S].instance.exports;throw new Error(`Service is not registered in this app. Got: ${S}`)}function E({location:S}){let g=e.match(S.pathname+S.search);if(g){let{$route:w}=A("@page"),b=g.route!==w.get("route");if(w.set(a=>{a.path=g.path,a.route=g.route,a.params=g.params,a.query=g.query,a.wildcard=g.wildcard}),b){let a=g.props.component.create({getService:A,dolla:f,debug:r.makeChannel("component:~"),attrs:{},children:[],$route:w}),u=v=>{l&&l.disconnect(),l=v,l.connect(c);let k=l.isComponent?l.element.element:l.element;k&&(k.dataset.appRoute=w.get("route"))},m=Date.now();a.preload(u).then(()=>{let v=Date.now()-m;u(a),n.log(`[depth 0] mounted route '${g.route}' - preloaded in ${v}ms`)})}}else n.warn('No route was matched. Consider adding a wildcard ("*") route to catch this.')}return _.service("@debug",()=>r),_.service("@http",ti),_.service("@page",ii,{history:p}),_}var oi=kt(t=>{let e=N(0);return t.connected(()=>{setInterval(()=>{e.set(r=>r+1)},1e3)}),{$current:e,reset(){e.set(0)}}}),Mr=oi;var ai=kt(t=>{let e=N({x:0,y:0});return t.connected(()=>{t.debug.log("listening for mousemove events"),window.addEventListener("mousemove",r=>{e.set({x:r.clientX,y:r.clientY})})}),{$position:e}}),Rr=ai;function G(t){t.beforeConnect(()=>{t.debug.log("lifecycle: beforeConnect")}),t.connected(()=>{t.debug.log("lifecycle: connected")}),t.beforeDisconnect(()=>{t.debug.log("lifecycle: beforeDisconnect")}),t.disconnected(()=>{t.debug.log("lifecycle: disconnected")})}var si=H((t,e)=>{e.debug.name="ToggleExample",G(e);let r=N(!1),n=r.map(i=>i?"ON":"OFF");return t("div",{class:"example"},t("h3",null,"Dynamic classes and ",t("code",null,"$state.map()")),t("div",{class:{active:r},onclick:()=>{r.set(i=>!i)}},t.text(n),"\xA0(click to toggle)"))}),Tr=si;var ci=H((t,e)=>{e.debug.name="CounterExample",G(e);let r=e.getService("counter"),n=r.$current.map(i=>` the number is: ${i}`);return t("div",{class:"example"},t("h3",null,"Shared state with services"),t("div",null,t("p",null,t.text(n)),t("button",{onclick:r.reset},"Reset"),t(ui,null)))}),Wr=ci,ui=H((t,e)=>{let{$current:r}=e.getService("counter");return t("h1",null,t.text(r))});var li=H((t,e)=>{e.debug.name="ConditionalExample",G(e);let r=N(!1),n=r.map(i=>i?"Hide Text":"Show Text");return t("div",{class:"example"},t("h3",null,"Conditional rendering with ",t("code",null,"$.if()")),t("div",null,t("button",{onclick:()=>{r.set(i=>!i)}},t.text(n)),t.if(r,t("span",null,"Hello there!"))))}),Dr=li;var hi=H((t,e)=>{e.debug.name="DynamicListExample",G(e);let r=["apple","banana","potato","fried chicken"],n=N(r),i=N(""),o=()=>n.get().map(p=>p).sort(),s=()=>{n.set(r)};return t("div",{class:"example"},t("h3",null,"Dynamic Lists with ",t("code",null,"$.each()")),t("div",null,t("button",{onclick:()=>{n.set(o())}},"Sort A to Z"),t("button",{onclick:()=>{n.set(o().reverse())}},"Sort Z to A"),t("div",{class:"flex-center"},t("input",{type:"text",value:i,oninput:p=>{i.set(p.target.value)}}),t("button",{disabled:i.map(p=>p.trim()==""),onclick:()=>{n.set(p=>{p.push(i.get())}),i.set("")}},"Add Item"),t("button",{onclick:s},"Reset List")),t.each(n,p=>p,p=>t("li",{onclick:()=>{alert(p)}},p))))}),Nr=hi;var fi=H((t,e)=>{e.debug.name="TwoWayBindExample",G(e);let r=N("edit me"),n=N(18);return t("div",{class:"example"},t("h3",null,"Two way data binding with ",t("code",null,"$.bind()")),t("div",null,t("input",{value:t.bind(r)}),t("input",{value:t.bind(n),type:"number"})," ",t("p",{style:{fontSize:n.map(i=>i+"px")}},t.text(r))))}),Lr=fi;var di=H((t,e)=>{e.debug.name="FormExample",G(e);let r=N(""),n=N(""),i=N(18),o=wr(r,n,i,(c,l,f)=>{let _=[];return c.trim()==""&&_.push("First name can't be empty."),l.trim()==""&&_.push("Last name can't be empty."),f<18&&_.push("You must be 18 or older to view this content. \u{1F440}"),_}),s=o.map(c=>c.length>0);function p(c){c.preventDefault(),alert("Thank you for your submission.")}return t("div",{class:"example"},t("h3",null,"Form with validation"),t("form",{onsubmit:p},t("input",{type:"text",value:t.bind(r),placeholder:"First Name"}),t("input",{type:"text",value:t.bind(n),placeholder:"Last Name"}),t("input",{type:"number",value:t.bind(i),placeholder:"Age"}),t("button",{disabled:s},"Submit"),t.if(s,()=>t.each(o,c=>c,c=>t("div",{style:"color:red"},c)))))}),Ir=di;var pi=H((t,e)=>{e.debug.name="MouseFollowerExample",G(e);let{$position:r}=e.getService("mouse"),n="#ff0088",i=N(!1),o=N(n),s=r.map(f=>`translate(${f.x}px, ${f.y}px)`),p=o.map(f=>f.toLowerCase()!==n),c=()=>{o.set(n)},l=()=>{let f=[Math.random()*256,Math.random()*256,Math.random()*256].map(Math.floor).map(_=>_.toString(16)).join("");o.set("#"+f)};return t("div",{class:"example"},t("h3",null,"More complex state management"),t("div",null,t.if(i,t("div",{class:"follower",style:{transform:s,backgroundColor:o}})),t("button",{onclick:l,disabled:i.map(f=>!f)},"Change Follower Color"),t.if(p,t("button",{onclick:c,disabled:i.map(f=>!f)},"Reset to Best Color")),t("button",{onclick:()=>i.set(f=>!f)},t.text(i.map(f=>f?"Turn Off Follower":"Turn On Follower")))))}),qr=pi;var mi=H((t,e)=>{e.debug.name="HTTPRequestExample",G(e);let r=N(!1),n=N(),i=r.map(s=>s?"NOW LOADING...":"Loaded!"),o=()=>(r.set(!0),e.getService("@http").get("https://dog.ceo/api/breeds/image/random").then(s=>{n.set(s.body.message)}).finally(()=>{r.set(!1)}));return e.connected(()=>{o()}),t("div",{class:"example"},t("h3",null,"HTTP requests with ",t("code",null,"@http")," service"),t("div",null,t("img",{src:n,style:{height:"400px",border:"2px solid orange"}}),t("button",{onclick:o},"Next Doggo"),t.text(i)))}),Ur=mi;var me=jr({hash:!0,debug:{filter:"*",log:!0,warn:!0,error:!0}});me.service("counter",Mr);me.service("mouse",Rr);me.route("*",(t,e)=>(e.debug.name="\u{1F415}",e.debug.log("hi"),G(e),e.preload(r=>t("div",null,t("h1",null,"WELCOME"),t("p",null,"This page has examples of things woof can do."),t("p",null,"Click the button below to demonstrate calling ",t("code",null,"done()")," in a component's preload hook. When it's triggered by an event, you can create disclaimer pages like this. Generally you would use this to show temp content while making API calls."),t("button",{onclick:()=>r(),title:"demonstrate calling done() in a component's preload hook"},"Continue"))),e.connected(()=>{let r=e.getService("@page"),n=e.getService("mouse");e.watchState(n.$position,i=>{r.$title.set(`x:${Math.round(i.x)} y:${Math.round(i.y)}`)})}),t("div",{class:"demo"},t("nav",{class:"nav"},t("ul",null,t("li",null,t("a",{href:"/examples"},"Examples")),t("li",null,t("a",{href:"/nested/one"},"Nested: #1")),t("li",null,t("a",{href:"/nested/two"},"Nested: #2")),t("li",null,t("a",{href:"/nested/invalid"},"Nested: Redirect *")))),t.outlet().route("examples",r=>r("div",null,r(Tr,null),r(Wr,null),r(Dr,null),r(Nr,null),r(Lr,null),r(Ir,null),r(qr,null),r(Ur,null))).route("nested/*",r=>r("div",null,r("h1",null,"Nested Routes!"),r.outlet().route("one",n=>n("h1",null,"NESTED #1")).route("two",n=>n("h1",null,"NESTED #2")).route("*","/nested/one"))))));me.connect("#app");})();
//# sourceMappingURL=app.5BPXLAFH.js.map
